(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ql(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const vt={},ko=[],Ln=()=>{},Oh=()=>!1,wa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Gl=e=>e.startsWith("onUpdate:"),on=Object.assign,Wl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},wv=Object.prototype.hasOwnProperty,mt=(e,t)=>wv.call(e,t),We=Array.isArray,Co=e=>Li(e)==="[object Map]",xa=e=>Li(e)==="[object Set]",pf=e=>Li(e)==="[object Date]",Xe=e=>typeof e=="function",Ot=e=>typeof e=="string",Tn=e=>typeof e=="symbol",_t=e=>e!==null&&typeof e=="object",Ah=e=>(_t(e)||Xe(e))&&Xe(e.then)&&Xe(e.catch),Mh=Object.prototype.toString,Li=e=>Mh.call(e),xv=e=>Li(e).slice(8,-1),Dh=e=>Li(e)==="[object Object]",Yl=e=>Ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,di=ql(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Sa=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Sv=/-\w/g,wn=Sa(e=>e.replace(Sv,t=>t.slice(1).toUpperCase())),Ev=/\B([A-Z])/g,oo=Sa(e=>e.replace(Ev,"-$1").toLowerCase()),Ea=Sa(e=>e.charAt(0).toUpperCase()+e.slice(1)),Mu=Sa(e=>e?`on${Ea(e)}`:""),ar=(e,t)=>!Object.is(e,t),Ms=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Rh=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Us=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let gf;const ka=()=>gf||(gf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sn(e){if(We(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Ot(r)?Pv(r):sn(r);if(o)for(const i in o)t[i]=o[i]}return t}else if(Ot(e)||_t(e))return e}const kv=/;(?![^(]*\))/g,Cv=/:([^]+)/,Iv=/\/\*[^]*?\*\//g;function Pv(e){const t={};return e.replace(Iv,"").split(kv).forEach(n=>{if(n){const r=n.split(Cv);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function rn(e){let t="";if(Ot(e))t=e;else if(We(e))for(let n=0;n<e.length;n++){const r=rn(e[n]);r&&(t+=r+" ")}else if(_t(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Tv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nv=ql(Tv);function zh(e){return!!e||e===""}function $v(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ca(e[r],t[r]);return n}function Ca(e,t){if(e===t)return!0;let n=pf(e),r=pf(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Tn(e),r=Tn(t),n||r)return e===t;if(n=We(e),r=We(t),n||r)return n&&r?$v(e,t):!1;if(n=_t(e),r=_t(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const s in e){const u=e.hasOwnProperty(s),c=t.hasOwnProperty(s);if(u&&!c||!u&&c||!Ca(e[s],t[s]))return!1}}return String(e)===String(t)}function Ov(e,t){return e.findIndex(n=>Ca(n,t))}const Bh=e=>!!(e&&e.__v_isRef===!0),st=e=>Ot(e)?e:e==null?"":We(e)||_t(e)&&(e.toString===Mh||!Xe(e.toString))?Bh(e)?st(e.value):JSON.stringify(e,Fh,2):String(e),Fh=(e,t)=>Bh(t)?Fh(e,t.value):Co(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o],i)=>(n[Du(r,i)+" =>"]=o,n),{})}:xa(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Du(n))}:Tn(t)?Du(t):_t(t)&&!We(t)&&!Dh(t)?String(t):t,Du=(e,t="")=>{var n;return Tn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qt;class jh{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Qt,!t&&Qt&&(this.index=(Qt.scopes||(Qt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Qt;try{return Qt=this,t()}finally{Qt=n}}}on(){++this._on===1&&(this.prevScope=Qt,Qt=this)}off(){this._on>0&&--this._on===0&&(Qt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Ia(e){return new jh(e)}function Pa(){return Qt}function hi(e,t=!1){Qt&&Qt.cleanups.push(e)}let bt;const Ru=new WeakSet;class Vh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Qt&&Qt.active&&Qt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ru.has(this)&&(Ru.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Hh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mf(this),Zh(this);const t=bt,n=Pn;bt=this,Pn=!0;try{return this.fn()}finally{Uh(this),bt=t,Pn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ql(t);this.deps=this.depsTail=void 0,mf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ru.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ll(this)&&this.run()}get dirty(){return ll(this)}}let Lh=0,pi,gi;function Hh(e,t=!1){if(e.flags|=8,t){e.next=gi,gi=e;return}e.next=pi,pi=e}function Xl(){Lh++}function Jl(){if(--Lh>0)return;if(gi){let t=gi;for(gi=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;pi;){let t=pi;for(pi=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Zh(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Uh(e){let t,n=e.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),Ql(r),Av(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=n}function ll(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Kh(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Kh(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ci)||(e.globalVersion=Ci,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ll(e))))return;e.flags|=2;const t=e.dep,n=bt,r=Pn;bt=e,Pn=!0;try{Zh(e);const o=e.fn(e._value);(t.version===0||ar(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{bt=n,Pn=r,Uh(e),e.flags&=-3}}function Ql(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ql(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Av(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Pn=!0;const qh=[];function lr(){qh.push(Pn),Pn=!1}function cr(){const e=qh.pop();Pn=e===void 0?!0:e}function mf(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=bt;bt=void 0;try{t()}finally{bt=n}}}let Ci=0;class Mv{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ta{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!bt||!Pn||bt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==bt)n=this.activeLink=new Mv(bt,this),bt.deps?(n.prevDep=bt.depsTail,bt.depsTail.nextDep=n,bt.depsTail=n):bt.deps=bt.depsTail=n,Gh(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=bt.depsTail,n.nextDep=void 0,bt.depsTail.nextDep=n,bt.depsTail=n,bt.deps===n&&(bt.deps=r)}return n}trigger(t){this.version++,Ci++,this.notify(t)}notify(t){Xl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Jl()}}}function Gh(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Gh(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ks=new WeakMap,Wr=Symbol(""),cl=Symbol(""),Ii=Symbol("");function en(e,t,n){if(Pn&&bt){let r=Ks.get(e);r||Ks.set(e,r=new Map);let o=r.get(n);o||(r.set(n,o=new Ta),o.map=r,o.key=n),o.track()}}function tr(e,t,n,r,o,i){const s=Ks.get(e);if(!s){Ci++;return}const u=c=>{c&&c.trigger()};if(Xl(),t==="clear")s.forEach(u);else{const c=We(e),f=c&&Yl(n);if(c&&n==="length"){const h=Number(r);s.forEach((p,v)=>{(v==="length"||v===Ii||!Tn(v)&&v>=h)&&u(p)})}else switch((n!==void 0||s.has(void 0))&&u(s.get(n)),f&&u(s.get(Ii)),t){case"add":c?f&&u(s.get("length")):(u(s.get(Wr)),Co(e)&&u(s.get(cl)));break;case"delete":c||(u(s.get(Wr)),Co(e)&&u(s.get(cl)));break;case"set":Co(e)&&u(s.get(Wr));break}}Jl()}function Dv(e,t){const n=Ks.get(e);return n&&n.get(t)}function yo(e){const t=ft(e);return t===e?t:(en(t,"iterate",Ii),bn(e)?t:t.map(Gt))}function Na(e){return en(e=ft(e),"iterate",Ii),e}const Rv={__proto__:null,[Symbol.iterator](){return zu(this,Symbol.iterator,Gt)},concat(...e){return yo(this).concat(...e.map(t=>We(t)?yo(t):t))},entries(){return zu(this,"entries",e=>(e[1]=Gt(e[1]),e))},every(e,t){return Xn(this,"every",e,t,void 0,arguments)},filter(e,t){return Xn(this,"filter",e,t,n=>n.map(Gt),arguments)},find(e,t){return Xn(this,"find",e,t,Gt,arguments)},findIndex(e,t){return Xn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Xn(this,"findLast",e,t,Gt,arguments)},findLastIndex(e,t){return Xn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Xn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Bu(this,"includes",e)},indexOf(...e){return Bu(this,"indexOf",e)},join(e){return yo(this).join(e)},lastIndexOf(...e){return Bu(this,"lastIndexOf",e)},map(e,t){return Xn(this,"map",e,t,void 0,arguments)},pop(){return ti(this,"pop")},push(...e){return ti(this,"push",e)},reduce(e,...t){return vf(this,"reduce",e,t)},reduceRight(e,...t){return vf(this,"reduceRight",e,t)},shift(){return ti(this,"shift")},some(e,t){return Xn(this,"some",e,t,void 0,arguments)},splice(...e){return ti(this,"splice",e)},toReversed(){return yo(this).toReversed()},toSorted(e){return yo(this).toSorted(e)},toSpliced(...e){return yo(this).toSpliced(...e)},unshift(...e){return ti(this,"unshift",e)},values(){return zu(this,"values",Gt)}};function zu(e,t,n){const r=Na(e),o=r[t]();return r!==e&&!bn(e)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=n(i.value)),i}),o}const zv=Array.prototype;function Xn(e,t,n,r,o,i){const s=Na(e),u=s!==e&&!bn(e),c=s[t];if(c!==zv[t]){const p=c.apply(e,i);return u?Gt(p):p}let f=n;s!==e&&(u?f=function(p,v){return n.call(this,Gt(p),v,e)}:n.length>2&&(f=function(p,v){return n.call(this,p,v,e)}));const h=c.call(s,f,r);return u&&o?o(h):h}function vf(e,t,n,r){const o=Na(e);let i=n;return o!==e&&(bn(e)?n.length>3&&(i=function(s,u,c){return n.call(this,s,u,c,e)}):i=function(s,u,c){return n.call(this,s,Gt(u),c,e)}),o[t](i,...r)}function Bu(e,t,n){const r=ft(e);en(r,"iterate",Ii);const o=r[t](...n);return(o===-1||o===!1)&&rc(n[0])?(n[0]=ft(n[0]),r[t](...n)):o}function ti(e,t,n=[]){lr(),Xl();const r=ft(e)[t].apply(e,n);return Jl(),cr(),r}const Bv=ql("__proto__,__v_isRef,__isVue"),Wh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Tn));function Fv(e){Tn(e)||(e=String(e));const t=ft(this);return en(t,"has",e),t.hasOwnProperty(e)}class Yh{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(o?i?Wv:ep:i?Qh:Jh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=We(t);if(!o){let c;if(s&&(c=Rv[n]))return c;if(n==="hasOwnProperty")return Fv}const u=Reflect.get(t,n,yt(t)?t:r);return(Tn(n)?Wh.has(n):Bv(n))||(o||en(t,"get",n),i)?u:yt(u)?s&&Yl(n)?u:u.value:_t(u)?o?tc(u):io(u):u}}class Xh extends Yh{constructor(t=!1){super(!1,t)}set(t,n,r,o){let i=t[n];if(!this._isShallow){const c=Tr(i);if(!bn(r)&&!Tr(r)&&(i=ft(i),r=ft(r)),!We(t)&&yt(i)&&!yt(r))return c||(i.value=r),!0}const s=We(t)&&Yl(n)?Number(n)<t.length:mt(t,n),u=Reflect.set(t,n,r,yt(t)?t:o);return t===ft(o)&&(s?ar(r,i)&&tr(t,"set",n,r):tr(t,"add",n,r)),u}deleteProperty(t,n){const r=mt(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&tr(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!Tn(n)||!Wh.has(n))&&en(t,"has",n),r}ownKeys(t){return en(t,"iterate",We(t)?"length":Wr),Reflect.ownKeys(t)}}class jv extends Yh{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Vv=new Xh,Lv=new jv,Hv=new Xh(!0);const fl=e=>e,ys=e=>Reflect.getPrototypeOf(e);function Zv(e,t,n){return function(...r){const o=this.__v_raw,i=ft(o),s=Co(i),u=e==="entries"||e===Symbol.iterator&&s,c=e==="keys"&&s,f=o[e](...r),h=n?fl:t?qs:Gt;return!t&&en(i,"iterate",c?cl:Wr),{next(){const{value:p,done:v}=f.next();return v?{value:p,done:v}:{value:u?[h(p[0]),h(p[1])]:h(p),done:v}},[Symbol.iterator](){return this}}}}function _s(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Uv(e,t){const n={get(o){const i=this.__v_raw,s=ft(i),u=ft(o);e||(ar(o,u)&&en(s,"get",o),en(s,"get",u));const{has:c}=ys(s),f=t?fl:e?qs:Gt;if(c.call(s,o))return f(i.get(o));if(c.call(s,u))return f(i.get(u));i!==s&&i.get(o)},get size(){const o=this.__v_raw;return!e&&en(ft(o),"iterate",Wr),o.size},has(o){const i=this.__v_raw,s=ft(i),u=ft(o);return e||(ar(o,u)&&en(s,"has",o),en(s,"has",u)),o===u?i.has(o):i.has(o)||i.has(u)},forEach(o,i){const s=this,u=s.__v_raw,c=ft(u),f=t?fl:e?qs:Gt;return!e&&en(c,"iterate",Wr),u.forEach((h,p)=>o.call(i,f(h),f(p),s))}};return on(n,e?{add:_s("add"),set:_s("set"),delete:_s("delete"),clear:_s("clear")}:{add(o){!t&&!bn(o)&&!Tr(o)&&(o=ft(o));const i=ft(this);return ys(i).has.call(i,o)||(i.add(o),tr(i,"add",o,o)),this},set(o,i){!t&&!bn(i)&&!Tr(i)&&(i=ft(i));const s=ft(this),{has:u,get:c}=ys(s);let f=u.call(s,o);f||(o=ft(o),f=u.call(s,o));const h=c.call(s,o);return s.set(o,i),f?ar(i,h)&&tr(s,"set",o,i):tr(s,"add",o,i),this},delete(o){const i=ft(this),{has:s,get:u}=ys(i);let c=s.call(i,o);c||(o=ft(o),c=s.call(i,o)),u&&u.call(i,o);const f=i.delete(o);return c&&tr(i,"delete",o,void 0),f},clear(){const o=ft(this),i=o.size!==0,s=o.clear();return i&&tr(o,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Zv(o,e,t)}),n}function ec(e,t){const n=Uv(e,t);return(r,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(mt(n,o)&&o in r?n:r,o,i)}const Kv={get:ec(!1,!1)},qv={get:ec(!1,!0)},Gv={get:ec(!0,!1)};const Jh=new WeakMap,Qh=new WeakMap,ep=new WeakMap,Wv=new WeakMap;function Yv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xv(e){return e.__v_skip||!Object.isExtensible(e)?0:Yv(xv(e))}function io(e){return Tr(e)?e:nc(e,!1,Vv,Kv,Jh)}function tp(e){return nc(e,!1,Hv,qv,Qh)}function tc(e){return nc(e,!0,Lv,Gv,ep)}function nc(e,t,n,r,o){if(!_t(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Xv(e);if(i===0)return e;const s=o.get(e);if(s)return s;const u=new Proxy(e,i===2?r:n);return o.set(e,u),u}function ur(e){return Tr(e)?ur(e.__v_raw):!!(e&&e.__v_isReactive)}function Tr(e){return!!(e&&e.__v_isReadonly)}function bn(e){return!!(e&&e.__v_isShallow)}function rc(e){return e?!!e.__v_raw:!1}function ft(e){const t=e&&e.__v_raw;return t?ft(t):e}function Yr(e){return!mt(e,"__v_skip")&&Object.isExtensible(e)&&Rh(e,"__v_skip",!0),e}const Gt=e=>_t(e)?io(e):e,qs=e=>_t(e)?tc(e):e;function yt(e){return e?e.__v_isRef===!0:!1}function rt(e){return np(e,!1)}function Pi(e){return np(e,!0)}function np(e,t){return yt(e)?e:new Jv(e,t)}class Jv{constructor(t,n){this.dep=new Ta,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ft(t),this._value=n?t:Gt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||bn(t)||Tr(t);t=r?t:ft(t),ar(t,n)&&(this._rawValue=t,this._value=r?t:Gt(t),this.dep.trigger())}}function Pe(e){return yt(e)?e.value:e}function it(e){return Xe(e)?e():Pe(e)}const Qv={get:(e,t,n)=>t==="__v_raw"?e:Pe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return yt(o)&&!yt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function rp(e){return ur(e)?e:new Proxy(e,Qv)}class ey{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ta,{get:r,set:o}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=o}get value(){return this._value=this._get()}set value(t){this._set(t)}}function ty(e){return new ey(e)}function op(e){const t=We(e)?new Array(e.length):{};for(const n in e)t[n]=ip(e,n);return t}class ny{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Dv(ft(this._object),this._key)}}class ry{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function St(e,t,n){return yt(e)?e:Xe(e)?new ry(e):_t(e)&&arguments.length>1?ip(e,t,n):rt(e)}function ip(e,t,n){const r=e[t];return yt(r)?r:new ny(e,t,n)}class oy{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ta(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ci-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&bt!==this)return Hh(this,!0),!0}get value(){const t=this.dep.track();return Kh(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function iy(e,t,n=!1){let r,o;return Xe(e)?r=e:(r=e.get,o=e.set),new oy(r,o,n)}const bs={},Gs=new WeakMap;let Zr;function sy(e,t=!1,n=Zr){if(n){let r=Gs.get(n);r||Gs.set(n,r=[]),r.push(e)}}function ay(e,t,n=vt){const{immediate:r,deep:o,once:i,scheduler:s,augmentJob:u,call:c}=n,f=N=>o?N:bn(N)||o===!1||o===0?nr(N,1):nr(N);let h,p,v,m,E=!1,k=!1;if(yt(e)?(p=()=>e.value,E=bn(e)):ur(e)?(p=()=>f(e),E=!0):We(e)?(k=!0,E=e.some(N=>ur(N)||bn(N)),p=()=>e.map(N=>{if(yt(N))return N.value;if(ur(N))return f(N);if(Xe(N))return c?c(N,2):N()})):Xe(e)?t?p=c?()=>c(e,2):e:p=()=>{if(v){lr();try{v()}finally{cr()}}const N=Zr;Zr=h;try{return c?c(e,3,[m]):e(m)}finally{Zr=N}}:p=Ln,t&&o){const N=p,re=o===!0?1/0:o;p=()=>nr(N(),re)}const M=Pa(),A=()=>{h.stop(),M&&M.active&&Wl(M.effects,h)};if(i&&t){const N=t;t=(...re)=>{N(...re),A()}}let $=k?new Array(e.length).fill(bs):bs;const P=N=>{if(!(!(h.flags&1)||!h.dirty&&!N))if(t){const re=h.run();if(o||E||(k?re.some((ce,q)=>ar(ce,$[q])):ar(re,$))){v&&v();const ce=Zr;Zr=h;try{const q=[re,$===bs?void 0:k&&$[0]===bs?[]:$,m];$=re,c?c(t,3,q):t(...q)}finally{Zr=ce}}}else h.run()};return u&&u(P),h=new Vh(p),h.scheduler=s?()=>s(P,!1):P,m=N=>sy(N,!1,h),v=h.onStop=()=>{const N=Gs.get(h);if(N){if(c)c(N,4);else for(const re of N)re();Gs.delete(h)}},t?r?P(!0):$=h.run():s?s(P.bind(null,!0),!0):h.run(),A.pause=h.pause.bind(h),A.resume=h.resume.bind(h),A.stop=A,A}function nr(e,t=1/0,n){if(t<=0||!_t(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,yt(e))nr(e.value,t,n);else if(We(e))for(let r=0;r<e.length;r++)nr(e[r],t,n);else if(xa(e)||Co(e))e.forEach(r=>{nr(r,t,n)});else if(Dh(e)){for(const r in e)nr(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&nr(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Hi(e,t,n,r){try{return r?e(...r):e()}catch(o){$a(o,t,n)}}function Kn(e,t,n,r){if(Xe(e)){const o=Hi(e,t,n,r);return o&&Ah(o)&&o.catch(i=>{$a(i,t,n)}),o}if(We(e)){const o=[];for(let i=0;i<e.length;i++)o.push(Kn(e[i],t,n,r));return o}}function $a(e,t,n,r=!0){const o=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||vt;if(t){let u=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const h=u.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](e,c,f)===!1)return}u=u.parent}if(i){lr(),Hi(i,null,10,[e,c,f]),cr();return}}uy(e,n,o,r,s)}function uy(e,t,n,r=!0,o=!1){if(o)throw e;console.error(e)}const fn=[];let zn=-1;const Io=[];let kr=null,wo=0;const sp=Promise.resolve();let Ws=null;function vn(e){const t=Ws||sp;return e?t.then(this?e.bind(this):e):t}function ly(e){let t=zn+1,n=fn.length;for(;t<n;){const r=t+n>>>1,o=fn[r],i=Ti(o);i<e||i===e&&o.flags&2?t=r+1:n=r}return t}function oc(e){if(!(e.flags&1)){const t=Ti(e),n=fn[fn.length-1];!n||!(e.flags&2)&&t>=Ti(n)?fn.push(e):fn.splice(ly(t),0,e),e.flags|=1,ap()}}function ap(){Ws||(Ws=sp.then(lp))}function cy(e){We(e)?Io.push(...e):kr&&e.id===-1?kr.splice(wo+1,0,e):e.flags&1||(Io.push(e),e.flags|=1),ap()}function yf(e,t,n=zn+1){for(;n<fn.length;n++){const r=fn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;fn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function up(e){if(Io.length){const t=[...new Set(Io)].sort((n,r)=>Ti(n)-Ti(r));if(Io.length=0,kr){kr.push(...t);return}for(kr=t,wo=0;wo<kr.length;wo++){const n=kr[wo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}kr=null,wo=0}}const Ti=e=>e.id==null?e.flags&2?-1:1/0:e.id;function lp(e){try{for(zn=0;zn<fn.length;zn++){const t=fn[zn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Hi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;zn<fn.length;zn++){const t=fn[zn];t&&(t.flags&=-2)}zn=-1,fn.length=0,up(),Ws=null,(fn.length||Io.length)&&lp()}}let Wt=null,cp=null;function Ys(e){const t=Wt;return Wt=e,cp=e&&e.type.__scopeId||null,t}function Mo(e,t=Wt,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&Qs(-1);const i=Ys(t);let s;try{s=e(...o)}finally{Ys(i),r._d&&Qs(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Rt(e,t){if(Wt===null)return e;const n=Ba(Wt),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[i,s,u,c=vt]=t[o];i&&(Xe(i)&&(i={mounted:i,updated:i}),i.deep&&nr(s),r.push({dir:i,instance:n,value:s,oldValue:void 0,arg:u,modifiers:c}))}return e}function Lr(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let s=0;s<o.length;s++){const u=o[s];i&&(u.oldValue=i[s].value);let c=u.dir[r];c&&(lr(),Kn(c,n,8,[e.el,u,e,t]),cr())}}const fp=Symbol("_vte"),fy=e=>e.__isTeleport,mi=e=>e&&(e.disabled||e.disabled===""),_f=e=>e&&(e.defer||e.defer===""),bf=e=>typeof SVGElement<"u"&&e instanceof SVGElement,wf=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,dl=(e,t)=>{const n=e&&e.to;return Ot(n)?t?t(n):null:n},dp={name:"Teleport",__isTeleport:!0,process(e,t,n,r,o,i,s,u,c,f){const{mc:h,pc:p,pbc:v,o:{insert:m,querySelector:E,createText:k,createComment:M}}=f,A=mi(t.props);let{shapeFlag:$,children:P,dynamicChildren:N}=t;if(e==null){const re=t.el=k(""),ce=t.anchor=k("");m(re,n,r),m(ce,n,r);const q=(Q,ie)=>{$&16&&(o&&o.isCE&&(o.ce._teleportTarget=Q),h(P,Q,ie,o,i,s,u,c))},W=()=>{const Q=t.target=dl(t.props,E),ie=hp(Q,t,k,m);Q&&(s!=="svg"&&bf(Q)?s="svg":s!=="mathml"&&wf(Q)&&(s="mathml"),A||(q(Q,ie),Ds(t,!1)))};A&&(q(n,ce),Ds(t,!0)),_f(t.props)?(t.el.__isMounted=!1,cn(()=>{W(),delete t.el.__isMounted},i)):W()}else{if(_f(t.props)&&e.el.__isMounted===!1){cn(()=>{dp.process(e,t,n,r,o,i,s,u,c,f)},i);return}t.el=e.el,t.targetStart=e.targetStart;const re=t.anchor=e.anchor,ce=t.target=e.target,q=t.targetAnchor=e.targetAnchor,W=mi(e.props),Q=W?n:ce,ie=W?re:q;if(s==="svg"||bf(ce)?s="svg":(s==="mathml"||wf(ce))&&(s="mathml"),N?(v(e.dynamicChildren,N,Q,o,i,s,u),cc(e,t,!0)):c||p(e,t,Q,ie,o,i,s,u,!1),A)W?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ws(t,n,re,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ae=t.target=dl(t.props,E);ae&&ws(t,ae,null,f,0)}else W&&ws(t,ce,q,f,1);Ds(t,A)}},remove(e,t,n,{um:r,o:{remove:o}},i){const{shapeFlag:s,children:u,anchor:c,targetStart:f,targetAnchor:h,target:p,props:v}=e;if(p&&(o(f),o(h)),i&&o(c),s&16){const m=i||!mi(v);for(let E=0;E<u.length;E++){const k=u[E];r(k,t,n,m,!!k.dynamicChildren)}}},move:ws,hydrate:dy};function ws(e,t,n,{o:{insert:r},m:o},i=2){i===0&&r(e.targetAnchor,t,n);const{el:s,anchor:u,shapeFlag:c,children:f,props:h}=e,p=i===2;if(p&&r(s,t,n),(!p||mi(h))&&c&16)for(let v=0;v<f.length;v++)o(f[v],t,n,2);p&&r(u,t,n)}function dy(e,t,n,r,o,i,{o:{nextSibling:s,parentNode:u,querySelector:c,insert:f,createText:h}},p){function v(k,M,A,$){M.anchor=p(s(k),M,u(k),n,r,o,i),M.targetStart=A,M.targetAnchor=$}const m=t.target=dl(t.props,c),E=mi(t.props);if(m){const k=m._lpa||m.firstChild;if(t.shapeFlag&16)if(E)v(e,t,k,k&&s(k));else{t.anchor=s(e);let M=k;for(;M;){if(M&&M.nodeType===8){if(M.data==="teleport start anchor")t.targetStart=M;else if(M.data==="teleport anchor"){t.targetAnchor=M,m._lpa=t.targetAnchor&&s(t.targetAnchor);break}}M=s(M)}t.targetAnchor||hp(m,t,h,f),p(k&&s(k),t,m,n,r,o,i)}Ds(t,E)}else E&&t.shapeFlag&16&&v(e,t,e,s(e));return t.anchor&&s(t.anchor)}const hy=dp;function Ds(e,t){const n=e.ctx;if(n&&n.ut){let r,o;for(t?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function hp(e,t,n,r){const o=t.targetStart=n(""),i=t.targetAnchor=n("");return o[fp]=i,e&&(r(o,e),r(i,e)),i}const py=Symbol("_leaveCb");function ic(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ic(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ot(e,t){return Xe(e)?on({name:e.name},t,{setup:e}):e}function pp(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Xs=new WeakMap;function vi(e,t,n,r,o=!1){if(We(e)){e.forEach((E,k)=>vi(E,t&&(We(t)?t[k]:t),n,r,o));return}if(Po(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&vi(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Ba(r.component):r.el,s=o?null:i,{i:u,r:c}=e,f=t&&t.r,h=u.refs===vt?u.refs={}:u.refs,p=u.setupState,v=ft(p),m=p===vt?Oh:E=>mt(v,E);if(f!=null&&f!==c){if(xf(t),Ot(f))h[f]=null,m(f)&&(p[f]=null);else if(yt(f)){f.value=null;const E=t;E.k&&(h[E.k]=null)}}if(Xe(c))Hi(c,u,12,[s,h]);else{const E=Ot(c),k=yt(c);if(E||k){const M=()=>{if(e.f){const A=E?m(c)?p[c]:h[c]:c.value;if(o)We(A)&&Wl(A,i);else if(We(A))A.includes(i)||A.push(i);else if(E)h[c]=[i],m(c)&&(p[c]=h[c]);else{const $=[i];c.value=$,e.k&&(h[e.k]=$)}}else E?(h[c]=s,m(c)&&(p[c]=s)):k&&(c.value=s,e.k&&(h[e.k]=s))};if(s){const A=()=>{M(),Xs.delete(e)};A.id=-1,Xs.set(e,A),cn(A,n)}else xf(e),M()}}}function xf(e){const t=Xs.get(e);t&&(t.flags|=8,Xs.delete(e))}ka().requestIdleCallback;ka().cancelIdleCallback;const Po=e=>!!e.type.__asyncLoader,gp=e=>e.type.__isKeepAlive;function mp(e,t){yp(e,"a",t)}function vp(e,t){yp(e,"da",t)}function yp(e,t,n=tn){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Oa(t,r,n),n){let o=n.parent;for(;o&&o.parent;)gp(o.parent.vnode)&&gy(r,t,n,o),o=o.parent}}function gy(e,t,n,r){const o=Oa(t,e,r,!0);ac(()=>{Wl(r[t],o)},n)}function Oa(e,t,n=tn,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...s)=>{lr();const u=Zi(n),c=Kn(t,n,e,s);return u(),cr(),c});return r?o.unshift(i):o.push(i),i}}const hr=e=>(t,n=tn)=>{(!$i||e==="sp")&&Oa(e,(...r)=>t(...r),n)},sc=hr("bm"),Sn=hr("m"),my=hr("bu"),vy=hr("u"),Aa=hr("bum"),ac=hr("um"),yy=hr("sp"),_y=hr("rtg"),by=hr("rtc");function wy(e,t=tn){Oa("ec",e,t)}const _p="components";function Zo(e,t){return wp(_p,e,!0,t)||e}const bp=Symbol.for("v-ndc");function xy(e){return Ot(e)?wp(_p,e,!1)||e:e||bp}function wp(e,t,n=!0,r=!1){const o=Wt||tn;if(o){const i=o.type;{const u=c_(i,!1);if(u&&(u===t||u===wn(t)||u===Ea(wn(t))))return i}const s=Sf(o[e]||i[e],t)||Sf(o.appContext[e],t);return!s&&r?i:s}}function Sf(e,t){return e&&(e[t]||e[wn(t)]||e[Ea(wn(t))])}function Bt(e,t,n,r){let o;const i=n&&n[r],s=We(e);if(s||Ot(e)){const u=s&&ur(e);let c=!1,f=!1;u&&(c=!bn(e),f=Tr(e),e=Na(e)),o=new Array(e.length);for(let h=0,p=e.length;h<p;h++)o[h]=t(c?f?qs(Gt(e[h])):Gt(e[h]):e[h],h,void 0,i&&i[h])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,i&&i[u])}else if(_t(e))if(e[Symbol.iterator])o=Array.from(e,(u,c)=>t(u,c,void 0,i&&i[c]));else{const u=Object.keys(e);o=new Array(u.length);for(let c=0,f=u.length;c<f;c++){const h=u[c];o[c]=t(e[h],h,c,i&&i[c])}}else o=[];return n&&(n[r]=o),o}function Hn(e,t,n={},r,o){if(Wt.ce||Wt.parent&&Po(Wt.parent)&&Wt.parent.ce)return t!=="default"&&(n.name=t),ve(),xn(et,null,[tt("slot",n,r&&r())],64);let i=e[t];i&&i._c&&(i._d=!1),ve();const s=i&&xp(i(n)),u=n.key||s&&s.key,c=xn(et,{key:(u&&!Tn(u)?u:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&e._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function xp(e){return e.some(t=>Ni(t)?!(t.type===fr||t.type===et&&!xp(t.children)):!0)?e:null}const hl=e=>e?Lp(e)?Ba(e):hl(e.parent):null,yi=on(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hl(e.parent),$root:e=>hl(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>kp(e),$forceUpdate:e=>e.f||(e.f=()=>{oc(e.update)}),$nextTick:e=>e.n||(e.n=vn.bind(e.proxy)),$watch:e=>Ky.bind(e)}),Fu=(e,t)=>e!==vt&&!e.__isScriptSetup&&mt(e,t),Sy={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:u,appContext:c}=e;let f;if(t[0]!=="$"){const m=s[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(Fu(r,t))return s[t]=1,r[t];if(o!==vt&&mt(o,t))return s[t]=2,o[t];if((f=e.propsOptions[0])&&mt(f,t))return s[t]=3,i[t];if(n!==vt&&mt(n,t))return s[t]=4,n[t];pl&&(s[t]=0)}}const h=yi[t];let p,v;if(h)return t==="$attrs"&&en(e.attrs,"get",""),h(e);if((p=u.__cssModules)&&(p=p[t]))return p;if(n!==vt&&mt(n,t))return s[t]=4,n[t];if(v=c.config.globalProperties,mt(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return Fu(o,t)?(o[t]=n,!0):r!==vt&&mt(r,t)?(r[t]=n,!0):mt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i,type:s}},u){let c,f;return!!(n[u]||e!==vt&&u[0]!=="$"&&mt(e,u)||Fu(t,u)||(c=i[0])&&mt(c,u)||mt(r,u)||mt(yi,u)||mt(o.config.globalProperties,u)||(f=s.__cssModules)&&f[u])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:mt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ey(){return Sp().slots}function ky(){return Sp().attrs}function Sp(e){const t=qn();return t.setupContext||(t.setupContext=Zp(t))}function Ef(e){return We(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Cy(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}let pl=!0;function Iy(e){const t=kp(e),n=e.proxy,r=e.ctx;pl=!1,t.beforeCreate&&kf(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:s,watch:u,provide:c,inject:f,created:h,beforeMount:p,mounted:v,beforeUpdate:m,updated:E,activated:k,deactivated:M,beforeDestroy:A,beforeUnmount:$,destroyed:P,unmounted:N,render:re,renderTracked:ce,renderTriggered:q,errorCaptured:W,serverPrefetch:Q,expose:ie,inheritAttrs:ae,components:R,directives:Ie,filters:j}=t;if(f&&Py(f,r,null),s)for(const se in s){const fe=s[se];Xe(fe)&&(r[se]=fe.bind(n))}if(o){const se=o.call(n,n);_t(se)&&(e.data=io(se))}if(pl=!0,i)for(const se in i){const fe=i[se],ke=Xe(fe)?fe.bind(n,n):Xe(fe.get)?fe.get.bind(n,n):Ln,xe=!Xe(fe)&&Xe(fe.set)?fe.set.bind(n):Ln,Ae=De({get:ke,set:xe});Object.defineProperty(r,se,{enumerable:!0,configurable:!0,get:()=>Ae.value,set:Ve=>Ae.value=Ve})}if(u)for(const se in u)Ep(u[se],r,n,se);if(c){const se=Xe(c)?c.call(n):c;Reflect.ownKeys(se).forEach(fe=>{Zn(fe,se[fe])})}h&&kf(h,e,"c");function H(se,fe){We(fe)?fe.forEach(ke=>se(ke.bind(n))):fe&&se(fe.bind(n))}if(H(sc,p),H(Sn,v),H(my,m),H(vy,E),H(mp,k),H(vp,M),H(wy,W),H(by,ce),H(_y,q),H(Aa,$),H(ac,N),H(yy,Q),We(ie))if(ie.length){const se=e.exposed||(e.exposed={});ie.forEach(fe=>{Object.defineProperty(se,fe,{get:()=>n[fe],set:ke=>n[fe]=ke,enumerable:!0})})}else e.exposed||(e.exposed={});re&&e.render===Ln&&(e.render=re),ae!=null&&(e.inheritAttrs=ae),R&&(e.components=R),Ie&&(e.directives=Ie),Q&&pp(e)}function Py(e,t,n=Ln){We(e)&&(e=gl(e));for(const r in e){const o=e[r];let i;_t(o)?"default"in o?i=qt(o.from||r,o.default,!0):i=qt(o.from||r):i=qt(o),yt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):t[r]=i}}function kf(e,t,n){Kn(We(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ep(e,t,n,r){let o=r.includes(".")?zp(n,r):()=>n[r];if(Ot(e)){const i=t[e];Xe(i)&&at(o,i)}else if(Xe(e))at(o,e.bind(n));else if(_t(e))if(We(e))e.forEach(i=>Ep(i,t,n,r));else{const i=Xe(e.handler)?e.handler.bind(n):t[e.handler];Xe(i)&&at(o,i,e)}}function kp(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,u=i.get(t);let c;return u?c=u:!o.length&&!n&&!r?c=t:(c={},o.length&&o.forEach(f=>Js(c,f,s,!0)),Js(c,t,s)),_t(t)&&i.set(t,c),c}function Js(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&Js(e,i,n,!0),o&&o.forEach(s=>Js(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const u=Ty[s]||n&&n[s];e[s]=u?u(e[s],t[s]):t[s]}return e}const Ty={data:Cf,props:If,emits:If,methods:ui,computed:ui,beforeCreate:ln,created:ln,beforeMount:ln,mounted:ln,beforeUpdate:ln,updated:ln,beforeDestroy:ln,beforeUnmount:ln,destroyed:ln,unmounted:ln,activated:ln,deactivated:ln,errorCaptured:ln,serverPrefetch:ln,components:ui,directives:ui,watch:$y,provide:Cf,inject:Ny};function Cf(e,t){return t?e?function(){return on(Xe(e)?e.call(this,this):e,Xe(t)?t.call(this,this):t)}:t:e}function Ny(e,t){return ui(gl(e),gl(t))}function gl(e){if(We(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ln(e,t){return e?[...new Set([].concat(e,t))]:t}function ui(e,t){return e?on(Object.create(null),e,t):t}function If(e,t){return e?We(e)&&We(t)?[...new Set([...e,...t])]:on(Object.create(null),Ef(e),Ef(t??{})):t}function $y(e,t){if(!e)return t;if(!t)return e;const n=on(Object.create(null),e);for(const r in t)n[r]=ln(e[r],t[r]);return n}function Cp(){return{app:null,config:{isNativeTag:Oh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Oy=0;function Ay(e,t){return function(r,o=null){Xe(r)||(r=on({},r)),o!=null&&!_t(o)&&(o=null);const i=Cp(),s=new WeakSet,u=[];let c=!1;const f=i.app={_uid:Oy++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:h_,get config(){return i.config},set config(h){},use(h,...p){return s.has(h)||(h&&Xe(h.install)?(s.add(h),h.install(f,...p)):Xe(h)&&(s.add(h),h(f,...p))),f},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),f},component(h,p){return p?(i.components[h]=p,f):i.components[h]},directive(h,p){return p?(i.directives[h]=p,f):i.directives[h]},mount(h,p,v){if(!c){const m=f._ceVNode||tt(r,o);return m.appContext=i,v===!0?v="svg":v===!1&&(v=void 0),e(m,h,v),c=!0,f._container=h,h.__vue_app__=f,Ba(m.component)}},onUnmount(h){u.push(h)},unmount(){c&&(Kn(u,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(h,p){return i.provides[h]=p,f},runWithContext(h){const p=Xr;Xr=f;try{return h()}finally{Xr=p}}};return f}}let Xr=null;function Zn(e,t){if(tn){let n=tn.provides;const r=tn.parent&&tn.parent.provides;r===n&&(n=tn.provides=Object.create(r)),n[e]=t}}function qt(e,t,n=!1){const r=qn();if(r||Xr){let o=Xr?Xr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Xe(t)?t.call(r&&r.proxy):t}}function Ip(){return!!(qn()||Xr)}const Pp={},Tp=()=>Object.create(Pp),Np=e=>Object.getPrototypeOf(e)===Pp;function My(e,t,n,r=!1){const o={},i=Tp();e.propsDefaults=Object.create(null),$p(e,t,o,i);for(const s in e.propsOptions[0])s in o||(o[s]=void 0);n?e.props=r?o:tp(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function Dy(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=e,u=ft(o),[c]=e.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const h=e.vnode.dynamicProps;for(let p=0;p<h.length;p++){let v=h[p];if(Da(e.emitsOptions,v))continue;const m=t[v];if(c)if(mt(i,v))m!==i[v]&&(i[v]=m,f=!0);else{const E=wn(v);o[E]=ml(c,u,E,m,e,!1)}else m!==i[v]&&(i[v]=m,f=!0)}}}else{$p(e,t,o,i)&&(f=!0);let h;for(const p in u)(!t||!mt(t,p)&&((h=oo(p))===p||!mt(t,h)))&&(c?n&&(n[p]!==void 0||n[h]!==void 0)&&(o[p]=ml(c,u,p,void 0,e,!0)):delete o[p]);if(i!==u)for(const p in i)(!t||!mt(t,p))&&(delete i[p],f=!0)}f&&tr(e.attrs,"set","")}function $p(e,t,n,r){const[o,i]=e.propsOptions;let s=!1,u;if(t)for(let c in t){if(di(c))continue;const f=t[c];let h;o&&mt(o,h=wn(c))?!i||!i.includes(h)?n[h]=f:(u||(u={}))[h]=f:Da(e.emitsOptions,c)||(!(c in r)||f!==r[c])&&(r[c]=f,s=!0)}if(i){const c=ft(n),f=u||vt;for(let h=0;h<i.length;h++){const p=i[h];n[p]=ml(o,c,p,f[p],e,!mt(f,p))}}return s}function ml(e,t,n,r,o,i){const s=e[n];if(s!=null){const u=mt(s,"default");if(u&&r===void 0){const c=s.default;if(s.type!==Function&&!s.skipFactory&&Xe(c)){const{propsDefaults:f}=o;if(n in f)r=f[n];else{const h=Zi(o);r=f[n]=c.call(null,t),h()}}else r=c;o.ce&&o.ce._setProp(n,r)}s[0]&&(i&&!u?r=!1:s[1]&&(r===""||r===oo(n))&&(r=!0))}return r}const Ry=new WeakMap;function Op(e,t,n=!1){const r=n?Ry:t.propsCache,o=r.get(e);if(o)return o;const i=e.props,s={},u=[];let c=!1;if(!Xe(e)){const h=p=>{c=!0;const[v,m]=Op(p,t,!0);on(s,v),m&&u.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!c)return _t(e)&&r.set(e,ko),ko;if(We(i))for(let h=0;h<i.length;h++){const p=wn(i[h]);Pf(p)&&(s[p]=vt)}else if(i)for(const h in i){const p=wn(h);if(Pf(p)){const v=i[h],m=s[p]=We(v)||Xe(v)?{type:v}:on({},v),E=m.type;let k=!1,M=!0;if(We(E))for(let A=0;A<E.length;++A){const $=E[A],P=Xe($)&&$.name;if(P==="Boolean"){k=!0;break}else P==="String"&&(M=!1)}else k=Xe(E)&&E.name==="Boolean";m[0]=k,m[1]=M,(k||mt(m,"default"))&&u.push(p)}}const f=[s,u];return _t(e)&&r.set(e,f),f}function Pf(e){return e[0]!=="$"&&!di(e)}const uc=e=>e==="_"||e==="_ctx"||e==="$stable",lc=e=>We(e)?e.map(Fn):[Fn(e)],zy=(e,t,n)=>{if(t._n)return t;const r=Mo((...o)=>lc(t(...o)),n);return r._c=!1,r},Ap=(e,t,n)=>{const r=e._ctx;for(const o in e){if(uc(o))continue;const i=e[o];if(Xe(i))t[o]=zy(o,i,r);else if(i!=null){const s=lc(i);t[o]=()=>s}}},Mp=(e,t)=>{const n=lc(t);e.slots.default=()=>n},Dp=(e,t,n)=>{for(const r in t)(n||!uc(r))&&(e[r]=t[r])},By=(e,t,n)=>{const r=e.slots=Tp();if(e.vnode.shapeFlag&32){const o=t._;o?(Dp(r,t,n),n&&Rh(r,"_",o,!0)):Ap(t,r)}else t&&Mp(e,t)},Fy=(e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,s=vt;if(r.shapeFlag&32){const u=t._;u?n&&u===1?i=!1:Dp(o,t,n):(i=!t.$stable,Ap(t,o)),s=t}else t&&(Mp(e,t),s={default:1});if(i)for(const u in o)!uc(u)&&s[u]==null&&delete o[u]},cn=e_;function jy(e){return Vy(e)}function Vy(e,t){const n=ka();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:u,createComment:c,setText:f,setElementText:h,parentNode:p,nextSibling:v,setScopeId:m=Ln,insertStaticContent:E}=e,k=(S,T,_,w=null,C=null,x=null,V=void 0,ne=null,te=!!T.dynamicChildren)=>{if(S===T)return;S&&!ni(S,T)&&(w=ee(S),Ve(S,C,x,!0),S=null),T.patchFlag===-2&&(te=!1,T.dynamicChildren=null);const{type:X,ref:ge,shapeFlag:de}=T;switch(X){case Ra:M(S,T,_,w);break;case fr:A(S,T,_,w);break;case Vu:S==null&&$(T,_,w,V);break;case et:R(S,T,_,w,C,x,V,ne,te);break;default:de&1?re(S,T,_,w,C,x,V,ne,te):de&6?Ie(S,T,_,w,C,x,V,ne,te):(de&64||de&128)&&X.process(S,T,_,w,C,x,V,ne,te,we)}ge!=null&&C?vi(ge,S&&S.ref,x,T||S,!T):ge==null&&S&&S.ref!=null&&vi(S.ref,null,x,S,!0)},M=(S,T,_,w)=>{if(S==null)r(T.el=u(T.children),_,w);else{const C=T.el=S.el;T.children!==S.children&&f(C,T.children)}},A=(S,T,_,w)=>{S==null?r(T.el=c(T.children||""),_,w):T.el=S.el},$=(S,T,_,w)=>{[S.el,S.anchor]=E(S.children,T,_,w,S.el,S.anchor)},P=({el:S,anchor:T},_,w)=>{let C;for(;S&&S!==T;)C=v(S),r(S,_,w),S=C;r(T,_,w)},N=({el:S,anchor:T})=>{let _;for(;S&&S!==T;)_=v(S),o(S),S=_;o(T)},re=(S,T,_,w,C,x,V,ne,te)=>{T.type==="svg"?V="svg":T.type==="math"&&(V="mathml"),S==null?ce(T,_,w,C,x,V,ne,te):Q(S,T,C,x,V,ne,te)},ce=(S,T,_,w,C,x,V,ne)=>{let te,X;const{props:ge,shapeFlag:de,transition:Se,dirs:Ne}=S;if(te=S.el=s(S.type,x,ge&&ge.is,ge),de&8?h(te,S.children):de&16&&W(S.children,te,null,w,C,ju(S,x),V,ne),Ne&&Lr(S,null,w,"created"),q(te,S,S.scopeId,V,w),ge){for(const nt in ge)nt!=="value"&&!di(nt)&&i(te,nt,null,ge[nt],x,w);"value"in ge&&i(te,"value",null,ge.value,x),(X=ge.onVnodeBeforeMount)&&Rn(X,w,S)}Ne&&Lr(S,null,w,"beforeMount");const qe=Ly(C,Se);qe&&Se.beforeEnter(te),r(te,T,_),((X=ge&&ge.onVnodeMounted)||qe||Ne)&&cn(()=>{X&&Rn(X,w,S),qe&&Se.enter(te),Ne&&Lr(S,null,w,"mounted")},C)},q=(S,T,_,w,C)=>{if(_&&m(S,_),w)for(let x=0;x<w.length;x++)m(S,w[x]);if(C){let x=C.subTree;if(T===x||Fp(x.type)&&(x.ssContent===T||x.ssFallback===T)){const V=C.vnode;q(S,V,V.scopeId,V.slotScopeIds,C.parent)}}},W=(S,T,_,w,C,x,V,ne,te=0)=>{for(let X=te;X<S.length;X++){const ge=S[X]=ne?Cr(S[X]):Fn(S[X]);k(null,ge,T,_,w,C,x,V,ne)}},Q=(S,T,_,w,C,x,V)=>{const ne=T.el=S.el;let{patchFlag:te,dynamicChildren:X,dirs:ge}=T;te|=S.patchFlag&16;const de=S.props||vt,Se=T.props||vt;let Ne;if(_&&Hr(_,!1),(Ne=Se.onVnodeBeforeUpdate)&&Rn(Ne,_,T,S),ge&&Lr(T,S,_,"beforeUpdate"),_&&Hr(_,!0),(de.innerHTML&&Se.innerHTML==null||de.textContent&&Se.textContent==null)&&h(ne,""),X?ie(S.dynamicChildren,X,ne,_,w,ju(T,C),x):V||fe(S,T,ne,null,_,w,ju(T,C),x,!1),te>0){if(te&16)ae(ne,de,Se,_,C);else if(te&2&&de.class!==Se.class&&i(ne,"class",null,Se.class,C),te&4&&i(ne,"style",de.style,Se.style,C),te&8){const qe=T.dynamicProps;for(let nt=0;nt<qe.length;nt++){const ut=qe[nt],Pt=de[ut],Ht=Se[ut];(Ht!==Pt||ut==="value")&&i(ne,ut,Pt,Ht,C,_)}}te&1&&S.children!==T.children&&h(ne,T.children)}else!V&&X==null&&ae(ne,de,Se,_,C);((Ne=Se.onVnodeUpdated)||ge)&&cn(()=>{Ne&&Rn(Ne,_,T,S),ge&&Lr(T,S,_,"updated")},w)},ie=(S,T,_,w,C,x,V)=>{for(let ne=0;ne<T.length;ne++){const te=S[ne],X=T[ne],ge=te.el&&(te.type===et||!ni(te,X)||te.shapeFlag&198)?p(te.el):_;k(te,X,ge,null,w,C,x,V,!0)}},ae=(S,T,_,w,C)=>{if(T!==_){if(T!==vt)for(const x in T)!di(x)&&!(x in _)&&i(S,x,T[x],null,C,w);for(const x in _){if(di(x))continue;const V=_[x],ne=T[x];V!==ne&&x!=="value"&&i(S,x,ne,V,C,w)}"value"in _&&i(S,"value",T.value,_.value,C)}},R=(S,T,_,w,C,x,V,ne,te)=>{const X=T.el=S?S.el:u(""),ge=T.anchor=S?S.anchor:u("");let{patchFlag:de,dynamicChildren:Se,slotScopeIds:Ne}=T;Ne&&(ne=ne?ne.concat(Ne):Ne),S==null?(r(X,_,w),r(ge,_,w),W(T.children||[],_,ge,C,x,V,ne,te)):de>0&&de&64&&Se&&S.dynamicChildren?(ie(S.dynamicChildren,Se,_,C,x,V,ne),(T.key!=null||C&&T===C.subTree)&&cc(S,T,!0)):fe(S,T,_,ge,C,x,V,ne,te)},Ie=(S,T,_,w,C,x,V,ne,te)=>{T.slotScopeIds=ne,S==null?T.shapeFlag&512?C.ctx.activate(T,_,w,V,te):j(T,_,w,C,x,V,te):he(S,T,te)},j=(S,T,_,w,C,x,V)=>{const ne=S.component=s_(S,w,C);if(gp(S)&&(ne.ctx.renderer=we),a_(ne,!1,V),ne.asyncDep){if(C&&C.registerDep(ne,H,V),!S.el){const te=ne.subTree=tt(fr);A(null,te,T,_),S.placeholder=te.el}}else H(ne,S,T,_,C,x,V)},he=(S,T,_)=>{const w=T.component=S.component;if(Jy(S,T,_))if(w.asyncDep&&!w.asyncResolved){se(w,T,_);return}else w.next=T,w.update();else T.el=S.el,w.vnode=T},H=(S,T,_,w,C,x,V)=>{const ne=()=>{if(S.isMounted){let{next:de,bu:Se,u:Ne,parent:qe,vnode:nt}=S;{const Zt=Rp(S);if(Zt){de&&(de.el=nt.el,se(S,de,V)),Zt.asyncDep.then(()=>{S.isUnmounted||ne()});return}}let ut=de,Pt;Hr(S,!1),de?(de.el=nt.el,se(S,de,V)):de=nt,Se&&Ms(Se),(Pt=de.props&&de.props.onVnodeBeforeUpdate)&&Rn(Pt,qe,de,nt),Hr(S,!0);const Ht=Nf(S),an=S.subTree;S.subTree=Ht,k(an,Ht,p(an.el),ee(an),S,C,x),de.el=Ht.el,ut===null&&Qy(S,Ht.el),Ne&&cn(Ne,C),(Pt=de.props&&de.props.onVnodeUpdated)&&cn(()=>Rn(Pt,qe,de,nt),C)}else{let de;const{el:Se,props:Ne}=T,{bm:qe,m:nt,parent:ut,root:Pt,type:Ht}=S,an=Po(T);Hr(S,!1),qe&&Ms(qe),!an&&(de=Ne&&Ne.onVnodeBeforeMount)&&Rn(de,ut,T),Hr(S,!0);{Pt.ce&&Pt.ce._def.shadowRoot!==!1&&Pt.ce._injectChildStyle(Ht);const Zt=S.subTree=Nf(S);k(null,Zt,_,w,S,C,x),T.el=Zt.el}if(nt&&cn(nt,C),!an&&(de=Ne&&Ne.onVnodeMounted)){const Zt=T;cn(()=>Rn(de,ut,Zt),C)}(T.shapeFlag&256||ut&&Po(ut.vnode)&&ut.vnode.shapeFlag&256)&&S.a&&cn(S.a,C),S.isMounted=!0,T=_=w=null}};S.scope.on();const te=S.effect=new Vh(ne);S.scope.off();const X=S.update=te.run.bind(te),ge=S.job=te.runIfDirty.bind(te);ge.i=S,ge.id=S.uid,te.scheduler=()=>oc(ge),Hr(S,!0),X()},se=(S,T,_)=>{T.component=S;const w=S.vnode.props;S.vnode=T,S.next=null,Dy(S,T.props,w,_),Fy(S,T.children,_),lr(),yf(S),cr()},fe=(S,T,_,w,C,x,V,ne,te=!1)=>{const X=S&&S.children,ge=S?S.shapeFlag:0,de=T.children,{patchFlag:Se,shapeFlag:Ne}=T;if(Se>0){if(Se&128){xe(X,de,_,w,C,x,V,ne,te);return}else if(Se&256){ke(X,de,_,w,C,x,V,ne,te);return}}Ne&8?(ge&16&&Oe(X,C,x),de!==X&&h(_,de)):ge&16?Ne&16?xe(X,de,_,w,C,x,V,ne,te):Oe(X,C,x,!0):(ge&8&&h(_,""),Ne&16&&W(de,_,w,C,x,V,ne,te))},ke=(S,T,_,w,C,x,V,ne,te)=>{S=S||ko,T=T||ko;const X=S.length,ge=T.length,de=Math.min(X,ge);let Se;for(Se=0;Se<de;Se++){const Ne=T[Se]=te?Cr(T[Se]):Fn(T[Se]);k(S[Se],Ne,_,null,C,x,V,ne,te)}X>ge?Oe(S,C,x,!0,!1,de):W(T,_,w,C,x,V,ne,te,de)},xe=(S,T,_,w,C,x,V,ne,te)=>{let X=0;const ge=T.length;let de=S.length-1,Se=ge-1;for(;X<=de&&X<=Se;){const Ne=S[X],qe=T[X]=te?Cr(T[X]):Fn(T[X]);if(ni(Ne,qe))k(Ne,qe,_,null,C,x,V,ne,te);else break;X++}for(;X<=de&&X<=Se;){const Ne=S[de],qe=T[Se]=te?Cr(T[Se]):Fn(T[Se]);if(ni(Ne,qe))k(Ne,qe,_,null,C,x,V,ne,te);else break;de--,Se--}if(X>de){if(X<=Se){const Ne=Se+1,qe=Ne<ge?T[Ne].el:w;for(;X<=Se;)k(null,T[X]=te?Cr(T[X]):Fn(T[X]),_,qe,C,x,V,ne,te),X++}}else if(X>Se)for(;X<=de;)Ve(S[X],C,x,!0),X++;else{const Ne=X,qe=X,nt=new Map;for(X=qe;X<=Se;X++){const Tt=T[X]=te?Cr(T[X]):Fn(T[X]);Tt.key!=null&&nt.set(Tt.key,X)}let ut,Pt=0;const Ht=Se-qe+1;let an=!1,Zt=0;const On=new Array(Ht);for(X=0;X<Ht;X++)On[X]=0;for(X=Ne;X<=de;X++){const Tt=S[X];if(Pt>=Ht){Ve(Tt,C,x,!0);continue}let He;if(Tt.key!=null)He=nt.get(Tt.key);else for(ut=qe;ut<=Se;ut++)if(On[ut-qe]===0&&ni(Tt,T[ut])){He=ut;break}He===void 0?Ve(Tt,C,x,!0):(On[He-qe]=X+1,He>=Zt?Zt=He:an=!0,k(Tt,T[He],_,null,C,x,V,ne,te),Pt++)}const uo=an?Hy(On):ko;for(ut=uo.length-1,X=Ht-1;X>=0;X--){const Tt=qe+X,He=T[Tt],pr=T[Tt+1],An=Tt+1<ge?pr.el||pr.placeholder:w;On[X]===0?k(null,He,_,An,C,x,V,ne,te):an&&(ut<0||X!==uo[ut]?Ae(He,_,An,2):ut--)}}},Ae=(S,T,_,w,C=null)=>{const{el:x,type:V,transition:ne,children:te,shapeFlag:X}=S;if(X&6){Ae(S.component.subTree,T,_,w);return}if(X&128){S.suspense.move(T,_,w);return}if(X&64){V.move(S,T,_,we);return}if(V===et){r(x,T,_);for(let de=0;de<te.length;de++)Ae(te[de],T,_,w);r(S.anchor,T,_);return}if(V===Vu){P(S,T,_);return}if(w!==2&&X&1&&ne)if(w===0)ne.beforeEnter(x),r(x,T,_),cn(()=>ne.enter(x),C);else{const{leave:de,delayLeave:Se,afterLeave:Ne}=ne,qe=()=>{S.ctx.isUnmounted?o(x):r(x,T,_)},nt=()=>{x._isLeaving&&x[py](!0),de(x,()=>{qe(),Ne&&Ne()})};Se?Se(x,qe,nt):nt()}else r(x,T,_)},Ve=(S,T,_,w=!1,C=!1)=>{const{type:x,props:V,ref:ne,children:te,dynamicChildren:X,shapeFlag:ge,patchFlag:de,dirs:Se,cacheIndex:Ne}=S;if(de===-2&&(C=!1),ne!=null&&(lr(),vi(ne,null,_,S,!0),cr()),Ne!=null&&(T.renderCache[Ne]=void 0),ge&256){T.ctx.deactivate(S);return}const qe=ge&1&&Se,nt=!Po(S);let ut;if(nt&&(ut=V&&V.onVnodeBeforeUnmount)&&Rn(ut,T,S),ge&6)Le(S.component,_,w);else{if(ge&128){S.suspense.unmount(_,w);return}qe&&Lr(S,null,T,"beforeUnmount"),ge&64?S.type.remove(S,T,_,we,w):X&&!X.hasOnce&&(x!==et||de>0&&de&64)?Oe(X,T,_,!1,!0):(x===et&&de&384||!C&&ge&16)&&Oe(te,T,_),w&&Ue(S)}(nt&&(ut=V&&V.onVnodeUnmounted)||qe)&&cn(()=>{ut&&Rn(ut,T,S),qe&&Lr(S,null,T,"unmounted")},_)},Ue=S=>{const{type:T,el:_,anchor:w,transition:C}=S;if(T===et){$e(_,w);return}if(T===Vu){N(S);return}const x=()=>{o(_),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(S.shapeFlag&1&&C&&!C.persisted){const{leave:V,delayLeave:ne}=C,te=()=>V(_,x);ne?ne(S.el,x,te):te()}else x()},$e=(S,T)=>{let _;for(;S!==T;)_=v(S),o(S),S=_;o(T)},Le=(S,T,_)=>{const{bum:w,scope:C,job:x,subTree:V,um:ne,m:te,a:X}=S;Tf(te),Tf(X),w&&Ms(w),C.stop(),x&&(x.flags|=8,Ve(V,S,T,_)),ne&&cn(ne,T),cn(()=>{S.isUnmounted=!0},T)},Oe=(S,T,_,w=!1,C=!1,x=0)=>{for(let V=x;V<S.length;V++)Ve(S[V],T,_,w,C)},ee=S=>{if(S.shapeFlag&6)return ee(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const T=v(S.anchor||S.el),_=T&&T[fp];return _?v(_):T};let ye=!1;const J=(S,T,_)=>{S==null?T._vnode&&Ve(T._vnode,null,null,!0):k(T._vnode||null,S,T,null,null,null,_),T._vnode=S,ye||(ye=!0,yf(),up(),ye=!1)},we={p:k,um:Ve,m:Ae,r:Ue,mt:j,mc:W,pc:fe,pbc:ie,n:ee,o:e};return{render:J,hydrate:void 0,createApp:Ay(J)}}function ju({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Hr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ly(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function cc(e,t,n=!1){const r=e.children,o=t.children;if(We(r)&&We(o))for(let i=0;i<r.length;i++){const s=r[i];let u=o[i];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[i]=Cr(o[i]),u.el=s.el),!n&&u.patchFlag!==-2&&cc(s,u)),u.type===Ra&&u.patchFlag!==-1&&(u.el=s.el),u.type===fr&&!u.el&&(u.el=s.el)}}function Hy(e){const t=e.slice(),n=[0];let r,o,i,s,u;const c=e.length;for(r=0;r<c;r++){const f=e[r];if(f!==0){if(o=n[n.length-1],e[o]<f){t[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)u=i+s>>1,e[n[u]]<f?i=u+1:s=u;f<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=t[s];return n}function Rp(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Rp(t)}function Tf(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Zy=Symbol.for("v-scx"),Uy=()=>qt(Zy);function Ma(e,t){return fc(e,null,t)}function at(e,t,n){return fc(e,t,n)}function fc(e,t,n=vt){const{immediate:r,deep:o,flush:i,once:s}=n,u=on({},n),c=t&&r||!t&&i!=="post";let f;if($i){if(i==="sync"){const m=Uy();f=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=Ln,m.resume=Ln,m.pause=Ln,m}}const h=tn;u.call=(m,E,k)=>Kn(m,h,E,k);let p=!1;i==="post"?u.scheduler=m=>{cn(m,h&&h.suspense)}:i!=="sync"&&(p=!0,u.scheduler=(m,E)=>{E?m():oc(m)}),u.augmentJob=m=>{t&&(m.flags|=4),p&&(m.flags|=2,h&&(m.id=h.uid,m.i=h))};const v=ay(e,t,u);return $i&&(f?f.push(v):c&&v()),v}function Ky(e,t,n){const r=this.proxy,o=Ot(e)?e.includes(".")?zp(r,e):()=>r[e]:e.bind(r,r);let i;Xe(t)?i=t:(i=t.handler,n=t);const s=Zi(this),u=fc(o,i.bind(r),n);return s(),u}function zp(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}const qy=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${wn(t)}Modifiers`]||e[`${oo(t)}Modifiers`];function Gy(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||vt;let o=n;const i=t.startsWith("update:"),s=i&&qy(r,t.slice(7));s&&(s.trim&&(o=n.map(h=>Ot(h)?h.trim():h)),s.number&&(o=n.map(Us)));let u,c=r[u=Mu(t)]||r[u=Mu(wn(t))];!c&&i&&(c=r[u=Mu(oo(t))]),c&&Kn(c,e,6,o);const f=r[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Kn(f,e,6,o)}}const Wy=new WeakMap;function Bp(e,t,n=!1){const r=n?Wy:t.emitsCache,o=r.get(e);if(o!==void 0)return o;const i=e.emits;let s={},u=!1;if(!Xe(e)){const c=f=>{const h=Bp(f,t,!0);h&&(u=!0,on(s,h))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!u?(_t(e)&&r.set(e,null),null):(We(i)?i.forEach(c=>s[c]=null):on(s,i),_t(e)&&r.set(e,s),s)}function Da(e,t){return!e||!wa(t)?!1:(t=t.slice(2).replace(/Once$/,""),mt(e,t[0].toLowerCase()+t.slice(1))||mt(e,oo(t))||mt(e,t))}function Nf(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[i],slots:s,attrs:u,emit:c,render:f,renderCache:h,props:p,data:v,setupState:m,ctx:E,inheritAttrs:k}=e,M=Ys(e);let A,$;try{if(n.shapeFlag&4){const N=o||r,re=N;A=Fn(f.call(re,N,h,p,m,v,E)),$=u}else{const N=t;A=Fn(N.length>1?N(p,{attrs:u,slots:s,emit:c}):N(p,null)),$=t.props?u:Yy(u)}}catch(N){_i.length=0,$a(N,e,1),A=tt(fr)}let P=A;if($&&k!==!1){const N=Object.keys($),{shapeFlag:re}=P;N.length&&re&7&&(i&&N.some(Gl)&&($=Xy($,i)),P=Ro(P,$,!1,!0))}return n.dirs&&(P=Ro(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&ic(P,n.transition),A=P,Ys(M),A}const Yy=e=>{let t;for(const n in e)(n==="class"||n==="style"||wa(n))&&((t||(t={}))[n]=e[n]);return t},Xy=(e,t)=>{const n={};for(const r in e)(!Gl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Jy(e,t,n){const{props:r,children:o,component:i}=e,{props:s,children:u,patchFlag:c}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?$f(r,s,f):!!s;if(c&8){const h=t.dynamicProps;for(let p=0;p<h.length;p++){const v=h[p];if(s[v]!==r[v]&&!Da(f,v))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:r===s?!1:r?s?$f(r,s,f):!0:!!s;return!1}function $f(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!Da(n,i))return!0}return!1}function Qy({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Fp=e=>e.__isSuspense;function e_(e,t){t&&t.pendingBranch?We(e)?t.effects.push(...e):t.effects.push(e):cy(e)}const et=Symbol.for("v-fgt"),Ra=Symbol.for("v-txt"),fr=Symbol.for("v-cmt"),Vu=Symbol.for("v-stc"),_i=[];let dn=null;function ve(e=!1){_i.push(dn=e?null:[])}function t_(){_i.pop(),dn=_i[_i.length-1]||null}let Do=1;function Qs(e,t=!1){Do+=e,e<0&&dn&&t&&(dn.hasOnce=!0)}function jp(e){return e.dynamicChildren=Do>0?dn||ko:null,t_(),Do>0&&dn&&dn.push(e),e}function _e(e,t,n,r,o,i){return jp(me(e,t,n,r,o,i,!0))}function xn(e,t,n,r,o){return jp(tt(e,t,n,r,o,!0))}function Ni(e){return e?e.__v_isVNode===!0:!1}function ni(e,t){return e.type===t.type&&e.key===t.key}const Vp=({key:e})=>e??null,Rs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ot(e)||yt(e)||Xe(e)?{i:Wt,r:e,k:t,f:!!n}:e:null);function me(e,t=null,n=null,r=0,o=null,i=e===et?0:1,s=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Vp(t),ref:t&&Rs(t),scopeId:cp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Wt};return u?(dc(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=Ot(n)?8:16),Do>0&&!s&&dn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&dn.push(c),c}const tt=n_;function n_(e,t=null,n=null,r=0,o=null,i=!1){if((!e||e===bp)&&(e=fr),Ni(e)){const u=Ro(e,t,!0);return n&&dc(u,n),Do>0&&!i&&dn&&(u.shapeFlag&6?dn[dn.indexOf(e)]=u:dn.push(u)),u.patchFlag=-2,u}if(f_(e)&&(e=e.__vccOpts),t){t=r_(t);let{class:u,style:c}=t;u&&!Ot(u)&&(t.class=rn(u)),_t(c)&&(rc(c)&&!We(c)&&(c=on({},c)),t.style=sn(c))}const s=Ot(e)?1:Fp(e)?128:fy(e)?64:_t(e)?4:Xe(e)?2:0;return me(e,t,n,r,o,s,i,!0)}function r_(e){return e?rc(e)||Np(e)?on({},e):e:null}function Ro(e,t,n=!1,r=!1){const{props:o,ref:i,patchFlag:s,children:u,transition:c}=e,f=t?hc(o||{},t):o,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Vp(f),ref:t&&t.ref?n&&i?We(i)?i.concat(Rs(t)):[i,Rs(t)]:Rs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==et?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ro(e.ssContent),ssFallback:e.ssFallback&&Ro(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&ic(h,c.clone(h)),h}function za(e=" ",t=0){return tt(Ra,null,e,t)}function pt(e="",t=!1){return t?(ve(),xn(fr,null,e)):tt(fr,null,e)}function Fn(e){return e==null||typeof e=="boolean"?tt(fr):We(e)?tt(et,null,e.slice()):Ni(e)?Cr(e):tt(Ra,null,String(e))}function Cr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ro(e)}function dc(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(We(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),dc(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!Np(t)?t._ctx=Wt:o===3&&Wt&&(Wt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Xe(t)?(t={default:t,_ctx:Wt},n=32):(t=String(t),r&64?(n=16,t=[za(t)]):n=8);e.children=t,e.shapeFlag|=n}function hc(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=rn([t.class,r.class]));else if(o==="style")t.style=sn([t.style,r.style]);else if(wa(o)){const i=t[o],s=r[o];s&&i!==s&&!(We(i)&&i.includes(s))&&(t[o]=i?[].concat(i,s):s)}else o!==""&&(t[o]=r[o])}return t}function Rn(e,t,n,r=null){Kn(e,t,7,[n,r])}const o_=Cp();let i_=0;function s_(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||o_,i={uid:i_++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new jh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Op(r,o),emitsOptions:Bp(r,o),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:r.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Gy.bind(null,i),e.ce&&e.ce(i),i}let tn=null;const qn=()=>tn||Wt;let ea,vl;{const e=ka(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),i=>{o.length>1?o.forEach(s=>s(i)):o[0](i)}};ea=t("__VUE_INSTANCE_SETTERS__",n=>tn=n),vl=t("__VUE_SSR_SETTERS__",n=>$i=n)}const Zi=e=>{const t=tn;return ea(e),e.scope.on(),()=>{e.scope.off(),ea(t)}},Of=()=>{tn&&tn.scope.off(),ea(null)};function Lp(e){return e.vnode.shapeFlag&4}let $i=!1;function a_(e,t=!1,n=!1){t&&vl(t);const{props:r,children:o}=e.vnode,i=Lp(e);My(e,r,i,t),By(e,o,n||t);const s=i?u_(e,t):void 0;return t&&vl(!1),s}function u_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Sy);const{setup:r}=n;if(r){lr();const o=e.setupContext=r.length>1?Zp(e):null,i=Zi(e),s=Hi(r,e,0,[e.props,o]),u=Ah(s);if(cr(),i(),(u||e.sp)&&!Po(e)&&pp(e),u){if(s.then(Of,Of),t)return s.then(c=>{Af(e,c)}).catch(c=>{$a(c,e,0)});e.asyncDep=s}else Af(e,s)}else Hp(e)}function Af(e,t,n){Xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_t(t)&&(e.setupState=rp(t)),Hp(e)}function Hp(e,t,n){const r=e.type;e.render||(e.render=r.render||Ln);{const o=Zi(e);lr();try{Iy(e)}finally{cr(),o()}}}const l_={get(e,t){return en(e,"get",""),e[t]}};function Zp(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,l_),slots:e.slots,emit:e.emit,expose:t}}function Ba(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(rp(Yr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in yi)return yi[n](e)},has(t,n){return n in t||n in yi}})):e.proxy}function c_(e,t=!0){return Xe(e)?e.displayName||e.name:e.name||t&&e.__name}function f_(e){return Xe(e)&&"__vccOpts"in e}const De=(e,t)=>iy(e,t,$i);function ht(e,t,n){const r=(i,s,u)=>{Qs(-1);try{return tt(i,s,u)}finally{Qs(1)}},o=arguments.length;return o===2?_t(t)&&!We(t)?Ni(t)?r(e,null,[t]):r(e,t):r(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Ni(n)&&(n=[n]),r(e,t,n))}function d_(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(ar(n[r],t[r]))return!1;return Do>0&&dn&&dn.push(e),!0}const h_="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yl;const Mf=typeof window<"u"&&window.trustedTypes;if(Mf)try{yl=Mf.createPolicy("vue",{createHTML:e=>e})}catch{}const Up=yl?e=>yl.createHTML(e):e=>e,p_="http://www.w3.org/2000/svg",g_="http://www.w3.org/1998/Math/MathML",er=typeof document<"u"?document:null,Df=er&&er.createElement("template"),m_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?er.createElementNS(p_,e):t==="mathml"?er.createElementNS(g_,e):n?er.createElement(e,{is:n}):er.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>er.createTextNode(e),createComment:e=>er.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>er.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,i){const s=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{Df.innerHTML=Up(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const u=Df.content;if(r==="svg"||r==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}t.insertBefore(u,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},v_=Symbol("_vtc");function y_(e,t,n){const r=e[v_];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ta=Symbol("_vod"),Kp=Symbol("_vsh"),__={name:"show",beforeMount(e,{value:t},{transition:n}){e[ta]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ri(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ri(e,!0),r.enter(e)):r.leave(e,()=>{ri(e,!1)}):ri(e,t))},beforeUnmount(e,{value:t}){ri(e,t)}};function ri(e,t){e.style.display=t?e[ta]:"none",e[Kp]=!t}const b_=Symbol(""),w_=/(?:^|;)\s*display\s*:/;function x_(e,t,n){const r=e.style,o=Ot(n);let i=!1;if(n&&!o){if(t)if(Ot(t))for(const s of t.split(";")){const u=s.slice(0,s.indexOf(":")).trim();n[u]==null&&zs(r,u,"")}else for(const s in t)n[s]==null&&zs(r,s,"");for(const s in n)s==="display"&&(i=!0),zs(r,s,n[s])}else if(o){if(t!==n){const s=r[b_];s&&(n+=";"+s),r.cssText=n,i=w_.test(n)}}else t&&e.removeAttribute("style");ta in e&&(e[ta]=i?r.display:"",e[Kp]&&(r.display="none"))}const Rf=/\s*!important$/;function zs(e,t,n){if(We(n))n.forEach(r=>zs(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=S_(e,t);Rf.test(n)?e.setProperty(oo(r),n.replace(Rf,""),"important"):e[r]=n}}const zf=["Webkit","Moz","ms"],Lu={};function S_(e,t){const n=Lu[t];if(n)return n;let r=wn(t);if(r!=="filter"&&r in e)return Lu[t]=r;r=Ea(r);for(let o=0;o<zf.length;o++){const i=zf[o]+r;if(i in e)return Lu[t]=i}return t}const Bf="http://www.w3.org/1999/xlink";function Ff(e,t,n,r,o,i=Nv(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Bf,t.slice(6,t.length)):e.setAttributeNS(Bf,t,n):n==null||i&&!zh(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Tn(n)?String(n):n)}function jf(e,t,n,r,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Up(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const u=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(u!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=zh(n):n==null&&u==="string"?(n="",s=!0):u==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(o||t)}function Ur(e,t,n,r){e.addEventListener(t,n,r)}function E_(e,t,n,r){e.removeEventListener(t,n,r)}const Vf=Symbol("_vei");function k_(e,t,n,r,o=null){const i=e[Vf]||(e[Vf]={}),s=i[t];if(r&&s)s.value=r;else{const[u,c]=C_(t);if(r){const f=i[t]=T_(r,o);Ur(e,u,f,c)}else s&&(E_(e,u,s,c),i[t]=void 0)}}const Lf=/(?:Once|Passive|Capture)$/;function C_(e){let t;if(Lf.test(e)){t={};let r;for(;r=e.match(Lf);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):oo(e.slice(2)),t]}let Hu=0;const I_=Promise.resolve(),P_=()=>Hu||(I_.then(()=>Hu=0),Hu=Date.now());function T_(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Kn(N_(r,n.value),t,5,[r])};return n.value=e,n.attached=P_(),n}function N_(e,t){if(We(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const Hf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,$_=(e,t,n,r,o,i)=>{const s=o==="svg";t==="class"?y_(e,r,s):t==="style"?x_(e,n,r):wa(t)?Gl(t)||k_(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):O_(e,t,r,s))?(jf(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ff(e,t,r,s,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ot(r))?jf(e,wn(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ff(e,t,r,s))};function O_(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Hf(t)&&Xe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Hf(t)&&Ot(n)?!1:t in e}const na=e=>{const t=e.props["onUpdate:modelValue"]||!1;return We(t)?n=>Ms(t,n):t};function A_(e){e.target.composing=!0}function Zf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const To=Symbol("_assign"),In={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[To]=na(o);const i=r||o.props&&o.props.type==="number";Ur(e,t?"change":"input",s=>{if(s.target.composing)return;let u=e.value;n&&(u=u.trim()),i&&(u=Us(u)),e[To](u)}),n&&Ur(e,"change",()=>{e.value=e.value.trim()}),t||(Ur(e,"compositionstart",A_),Ur(e,"compositionend",Zf),Ur(e,"change",Zf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:o,number:i}},s){if(e[To]=na(s),e.composing)return;const u=(i||e.type==="number")&&!/^0\d/.test(e.value)?Us(e.value):e.value,c=t??"";u!==c&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||o&&e.value.trim()===c)||(e.value=c))}},or={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=xa(t);Ur(e,"change",()=>{const i=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?Us(ra(s)):ra(s));e[To](e.multiple?o?new Set(i):i:i[0]),e._assigning=!0,vn(()=>{e._assigning=!1})}),e[To]=na(r)},mounted(e,{value:t}){Uf(e,t)},beforeUpdate(e,t,n){e[To]=na(n)},updated(e,{value:t}){e._assigning||Uf(e,t)}};function Uf(e,t){const n=e.multiple,r=We(t);if(!(n&&!r&&!xa(t))){for(let o=0,i=e.options.length;o<i;o++){const s=e.options[o],u=ra(s);if(n)if(r){const c=typeof u;c==="string"||c==="number"?s.selected=t.some(f=>String(f)===String(u)):s.selected=Ov(t,u)>-1}else s.selected=t.has(u);else if(Ca(ra(s),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ra(e){return"_value"in e?e._value:e.value}const M_=["ctrl","shift","alt","meta"],D_={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>M_.some(n=>e[`${n}Key`]&&!t.includes(n))},R_=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((o,...i)=>{for(let s=0;s<t.length;s++){const u=D_[t[s]];if(u&&u(o,t))return}return e(o,...i)}))},z_=on({patchProp:$_},m_);let Kf;function B_(){return Kf||(Kf=jy(z_))}const F_=((...e)=>{const t=B_().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=V_(r);if(!o)return;const i=t._component;!Xe(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const s=n(o,!1,j_(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},t});function j_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function V_(e){return Ot(e)?document.querySelector(e):e}function _l(e,t={},n){for(const r in e){const o=e[r],i=n?`${n}:${r}`:r;typeof o=="object"&&o!==null?_l(o,t,i):typeof o=="function"&&(t[i]=o)}return t}const L_={run:e=>e()},H_=()=>L_,qp=typeof console.createTask<"u"?console.createTask:H_;function Z_(e,t){const n=t.shift(),r=qp(n);return e.reduce((o,i)=>o.then(()=>r.run(()=>i(...t))),Promise.resolve())}function U_(e,t){const n=t.shift(),r=qp(n);return Promise.all(e.map(o=>r.run(()=>o(...t))))}function Zu(e,t){for(const n of[...e])n(t)}class K_{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const o=t;let i;for(;this._deprecatedHooks[t];)i=this._deprecatedHooks[t],t=i.to;if(i&&!r.allowDeprecated){let s=i.message;s||(s=`${o} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(s)||(console.warn(s),this._deprecatedMessages.add(s))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,o=(...i)=>(typeof r=="function"&&r(),r=void 0,o=void 0,n(...i));return r=this.hook(t,o),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const o of r)this.hook(t,o)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=_l(t),r=Object.keys(n).map(o=>this.hook(o,n[o]));return()=>{for(const o of r.splice(0,r.length))o()}}removeHooks(t){const n=_l(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(Z_,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(U_,t,...n)}callHookWith(t,n,...r){const o=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Zu(this._before,o);const i=t(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&o&&Zu(this._after,o)}):(this._after&&o&&Zu(this._after,o),i)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function q_(){return new K_}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Gp;const Fa=e=>Gp=e,Wp=Symbol();function bl(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var bi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(bi||(bi={}));function G_(){const e=Ia(!0),t=e.run(()=>rt({}));let n=[],r=[];const o=Yr({install(i){Fa(o),o._a=i,i.provide(Wp,o),i.config.globalProperties.$pinia=o,r.forEach(s=>n.push(s)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const Yp=()=>{};function qf(e,t,n,r=Yp){e.push(t);const o=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&Pa()&&hi(o),o}function _o(e,...t){e.slice().forEach(n=>{n(...t)})}const W_=e=>e(),Gf=Symbol(),Uu=Symbol();function wl(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];bl(o)&&bl(r)&&e.hasOwnProperty(n)&&!yt(r)&&!ur(r)?e[n]=wl(o,r):e[n]=r}return e}const Y_=Symbol();function X_(e){return!bl(e)||!Object.prototype.hasOwnProperty.call(e,Y_)}const{assign:Sr}=Object;function J_(e){return!!(yt(e)&&e.effect)}function Q_(e,t,n,r){const{state:o,actions:i,getters:s}=t,u=n.state.value[e];let c;function f(){u||(n.state.value[e]=o?o():{});const h=op(n.state.value[e]);return Sr(h,i,Object.keys(s||{}).reduce((p,v)=>(p[v]=Yr(De(()=>{Fa(n);const m=n._s.get(e);return s[v].call(m,m)})),p),{}))}return c=Xp(e,f,t,n,r,!0),c}function Xp(e,t,n={},r,o,i){let s;const u=Sr({actions:{}},n),c={deep:!0};let f,h,p=[],v=[],m;const E=r.state.value[e];!i&&!E&&(r.state.value[e]={}),rt({});let k;function M(W){let Q;f=h=!1,typeof W=="function"?(W(r.state.value[e]),Q={type:bi.patchFunction,storeId:e,events:m}):(wl(r.state.value[e],W),Q={type:bi.patchObject,payload:W,storeId:e,events:m});const ie=k=Symbol();vn().then(()=>{k===ie&&(f=!0)}),h=!0,_o(p,Q,r.state.value[e])}const A=i?function(){const{state:Q}=n,ie=Q?Q():{};this.$patch(ae=>{Sr(ae,ie)})}:Yp;function $(){s.stop(),p=[],v=[],r._s.delete(e)}const P=(W,Q="")=>{if(Gf in W)return W[Uu]=Q,W;const ie=function(){Fa(r);const ae=Array.from(arguments),R=[],Ie=[];function j(se){R.push(se)}function he(se){Ie.push(se)}_o(v,{args:ae,name:ie[Uu],store:re,after:j,onError:he});let H;try{H=W.apply(this&&this.$id===e?this:re,ae)}catch(se){throw _o(Ie,se),se}return H instanceof Promise?H.then(se=>(_o(R,se),se)).catch(se=>(_o(Ie,se),Promise.reject(se))):(_o(R,H),H)};return ie[Gf]=!0,ie[Uu]=Q,ie},N={_p:r,$id:e,$onAction:qf.bind(null,v),$patch:M,$reset:A,$subscribe(W,Q={}){const ie=qf(p,W,Q.detached,()=>ae()),ae=s.run(()=>at(()=>r.state.value[e],R=>{(Q.flush==="sync"?h:f)&&W({storeId:e,type:bi.direct,events:m},R)},Sr({},c,Q)));return ie},$dispose:$},re=io(N);r._s.set(e,re);const q=(r._a&&r._a.runWithContext||W_)(()=>r._e.run(()=>(s=Ia()).run(()=>t({action:P}))));for(const W in q){const Q=q[W];if(yt(Q)&&!J_(Q)||ur(Q))i||(E&&X_(Q)&&(yt(Q)?Q.value=E[W]:wl(Q,E[W])),r.state.value[e][W]=Q);else if(typeof Q=="function"){const ie=P(Q,W);q[W]=ie,u.actions[W]=Q}}return Sr(re,q),Sr(ft(re),q),Object.defineProperty(re,"$state",{get:()=>r.state.value[e],set:W=>{M(Q=>{Sr(Q,W)})}}),r._p.forEach(W=>{Sr(re,s.run(()=>W({store:re,app:r._a,pinia:r,options:u})))}),E&&i&&n.hydrate&&n.hydrate(re.$state,E),f=!0,h=!0,re}/*! #__NO_SIDE_EFFECTS__ */function Jp(e,t,n){let r;const o=typeof t=="function";r=o?n:t;function i(s,u){const c=Ip();return s=s||(c?qt(Wp,null):null),s&&Fa(s),s=Gp,s._s.has(e)||(o?Xp(e,t,r,s):Q_(e,r,s)),s._s.get(e)}return i.$id=e,i}function e0(e){const t=ft(e),n={};for(const r in t){const o=t[r];o.effect?n[r]=De({get:()=>e[r],set(i){e[r]=i}}):(yt(o)||ur(o))&&(n[r]=St(e,r))}return n}const t0=new Set(["link","style","script","noscript"]),n0=new Set(["title","titleTemplate","script","style","noscript"]),Wf=new Set(["base","meta","link","style","script","noscript"]),r0=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),o0=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),i0=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),s0=new Set(["templateParams","htmlAttrs","bodyAttrs"]),a0=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),u0=["name","property","http-equiv"],l0=new Set(["viewport","description","keywords","robots"]);function Qp(e){const t=e.split(":");return t.length?a0.has(t[1]):!1}function xl(e){const{props:t,tag:n}=e;if(o0.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of u0)if(t[r]!==void 0){const o=t[r],i=o.includes(":"),s=l0.has(o),c=!(i||s)&&e.key?`:key:${e.key}`:"";return`${n}:${o}${c}`}}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(n0.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function Yf(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,o])=>`${r}:${String(o)}`).join(",")}`}function oa(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let o;if(t&&(o=t(n,e)),Array.isArray(o))return o.map(i=>oa(i,t));if(o?.constructor===Object){const i={};for(const s of Object.keys(o))i[s]=oa(o[s],t,s);return i}return o}function c0(e,t){const n=e==="style"?new Map:new Set;function r(o){const i=o.trim();if(i)if(e==="style"){const[s,...u]=i.split(":").map(c=>c.trim());s&&u.length&&n.set(s,u.join(":"))}else i.split(" ").filter(Boolean).forEach(s=>n.add(s))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(o=>r(o)):t&&typeof t=="object"&&Object.entries(t).forEach(([o,i])=>{i&&i!=="false"&&(e==="style"?n.set(o.trim(),i):r(o))}),n}function eg(e,t){return e.props=e.props||{},t?e.tag==="templateParams"?(e.props=t,e):(Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=c0(n,r);return}if(i0.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let s=t.type;if(t.type||(s="application/json"),!s?.endsWith("json")&&s!=="speculationrules")return;t.type=s,e.props.type=s,e[n]=JSON.stringify(r)}else e[n]=r;return}const o=String(r),i=n.startsWith("data-");o==="true"||o===""?e.props[n]=i?o:!0:!r&&i&&o==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e):e}function f0(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=eg({tag:e,props:{}},n);return r.key&&t0.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(o=>({...r,props:{...r.props,content:o}})):r}function d0(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(o,i)=>{for(let s=0;s<t.length;s++)i=t[s](o,i);return i};e=n(void 0,e);const r=[];return e=oa(e,n),Object.entries(e||{}).forEach(([o,i])=>{if(i!==void 0)for(const s of Array.isArray(i)?i:[i])r.push(f0(o,s))}),r.flat()}const Xf=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,Jf={base:-10,title:10},h0={critical:-8,high:-1,low:2},Qf={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},p0=/@import/,oi=e=>e===""||e===!0;function g0(e,t){if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=h0[t.tagPriority]||0,o=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Qf;if(t.tag in Jf)n=Jf[t.tag];else if(t.tag==="meta"){const i=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;i&&(n=Qf.meta[i])}else t.tag==="link"&&t.props.rel?n=o.link[t.props.rel]:t.tag==="script"?oi(t.props.async)?n=o.script.async:t.props.src&&!oi(t.props.defer)&&!oi(t.props.async)&&t.props.type!=="module"&&!t.props.type?.endsWith("json")?n=o.script.sync:oi(t.props.defer)&&t.props.src&&!oi(t.props.async)&&(n=o.script.defer):t.tag==="style"&&(n=t.innerHTML&&p0.test(t.innerHTML)?o.style.imported:o.style.sync);return(n||100)+r}function ed(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function m0(e={}){const t=q_();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,o=new Map,i=new Set,s={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:u=>ed(s,u),push(u,c){const f={...c||{}};delete f.head;const h=f._index??s._entryCount++,p={_i:h,input:u,options:f},v={_poll(m=!1){s.dirty=!0,!m&&i.add(h),t.callHook("entries:updated",s)},dispose(){r.delete(h)&&s.invalidate()},patch(m){(!f.mode||f.mode==="server"&&n||f.mode==="client"&&!n)&&(p.input=m,r.set(h,p),v._poll())}};return v.patch(u),v},async resolveTags(){const u={tagMap:new Map,tags:[],entries:[...s.entries.values()]};for(await t.callHook("entries:resolve",u);i.size;){const v=i.values().next().value;i.delete(v);const m=r.get(v);if(m){const E={tags:d0(m.input,e.propResolvers||[]).map(k=>Object.assign(k,m.options)),entry:m};await t.callHook("entries:normalize",E),m._tags=E.tags.map((k,M)=>(k._w=g0(s,k),k._p=(m._i<<10)+M,k._d=xl(k),k))}}let c=!1;u.entries.flatMap(v=>(v._tags||[]).map(m=>({...m,props:{...m.props}}))).sort(Xf).reduce((v,m)=>{const E=String(m._d||m._p);if(!v.has(E))return v.set(E,m);const k=v.get(E);if((m?.tagDuplicateStrategy||(s0.has(m.tag)?"merge":null)||(m.key&&m.key===k.key?"merge":null))==="merge"){const A={...k.props};Object.entries(m.props).forEach(([$,P])=>A[$]=$==="style"?new Map([...k.props.style||new Map,...P]):$==="class"?new Set([...k.props.class||new Set,...P]):P),v.set(E,{...m,props:A})}else m._p>>10===k._p>>10&&m.tag==="meta"&&Qp(E)?(v.set(E,Object.assign([...Array.isArray(k)?k:[k],m],m)),c=!0):(m._w===k._w?m._p>k._p:m?._w<k?._w)&&v.set(E,m);return v},u.tagMap);const f=u.tagMap.get("title"),h=u.tagMap.get("titleTemplate");if(s._title=f?.textContent,h){const v=h?.textContent;if(s._titleTemplate=v,v){let m=typeof v=="function"?v(f?.textContent):v;typeof m=="string"&&!s.plugins.has("template-params")&&(m=m.replace("%s",f?.textContent||"")),f?m===null?u.tagMap.delete("title"):u.tagMap.set("title",{...f,textContent:m}):(h.tag="title",h.textContent=m)}}u.tags=Array.from(u.tagMap.values()),c&&(u.tags=u.tags.flat().sort(Xf)),await t.callHook("tags:beforeResolve",u),await t.callHook("tags:resolve",u),await t.callHook("tags:afterResolve",u);const p=[];for(const v of u.tags){const{innerHTML:m,tag:E,props:k}=v;if(r0.has(E)&&!(Object.keys(k).length===0&&!v.innerHTML&&!v.textContent)&&!(E==="meta"&&!k.content&&!k["http-equiv"]&&!k.charset)){if(E==="script"&&m){if(k.type?.endsWith("json")){const M=typeof m=="string"?m:JSON.stringify(m);v.innerHTML=M.replace(/</g,"\\u003C")}else typeof m=="string"&&(v.innerHTML=m.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));v._d=xl(v)}p.push(v)}}return p},invalidate(){for(const u of r.values())i.add(u._i);s.dirty=!0,t.callHook("entries:updated",s)}};return(e?.plugins||[]).forEach(u=>ed(s,u)),s.hooks.callHook("init",s),e.init?.forEach(u=>u&&s.push(u)),s}async function tg(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async o=>{const i=new Map,s=new Promise(m=>{e.resolveTags().then(E=>{m(E.map(k=>{const M=i.get(k._d)||0,A={tag:k,id:(M?`${k._d}:${M}`:k._d)||Yf(k),shouldRender:!0};return k._d&&Qp(k._d)&&i.set(k._d,M+1),A}))})});let u=e._dom;if(!u){u={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const m of["body","head"]){const E=n[m]?.children;for(const k of E){const M=k.tagName.toLowerCase();if(!Wf.has(M))continue;const A=eg({tag:M,props:{}},{innerHTML:k.innerHTML,...k.getAttributeNames().reduce(($,P)=>($[P]=k.getAttribute(P),$),{})||{}});if(A.key=k.getAttribute("data-hid")||void 0,A._d=xl(A)||Yf(A),u.elMap.has(A._d)){let $=1,P=A._d;for(;u.elMap.has(P);)P=`${A._d}:${$++}`;u.elMap.set(P,k)}else u.elMap.set(A._d,k)}}}u.pendingSideEffects={...u.sideEffects},u.sideEffects={};function c(m,E,k){const M=`${m}:${E}`;u.sideEffects[M]=k,delete u.pendingSideEffects[M]}function f({id:m,$el:E,tag:k}){const M=k.tag.endsWith("Attrs");u.elMap.set(m,E),M||(k.textContent&&k.textContent!==E.textContent&&(E.textContent=k.textContent),k.innerHTML&&k.innerHTML!==E.innerHTML&&(E.innerHTML=k.innerHTML),c(m,"el",()=>{E?.remove(),u.elMap.delete(m)}));for(const A in k.props){if(!Object.prototype.hasOwnProperty.call(k.props,A))continue;const $=k.props[A];if(A.startsWith("on")&&typeof $=="function"){const N=E?.dataset;if(N&&N[`${A}fired`]){const re=A.slice(0,-5);$.call(E,new Event(re.substring(2)))}E.getAttribute(`data-${A}`)!==""&&((k.tag==="bodyAttrs"?n.defaultView:E).addEventListener(A.substring(2),$.bind(E)),E.setAttribute(`data-${A}`,""));continue}const P=`attr:${A}`;if(A==="class"){if(!$)continue;for(const N of $)M&&c(m,`${P}:${N}`,()=>E.classList.remove(N)),!E.classList.contains(N)&&E.classList.add(N)}else if(A==="style"){if(!$)continue;for(const[N,re]of $)c(m,`${P}:${N}`,()=>{E.style.removeProperty(N)}),E.style.setProperty(N,re)}else $!==!1&&$!==null&&(E.getAttribute(A)!==$&&E.setAttribute(A,$===!0?"":String($)),M&&c(m,P,()=>E.removeAttribute(A)))}}const h=[],p={bodyClose:void 0,bodyOpen:void 0,head:void 0},v=await s;for(const m of v){const{tag:E,shouldRender:k,id:M}=m;if(k){if(E.tag==="title"){n.title=E.textContent,c("title","",()=>n.title=u.title);continue}m.$el=m.$el||u.elMap.get(M),m.$el?f(m):Wf.has(E.tag)&&h.push(m)}}for(const m of h){const E=m.tag.tagPosition||"head";m.$el=n.createElement(m.tag.tag),f(m),p[E]=p[E]||n.createDocumentFragment(),p[E].appendChild(m.$el)}for(const m of v)await e.hooks.callHook("dom:renderTag",m,n,c);p.head&&n.head.appendChild(p.head),p.bodyOpen&&n.body.insertBefore(p.bodyOpen,n.body.firstChild),p.bodyClose&&n.body.appendChild(p.bodyClose);for(const m in u.pendingSideEffects)u.pendingSideEffects[m]();e._dom=u,await e.hooks.callHook("dom:rendered",{renders:v}),o()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function v0(e={}){const t=e.domOptions?.render||tg;e.document=e.document||(typeof window<"u"?document:void 0);const n=e.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return m0({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function y0(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}const _0=(e,t)=>yt(t)?it(t):t,ng="usehead";function b0(e){return{install(n){n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(ng,e)}}.install}function w0(){if(Ip()){const e=qt(ng);if(!e)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function rg(e,t={}){const n=t.head||w0();return n.ssr?n.push(e||{},t):x0(n,e,t)}function x0(e,t,n={}){const r=rt(!1);let o;return Ma(()=>{const s=r.value?{}:oa(t,_0);o?o.patch(s):o=e.push(s,n)}),qn()&&(Aa(()=>{o.dispose()}),vp(()=>{r.value=!0}),mp(()=>{r.value=!1})),o}function S0(e={}){const t=v0({domOptions:{render:y0(()=>tg(t),n=>setTimeout(n,0))},...e});return t.install=b0(t),t}const hn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},E0={},k0={class:"app-root"};function C0(e,t){const n=Zo("RouterView");return ve(),_e("div",k0,[tt(n)])}const I0=hn(E0,[["render",C0]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const xo=typeof document<"u";function og(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function P0(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&og(e.default)}const gt=Object.assign;function Ku(e,t){const n={};for(const r in t){const o=t[r];n[r]=Nn(o)?o.map(e):e(o)}return n}const wi=()=>{},Nn=Array.isArray,ig=/#/g,T0=/&/g,N0=/\//g,$0=/=/g,O0=/\?/g,sg=/\+/g,A0=/%5B/g,M0=/%5D/g,ag=/%5E/g,D0=/%60/g,ug=/%7B/g,R0=/%7C/g,lg=/%7D/g,z0=/%20/g;function pc(e){return encodeURI(""+e).replace(R0,"|").replace(A0,"[").replace(M0,"]")}function B0(e){return pc(e).replace(ug,"{").replace(lg,"}").replace(ag,"^")}function Sl(e){return pc(e).replace(sg,"%2B").replace(z0,"+").replace(ig,"%23").replace(T0,"%26").replace(D0,"`").replace(ug,"{").replace(lg,"}").replace(ag,"^")}function F0(e){return Sl(e).replace($0,"%3D")}function j0(e){return pc(e).replace(ig,"%23").replace(O0,"%3F")}function V0(e){return e==null?"":j0(e).replace(N0,"%2F")}function Oi(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const L0=/\/$/,H0=e=>e.replace(L0,"");function qu(e,t,n="/"){let r,o={},i="",s="";const u=t.indexOf("#");let c=t.indexOf("?");return u<c&&u>=0&&(c=-1),c>-1&&(r=t.slice(0,c),i=t.slice(c+1,u>-1?u:t.length),o=e(i)),u>-1&&(r=r||t.slice(0,u),s=t.slice(u,t.length)),r=q0(r??t,n),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:Oi(s)}}function Z0(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function td(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function U0(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&zo(t.matched[r],n.matched[o])&&cg(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function zo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function cg(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!K0(e[n],t[n]))return!1;return!0}function K0(e,t){return Nn(e)?nd(e,t):Nn(t)?nd(t,e):e===t}function nd(e,t){return Nn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function q0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let i=n.length-1,s,u;for(s=0;s<r.length;s++)if(u=r[s],u!==".")if(u==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s).join("/")}const wr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ai;(function(e){e.pop="pop",e.push="push"})(Ai||(Ai={}));var xi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(xi||(xi={}));function G0(e){if(!e)if(xo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),H0(e)}const W0=/^[^#]+#/;function Y0(e,t){return e.replace(W0,"#")+t}function X0(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ja=()=>({left:window.scrollX,top:window.scrollY});function J0(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=X0(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function rd(e,t){return(history.state?history.state.position-t:-1)+e}const El=new Map;function Q0(e,t){El.set(e,t)}function eb(e){const t=El.get(e);return El.delete(e),t}let tb=()=>location.protocol+"//"+location.host;function fg(e,t){const{pathname:n,search:r,hash:o}=t,i=e.indexOf("#");if(i>-1){let u=o.includes(e.slice(i))?e.slice(i).length:1,c=o.slice(u);return c[0]!=="/"&&(c="/"+c),td(c,"")}return td(n,e)+r+o}function nb(e,t,n,r){let o=[],i=[],s=null;const u=({state:v})=>{const m=fg(e,location),E=n.value,k=t.value;let M=0;if(v){if(n.value=m,t.value=v,s&&s===E){s=null;return}M=k?v.position-k.position:0}else r(m);o.forEach(A=>{A(n.value,E,{delta:M,type:Ai.pop,direction:M?M>0?xi.forward:xi.back:xi.unknown})})};function c(){s=n.value}function f(v){o.push(v);const m=()=>{const E=o.indexOf(v);E>-1&&o.splice(E,1)};return i.push(m),m}function h(){const{history:v}=window;v.state&&v.replaceState(gt({},v.state,{scroll:ja()}),"")}function p(){for(const v of i)v();i=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:f,destroy:p}}function od(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?ja():null}}function rb(e){const{history:t,location:n}=window,r={value:fg(e,n)},o={value:t.state};o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,f,h){const p=e.indexOf("#"),v=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:tb()+e+c;try{t[h?"replaceState":"pushState"](f,"",v),o.value=f}catch(m){console.error(m),n[h?"replace":"assign"](v)}}function s(c,f){const h=gt({},t.state,od(o.value.back,c,o.value.forward,!0),f,{position:o.value.position});i(c,h,!0),r.value=c}function u(c,f){const h=gt({},o.value,t.state,{forward:c,scroll:ja()});i(h.current,h,!0);const p=gt({},od(r.value,c,null),{position:h.position+1},f);i(c,p,!1),r.value=c}return{location:r,state:o,push:u,replace:s}}function ob(e){e=G0(e);const t=rb(e),n=nb(e,t.state,t.location,t.replace);function r(i,s=!0){s||n.pauseListeners(),history.go(i)}const o=gt({location:"",base:e,go:r,createHref:Y0.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function ib(e){return typeof e=="string"||e&&typeof e=="object"}function dg(e){return typeof e=="string"||typeof e=="symbol"}const hg=Symbol("");var id;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(id||(id={}));function Bo(e,t){return gt(new Error,{type:e,[hg]:!0},t)}function Jn(e,t){return e instanceof Error&&hg in e&&(t==null||!!(e.type&t))}const sd="[^/]+?",sb={sensitive:!1,strict:!1,start:!0,end:!0},ab=/[.+*?^${}()[\]/\\]/g;function ub(e,t){const n=gt({},sb,t),r=[];let o=n.start?"^":"";const i=[];for(const f of e){const h=f.length?[]:[90];n.strict&&!f.length&&(o+="/");for(let p=0;p<f.length;p++){const v=f[p];let m=40+(n.sensitive?.25:0);if(v.type===0)p||(o+="/"),o+=v.value.replace(ab,"\\$&"),m+=40;else if(v.type===1){const{value:E,repeatable:k,optional:M,regexp:A}=v;i.push({name:E,repeatable:k,optional:M});const $=A||sd;if($!==sd){m+=10;try{new RegExp(`(${$})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${E}" (${$}): `+N.message)}}let P=k?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;p||(P=M&&f.length<2?`(?:/${P})`:"/"+P),M&&(P+="?"),o+=P,m+=20,M&&(m+=-8),k&&(m+=-20),$===".*"&&(m+=-50)}h.push(m)}r.push(h)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");function u(f){const h=f.match(s),p={};if(!h)return null;for(let v=1;v<h.length;v++){const m=h[v]||"",E=i[v-1];p[E.name]=m&&E.repeatable?m.split("/"):m}return p}function c(f){let h="",p=!1;for(const v of e){(!p||!h.endsWith("/"))&&(h+="/"),p=!1;for(const m of v)if(m.type===0)h+=m.value;else if(m.type===1){const{value:E,repeatable:k,optional:M}=m,A=E in f?f[E]:"";if(Nn(A)&&!k)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const $=Nn(A)?A.join("/"):A;if(!$)if(M)v.length<2&&(h.endsWith("/")?h=h.slice(0,-1):p=!0);else throw new Error(`Missing required param "${E}"`);h+=$}}return h||"/"}return{re:s,score:r,keys:i,parse:u,stringify:c}}function lb(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function pg(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const i=lb(r[n],o[n]);if(i)return i;n++}if(Math.abs(o.length-r.length)===1){if(ad(r))return 1;if(ad(o))return-1}return o.length-r.length}function ad(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const cb={type:0,value:""},fb=/[a-zA-Z0-9_]/;function db(e){if(!e)return[[]];if(e==="/")return[[cb]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${f}": ${m}`)}let n=0,r=n;const o=[];let i;function s(){i&&o.push(i),i=[]}let u=0,c,f="",h="";function p(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),f="")}function v(){f+=c}for(;u<e.length;){if(c=e[u++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(f&&p(),s()):c===":"?(p(),n=1):v();break;case 4:v(),n=r;break;case 1:c==="("?n=2:fb.test(c)?v():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&u--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),p(),s(),o}function hb(e,t,n){const r=ub(db(e.path),n),o=gt(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function pb(e,t){const n=[],r=new Map;t=fd({strict:!1,end:!0,sensitive:!1},t);function o(p){return r.get(p)}function i(p,v,m){const E=!m,k=ld(p);k.aliasOf=m&&m.record;const M=fd(t,p),A=[k];if("alias"in p){const N=typeof p.alias=="string"?[p.alias]:p.alias;for(const re of N)A.push(ld(gt({},k,{components:m?m.record.components:k.components,path:re,aliasOf:m?m.record:k})))}let $,P;for(const N of A){const{path:re}=N;if(v&&re[0]!=="/"){const ce=v.record.path,q=ce[ce.length-1]==="/"?"":"/";N.path=v.record.path+(re&&q+re)}if($=hb(N,v,M),m?m.alias.push($):(P=P||$,P!==$&&P.alias.push($),E&&p.name&&!cd($)&&s(p.name)),gg($)&&c($),k.children){const ce=k.children;for(let q=0;q<ce.length;q++)i(ce[q],$,m&&m.children[q])}m=m||$}return P?()=>{s(P)}:wi}function s(p){if(dg(p)){const v=r.get(p);v&&(r.delete(p),n.splice(n.indexOf(v),1),v.children.forEach(s),v.alias.forEach(s))}else{const v=n.indexOf(p);v>-1&&(n.splice(v,1),p.record.name&&r.delete(p.record.name),p.children.forEach(s),p.alias.forEach(s))}}function u(){return n}function c(p){const v=vb(p,n);n.splice(v,0,p),p.record.name&&!cd(p)&&r.set(p.record.name,p)}function f(p,v){let m,E={},k,M;if("name"in p&&p.name){if(m=r.get(p.name),!m)throw Bo(1,{location:p});M=m.record.name,E=gt(ud(v.params,m.keys.filter(P=>!P.optional).concat(m.parent?m.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),p.params&&ud(p.params,m.keys.map(P=>P.name))),k=m.stringify(E)}else if(p.path!=null)k=p.path,m=n.find(P=>P.re.test(k)),m&&(E=m.parse(k),M=m.record.name);else{if(m=v.name?r.get(v.name):n.find(P=>P.re.test(v.path)),!m)throw Bo(1,{location:p,currentLocation:v});M=m.record.name,E=gt({},v.params,p.params),k=m.stringify(E)}const A=[];let $=m;for(;$;)A.unshift($.record),$=$.parent;return{name:M,path:k,params:E,matched:A,meta:mb(A)}}e.forEach(p=>i(p));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:f,removeRoute:s,clearRoutes:h,getRoutes:u,getRecordMatcher:o}}function ud(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function ld(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:gb(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function gb(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function cd(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mb(e){return e.reduce((t,n)=>gt(t,n.meta),{})}function fd(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function vb(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;pg(e,t[i])<0?r=i:n=i+1}const o=yb(e);return o&&(r=t.lastIndexOf(o,r-1)),r}function yb(e){let t=e;for(;t=t.parent;)if(gg(t)&&pg(e,t)===0)return t}function gg({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function _b(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const i=r[o].replace(sg," "),s=i.indexOf("="),u=Oi(s<0?i:i.slice(0,s)),c=s<0?null:Oi(i.slice(s+1));if(u in t){let f=t[u];Nn(f)||(f=t[u]=[f]),f.push(c)}else t[u]=c}return t}function dd(e){let t="";for(let n in e){const r=e[n];if(n=F0(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Nn(r)?r.map(i=>i&&Sl(i)):[r&&Sl(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function bb(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Nn(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const wb=Symbol(""),hd=Symbol(""),gc=Symbol(""),mc=Symbol(""),kl=Symbol("");function ii(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ir(e,t,n,r,o,i=s=>s()){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,c)=>{const f=v=>{v===!1?c(Bo(4,{from:n,to:t})):v instanceof Error?c(v):ib(v)?c(Bo(2,{from:t,to:v})):(s&&r.enterCallbacks[o]===s&&typeof v=="function"&&s.push(v),u())},h=i(()=>e.call(r&&r.instances[o],t,n,f));let p=Promise.resolve(h);e.length<3&&(p=p.then(f)),p.catch(v=>c(v))})}function Gu(e,t,n,r,o=i=>i()){const i=[];for(const s of e)for(const u in s.components){let c=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(og(c)){const h=(c.__vccOpts||c)[t];h&&i.push(Ir(h,n,r,s,u,o))}else{let f=c();i.push(()=>f.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${u}" at "${s.path}"`);const p=P0(h)?h.default:h;s.mods[u]=h,s.components[u]=p;const m=(p.__vccOpts||p)[t];return m&&Ir(m,n,r,s,u,o)()}))}}return i}function pd(e){const t=qt(gc),n=qt(mc),r=De(()=>{const c=Pe(e.to);return t.resolve(c)}),o=De(()=>{const{matched:c}=r.value,{length:f}=c,h=c[f-1],p=n.matched;if(!h||!p.length)return-1;const v=p.findIndex(zo.bind(null,h));if(v>-1)return v;const m=gd(c[f-2]);return f>1&&gd(h)===m&&p[p.length-1].path!==m?p.findIndex(zo.bind(null,c[f-2])):v}),i=De(()=>o.value>-1&&Cb(n.params,r.value.params)),s=De(()=>o.value>-1&&o.value===n.matched.length-1&&cg(n.params,r.value.params));function u(c={}){if(kb(c)){const f=t[Pe(e.replace)?"replace":"push"](Pe(e.to)).catch(wi);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:De(()=>r.value.href),isActive:i,isExactActive:s,navigate:u}}function xb(e){return e.length===1?e[0]:e}const Sb=ot({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:pd,setup(e,{slots:t}){const n=io(pd(e)),{options:r}=qt(gc),o=De(()=>({[md(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[md(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&xb(t.default(n));return e.custom?i:ht("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),Eb=Sb;function kb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Cb(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Nn(o)||o.length!==r.length||r.some((i,s)=>i!==o[s]))return!1}return!0}function gd(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const md=(e,t,n)=>e??t??n,Ib=ot({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=qt(kl),o=De(()=>e.route||r.value),i=qt(hd,0),s=De(()=>{let f=Pe(i);const{matched:h}=o.value;let p;for(;(p=h[f])&&!p.components;)f++;return f}),u=De(()=>o.value.matched[s.value]);Zn(hd,De(()=>s.value+1)),Zn(wb,u),Zn(kl,o);const c=rt();return at(()=>[c.value,u.value,e.name],([f,h,p],[v,m,E])=>{h&&(h.instances[p]=f,m&&m!==h&&f&&f===v&&(h.leaveGuards.size||(h.leaveGuards=m.leaveGuards),h.updateGuards.size||(h.updateGuards=m.updateGuards))),f&&h&&(!m||!zo(h,m)||!v)&&(h.enterCallbacks[p]||[]).forEach(k=>k(f))},{flush:"post"}),()=>{const f=o.value,h=e.name,p=u.value,v=p&&p.components[h];if(!v)return vd(n.default,{Component:v,route:f});const m=p.props[h],E=m?m===!0?f.params:typeof m=="function"?m(f):m:null,M=ht(v,gt({},E,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(p.instances[h]=null)},ref:c}));return vd(n.default,{Component:M,route:f})||M}}});function vd(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const mg=Ib;function Pb(e){const t=pb(e.routes,e),n=e.parseQuery||_b,r=e.stringifyQuery||dd,o=e.history,i=ii(),s=ii(),u=ii(),c=Pi(wr);let f=wr;xo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Ku.bind(null,ee=>""+ee),p=Ku.bind(null,V0),v=Ku.bind(null,Oi);function m(ee,ye){let J,we;return dg(ee)?(J=t.getRecordMatcher(ee),we=ye):we=ee,t.addRoute(we,J)}function E(ee){const ye=t.getRecordMatcher(ee);ye&&t.removeRoute(ye)}function k(){return t.getRoutes().map(ee=>ee.record)}function M(ee){return!!t.getRecordMatcher(ee)}function A(ee,ye){if(ye=gt({},ye||c.value),typeof ee=="string"){const _=qu(n,ee,ye.path),w=t.resolve({path:_.path},ye),C=o.createHref(_.fullPath);return gt(_,w,{params:v(w.params),hash:Oi(_.hash),redirectedFrom:void 0,href:C})}let J;if(ee.path!=null)J=gt({},ee,{path:qu(n,ee.path,ye.path).path});else{const _=gt({},ee.params);for(const w in _)_[w]==null&&delete _[w];J=gt({},ee,{params:p(_)}),ye.params=p(ye.params)}const we=t.resolve(J,ye),Ze=ee.hash||"";we.params=h(v(we.params));const S=Z0(r,gt({},ee,{hash:B0(Ze),path:we.path})),T=o.createHref(S);return gt({fullPath:S,hash:Ze,query:r===dd?bb(ee.query):ee.query||{}},we,{redirectedFrom:void 0,href:T})}function $(ee){return typeof ee=="string"?qu(n,ee,c.value.path):gt({},ee)}function P(ee,ye){if(f!==ee)return Bo(8,{from:ye,to:ee})}function N(ee){return q(ee)}function re(ee){return N(gt($(ee),{replace:!0}))}function ce(ee){const ye=ee.matched[ee.matched.length-1];if(ye&&ye.redirect){const{redirect:J}=ye;let we=typeof J=="function"?J(ee):J;return typeof we=="string"&&(we=we.includes("?")||we.includes("#")?we=$(we):{path:we},we.params={}),gt({query:ee.query,hash:ee.hash,params:we.path!=null?{}:ee.params},we)}}function q(ee,ye){const J=f=A(ee),we=c.value,Ze=ee.state,S=ee.force,T=ee.replace===!0,_=ce(J);if(_)return q(gt($(_),{state:typeof _=="object"?gt({},Ze,_.state):Ze,force:S,replace:T}),ye||J);const w=J;w.redirectedFrom=ye;let C;return!S&&U0(r,we,J)&&(C=Bo(16,{to:w,from:we}),Ae(we,we,!0,!1)),(C?Promise.resolve(C):ie(w,we)).catch(x=>Jn(x)?Jn(x,2)?x:xe(x):fe(x,w,we)).then(x=>{if(x){if(Jn(x,2))return q(gt({replace:T},$(x.to),{state:typeof x.to=="object"?gt({},Ze,x.to.state):Ze,force:S}),ye||w)}else x=R(w,we,!0,T,Ze);return ae(w,we,x),x})}function W(ee,ye){const J=P(ee,ye);return J?Promise.reject(J):Promise.resolve()}function Q(ee){const ye=$e.values().next().value;return ye&&typeof ye.runWithContext=="function"?ye.runWithContext(ee):ee()}function ie(ee,ye){let J;const[we,Ze,S]=Tb(ee,ye);J=Gu(we.reverse(),"beforeRouteLeave",ee,ye);for(const _ of we)_.leaveGuards.forEach(w=>{J.push(Ir(w,ee,ye))});const T=W.bind(null,ee,ye);return J.push(T),Oe(J).then(()=>{J=[];for(const _ of i.list())J.push(Ir(_,ee,ye));return J.push(T),Oe(J)}).then(()=>{J=Gu(Ze,"beforeRouteUpdate",ee,ye);for(const _ of Ze)_.updateGuards.forEach(w=>{J.push(Ir(w,ee,ye))});return J.push(T),Oe(J)}).then(()=>{J=[];for(const _ of S)if(_.beforeEnter)if(Nn(_.beforeEnter))for(const w of _.beforeEnter)J.push(Ir(w,ee,ye));else J.push(Ir(_.beforeEnter,ee,ye));return J.push(T),Oe(J)}).then(()=>(ee.matched.forEach(_=>_.enterCallbacks={}),J=Gu(S,"beforeRouteEnter",ee,ye,Q),J.push(T),Oe(J))).then(()=>{J=[];for(const _ of s.list())J.push(Ir(_,ee,ye));return J.push(T),Oe(J)}).catch(_=>Jn(_,8)?_:Promise.reject(_))}function ae(ee,ye,J){u.list().forEach(we=>Q(()=>we(ee,ye,J)))}function R(ee,ye,J,we,Ze){const S=P(ee,ye);if(S)return S;const T=ye===wr,_=xo?history.state:{};J&&(we||T?o.replace(ee.fullPath,gt({scroll:T&&_&&_.scroll},Ze)):o.push(ee.fullPath,Ze)),c.value=ee,Ae(ee,ye,J,T),xe()}let Ie;function j(){Ie||(Ie=o.listen((ee,ye,J)=>{if(!Le.listening)return;const we=A(ee),Ze=ce(we);if(Ze){q(gt(Ze,{replace:!0,force:!0}),we).catch(wi);return}f=we;const S=c.value;xo&&Q0(rd(S.fullPath,J.delta),ja()),ie(we,S).catch(T=>Jn(T,12)?T:Jn(T,2)?(q(gt($(T.to),{force:!0}),we).then(_=>{Jn(_,20)&&!J.delta&&J.type===Ai.pop&&o.go(-1,!1)}).catch(wi),Promise.reject()):(J.delta&&o.go(-J.delta,!1),fe(T,we,S))).then(T=>{T=T||R(we,S,!1),T&&(J.delta&&!Jn(T,8)?o.go(-J.delta,!1):J.type===Ai.pop&&Jn(T,20)&&o.go(-1,!1)),ae(we,S,T)}).catch(wi)}))}let he=ii(),H=ii(),se;function fe(ee,ye,J){xe(ee);const we=H.list();return we.length?we.forEach(Ze=>Ze(ee,ye,J)):console.error(ee),Promise.reject(ee)}function ke(){return se&&c.value!==wr?Promise.resolve():new Promise((ee,ye)=>{he.add([ee,ye])})}function xe(ee){return se||(se=!ee,j(),he.list().forEach(([ye,J])=>ee?J(ee):ye()),he.reset()),ee}function Ae(ee,ye,J,we){const{scrollBehavior:Ze}=e;if(!xo||!Ze)return Promise.resolve();const S=!J&&eb(rd(ee.fullPath,0))||(we||!J)&&history.state&&history.state.scroll||null;return vn().then(()=>Ze(ee,ye,S)).then(T=>T&&J0(T)).catch(T=>fe(T,ee,ye))}const Ve=ee=>o.go(ee);let Ue;const $e=new Set,Le={currentRoute:c,listening:!0,addRoute:m,removeRoute:E,clearRoutes:t.clearRoutes,hasRoute:M,getRoutes:k,resolve:A,options:e,push:N,replace:re,go:Ve,back:()=>Ve(-1),forward:()=>Ve(1),beforeEach:i.add,beforeResolve:s.add,afterEach:u.add,onError:H.add,isReady:ke,install(ee){const ye=this;ee.component("RouterLink",Eb),ee.component("RouterView",mg),ee.config.globalProperties.$router=ye,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>Pe(c)}),xo&&!Ue&&c.value===wr&&(Ue=!0,N(o.location).catch(Ze=>{}));const J={};for(const Ze in wr)Object.defineProperty(J,Ze,{get:()=>c.value[Ze],enumerable:!0});ee.provide(gc,ye),ee.provide(mc,tp(J)),ee.provide(kl,c);const we=ee.unmount;$e.add(ee),ee.unmount=function(){$e.delete(ee),$e.size<1&&(f=wr,Ie&&Ie(),Ie=null,c.value=wr,Ue=!1,se=!1),we()}}};function Oe(ee){return ee.reduce((ye,J)=>ye.then(()=>Q(J)),Promise.resolve())}return Le}function Tb(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let s=0;s<i;s++){const u=t.matched[s];u&&(e.matched.find(f=>zo(f,u))?r.push(u):n.push(u));const c=e.matched[s];c&&(t.matched.find(f=>zo(f,c))||o.push(c))}return[n,r,o]}function Nb(e){return qt(mc)}function Mi(e){return Pa()?(hi(e),!0):!1}function rr(e){return typeof e=="function"?e():Pe(e)}const $b=typeof window<"u"&&typeof document<"u",Ob=e=>typeof e<"u",Ab=Object.prototype.toString,Mb=e=>Ab.call(e)==="[object Object]",Db=()=>{};function Rb(e,t){function n(...r){return new Promise((o,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(o).catch(i)})}return n}const vg=e=>e();function zb(e=vg){const t=rt(!0);function n(){t.value=!1}function r(){t.value=!0}const o=(...i)=>{t.value&&e(...i)};return{isActive:tc(t),pause:n,resume:r,eventFilter:o}}function yd(e,t=!1,n="Timeout"){return new Promise((r,o)=>{setTimeout(t?()=>o(n):r,e)})}function Bb(e,t,n={}){const{eventFilter:r=vg,...o}=n;return at(e,Rb(r,t),o)}function bo(e,t,n={}){const{eventFilter:r,...o}=n,{eventFilter:i,pause:s,resume:u,isActive:c}=zb(r);return{stop:Bb(e,t,{...o,eventFilter:i}),pause:s,resume:u,isActive:c}}function Fb(e,t={}){if(!yt(e))return op(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const r in e.value)n[r]=ty(()=>({get(){return e.value[r]},set(o){var i;if((i=rr(t.replaceRef))!=null?i:!0)if(Array.isArray(e.value)){const u=[...e.value];u[r]=o,e.value=u}else{const u={...e.value,[r]:o};Object.setPrototypeOf(u,Object.getPrototypeOf(e.value)),e.value=u}else e.value[r]=o}}));return n}function Cl(e,t=!1){function n(p,{flush:v="sync",deep:m=!1,timeout:E,throwOnTimeout:k}={}){let M=null;const $=[new Promise(P=>{M=at(e,N=>{p(N)!==t&&(M?.(),P(N))},{flush:v,deep:m,immediate:!0})})];return E!=null&&$.push(yd(E,k).then(()=>rr(e)).finally(()=>M?.())),Promise.race($)}function r(p,v){if(!yt(p))return n(N=>N===p,v);const{flush:m="sync",deep:E=!1,timeout:k,throwOnTimeout:M}=v??{};let A=null;const P=[new Promise(N=>{A=at([e,p],([re,ce])=>{t!==(re===ce)&&(A?.(),N(re))},{flush:m,deep:E,immediate:!0})})];return k!=null&&P.push(yd(k,M).then(()=>rr(e)).finally(()=>(A?.(),rr(e)))),Promise.race(P)}function o(p){return n(v=>!!v,p)}function i(p){return r(null,p)}function s(p){return r(void 0,p)}function u(p){return n(Number.isNaN,p)}function c(p,v){return n(m=>{const E=Array.from(m);return E.includes(p)||E.includes(rr(p))},v)}function f(p){return h(1,p)}function h(p=1,v){let m=-1;return n(()=>(m+=1,m>=p),v)}return Array.isArray(rr(e))?{toMatch:n,toContains:c,changed:f,changedTimes:h,get not(){return Cl(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:o,toBeNull:i,toBeNaN:u,toBeUndefined:s,changed:f,changedTimes:h,get not(){return Cl(e,!t)}}}function Il(e){return Cl(e)}function jb(e){var t;const n=rr(e);return(t=n?.$el)!=null?t:n}const yg=$b?window:void 0;function _g(...e){let t,n,r,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,o]=e,t=yg):[t,n,r,o]=e,!t)return Db;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],s=()=>{i.forEach(h=>h()),i.length=0},u=(h,p,v,m)=>(h.addEventListener(p,v,m),()=>h.removeEventListener(p,v,m)),c=at(()=>[jb(t),rr(o)],([h,p])=>{if(s(),!h)return;const v=Mb(p)?{...p}:p;i.push(...n.flatMap(m=>r.map(E=>u(h,m,E,v))))},{immediate:!0,flush:"post"}),f=()=>{c(),s()};return Mi(f),f}function Vb(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function _d(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=yg,eventName:i="keydown",passive:s=!1,dedupe:u=!1}=r,c=Vb(t);return _g(o,i,h=>{h.repeat&&rr(u)||c(h)&&n(h)},s)}function Lb(e){return JSON.parse(JSON.stringify(e))}function Wu(e,t,n,r={}){var o,i,s;const{clone:u=!1,passive:c=!1,eventName:f,deep:h=!1,defaultValue:p,shouldEmit:v}=r,m=qn(),E=n||m?.emit||((o=m?.$emit)==null?void 0:o.bind(m))||((s=(i=m?.proxy)==null?void 0:i.$emit)==null?void 0:s.bind(m?.proxy));let k=f;t||(t="modelValue"),k=k||`update:${t.toString()}`;const M=P=>u?typeof u=="function"?u(P):Lb(P):P,A=()=>Ob(e[t])?M(e[t]):p,$=P=>{v?v(P)&&E(k,P):E(k,P)};if(c){const P=A(),N=rt(P);let re=!1;return at(()=>e[t],ce=>{re||(re=!0,N.value=M(ce),vn(()=>re=!1))}),at(N,ce=>{!re&&(ce!==e[t]||h)&&$(ce)},{deep:h}),N}else return De({get(){return A()},set(P){$(P)}})}var Hb={value:()=>{}};function Va(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Bs(n)}function Bs(e){this._=e}function Zb(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Bs.prototype=Va.prototype={constructor:Bs,on:function(e,t){var n=this._,r=Zb(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Ub(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=bd(n[o],e.name,t);else if(t==null)for(o in n)n[o]=bd(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Bs(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Ub(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function bd(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Hb,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Pl="http://www.w3.org/1999/xhtml";const wd={svg:"http://www.w3.org/2000/svg",xhtml:Pl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function La(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),wd.hasOwnProperty(t)?{space:wd[t],local:e}:e}function Kb(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Pl&&t.documentElement.namespaceURI===Pl?t.createElement(e):t.createElementNS(n,e)}}function qb(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function bg(e){var t=La(e);return(t.local?qb:Kb)(t)}function Gb(){}function vc(e){return e==null?Gb:function(){return this.querySelector(e)}}function Wb(e){typeof e!="function"&&(e=vc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,u=r[o]=new Array(s),c,f,h=0;h<s;++h)(c=i[h])&&(f=e.call(c,c.__data__,h,i))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f);return new yn(r,this._parents)}function Yb(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Xb(){return[]}function wg(e){return e==null?Xb:function(){return this.querySelectorAll(e)}}function Jb(e){return function(){return Yb(e.apply(this,arguments))}}function Qb(e){typeof e=="function"?e=Jb(e):e=wg(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],u=s.length,c,f=0;f<u;++f)(c=s[f])&&(r.push(e.call(c,c.__data__,f,s)),o.push(c));return new yn(r,o)}function xg(e){return function(){return this.matches(e)}}function Sg(e){return function(t){return t.matches(e)}}var ew=Array.prototype.find;function tw(e){return function(){return ew.call(this.children,e)}}function nw(){return this.firstElementChild}function rw(e){return this.select(e==null?nw:tw(typeof e=="function"?e:Sg(e)))}var ow=Array.prototype.filter;function iw(){return Array.from(this.children)}function sw(e){return function(){return ow.call(this.children,e)}}function aw(e){return this.selectAll(e==null?iw:sw(typeof e=="function"?e:Sg(e)))}function uw(e){typeof e!="function"&&(e=xg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,u=r[o]=[],c,f=0;f<s;++f)(c=i[f])&&e.call(c,c.__data__,f,i)&&u.push(c);return new yn(r,this._parents)}function Eg(e){return new Array(e.length)}function lw(){return new yn(this._enter||this._groups.map(Eg),this._parents)}function ia(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ia.prototype={constructor:ia,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function cw(e){return function(){return e}}function fw(e,t,n,r,o,i){for(var s=0,u,c=t.length,f=i.length;s<f;++s)(u=t[s])?(u.__data__=i[s],r[s]=u):n[s]=new ia(e,i[s]);for(;s<c;++s)(u=t[s])&&(o[s]=u)}function dw(e,t,n,r,o,i,s){var u,c,f=new Map,h=t.length,p=i.length,v=new Array(h),m;for(u=0;u<h;++u)(c=t[u])&&(v[u]=m=s.call(c,c.__data__,u,t)+"",f.has(m)?o[u]=c:f.set(m,c));for(u=0;u<p;++u)m=s.call(e,i[u],u,i)+"",(c=f.get(m))?(r[u]=c,c.__data__=i[u],f.delete(m)):n[u]=new ia(e,i[u]);for(u=0;u<h;++u)(c=t[u])&&f.get(v[u])===c&&(o[u]=c)}function hw(e){return e.__data__}function pw(e,t){if(!arguments.length)return Array.from(this,hw);var n=t?dw:fw,r=this._parents,o=this._groups;typeof e!="function"&&(e=cw(e));for(var i=o.length,s=new Array(i),u=new Array(i),c=new Array(i),f=0;f<i;++f){var h=r[f],p=o[f],v=p.length,m=gw(e.call(h,h&&h.__data__,f,r)),E=m.length,k=u[f]=new Array(E),M=s[f]=new Array(E),A=c[f]=new Array(v);n(h,p,k,M,A,m,t);for(var $=0,P=0,N,re;$<E;++$)if(N=k[$]){for($>=P&&(P=$+1);!(re=M[P])&&++P<E;);N._next=re||null}}return s=new yn(s,r),s._enter=u,s._exit=c,s}function gw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mw(){return new yn(this._exit||this._groups.map(Eg),this._parents)}function vw(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function yw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),u=new Array(o),c=0;c<s;++c)for(var f=n[c],h=r[c],p=f.length,v=u[c]=new Array(p),m,E=0;E<p;++E)(m=f[E]||h[E])&&(v[E]=m);for(;c<o;++c)u[c]=n[c];return new yn(u,this._parents)}function _w(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function bw(e){e||(e=ww);function t(p,v){return p&&v?e(p.__data__,v.__data__):!p-!v}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],u=s.length,c=o[i]=new Array(u),f,h=0;h<u;++h)(f=s[h])&&(c[h]=f);c.sort(t)}return new yn(o,this._parents).order()}function ww(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Sw(){return Array.from(this)}function Ew(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function kw(){let e=0;for(const t of this)++e;return e}function Cw(){return!this.node()}function Iw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,u;i<s;++i)(u=o[i])&&e.call(u,u.__data__,i,o);return this}function Pw(e){return function(){this.removeAttribute(e)}}function Tw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Nw(e,t){return function(){this.setAttribute(e,t)}}function $w(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ow(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Aw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Mw(e,t){var n=La(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Tw:Pw:typeof t=="function"?n.local?Aw:Ow:n.local?$w:Nw)(n,t))}function kg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Dw(e){return function(){this.style.removeProperty(e)}}function Rw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function zw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Bw(e,t,n){return arguments.length>1?this.each((t==null?Dw:typeof t=="function"?zw:Rw)(e,t,n??"")):Fo(this.node(),e)}function Fo(e,t){return e.style.getPropertyValue(t)||kg(e).getComputedStyle(e,null).getPropertyValue(t)}function Fw(e){return function(){delete this[e]}}function jw(e,t){return function(){this[e]=t}}function Vw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Lw(e,t){return arguments.length>1?this.each((t==null?Fw:typeof t=="function"?Vw:jw)(e,t)):this.node()[e]}function Cg(e){return e.trim().split(/^|\s+/)}function yc(e){return e.classList||new Ig(e)}function Ig(e){this._node=e,this._names=Cg(e.getAttribute("class")||"")}Ig.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Pg(e,t){for(var n=yc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Tg(e,t){for(var n=yc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Hw(e){return function(){Pg(this,e)}}function Zw(e){return function(){Tg(this,e)}}function Uw(e,t){return function(){(t.apply(this,arguments)?Pg:Tg)(this,e)}}function Kw(e,t){var n=Cg(e+"");if(arguments.length<2){for(var r=yc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Uw:t?Hw:Zw)(n,t))}function qw(){this.textContent=""}function Gw(e){return function(){this.textContent=e}}function Ww(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Yw(e){return arguments.length?this.each(e==null?qw:(typeof e=="function"?Ww:Gw)(e)):this.node().textContent}function Xw(){this.innerHTML=""}function Jw(e){return function(){this.innerHTML=e}}function Qw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function e1(e){return arguments.length?this.each(e==null?Xw:(typeof e=="function"?Qw:Jw)(e)):this.node().innerHTML}function t1(){this.nextSibling&&this.parentNode.appendChild(this)}function n1(){return this.each(t1)}function r1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function o1(){return this.each(r1)}function i1(e){var t=typeof e=="function"?e:bg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function s1(){return null}function a1(e,t){var n=typeof e=="function"?e:bg(e),r=t==null?s1:typeof t=="function"?t:vc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function u1(){var e=this.parentNode;e&&e.removeChild(this)}function l1(){return this.each(u1)}function c1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function f1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function d1(e){return this.select(e?f1:c1)}function h1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function p1(e){return function(t){e.call(this,t,this.__data__)}}function g1(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function m1(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function v1(e,t,n){return function(){var r=this.__on,o,i=p1(t);if(r){for(var s=0,u=r.length;s<u;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function y1(e,t,n){var r=g1(e+""),o,i=r.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,f=u.length,h;c<f;++c)for(o=0,h=u[c];o<i;++o)if((s=r[o]).type===h.type&&s.name===h.name)return h.value}return}for(u=t?v1:m1,o=0;o<i;++o)this.each(u(r[o],t,n));return this}function Ng(e,t,n){var r=kg(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function _1(e,t){return function(){return Ng(this,e,t)}}function b1(e,t){return function(){return Ng(this,e,t.apply(this,arguments))}}function w1(e,t){return this.each((typeof t=="function"?b1:_1)(e,t))}function*x1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var $g=[null];function yn(e,t){this._groups=e,this._parents=t}function Ui(){return new yn([[document.documentElement]],$g)}function S1(){return this}yn.prototype=Ui.prototype={constructor:yn,select:Wb,selectAll:Qb,selectChild:rw,selectChildren:aw,filter:uw,data:pw,enter:lw,exit:mw,join:vw,merge:yw,selection:S1,order:_w,sort:bw,call:xw,nodes:Sw,node:Ew,size:kw,empty:Cw,each:Iw,attr:Mw,style:Bw,property:Lw,classed:Kw,text:Yw,html:e1,raise:n1,lower:o1,append:i1,insert:a1,remove:l1,clone:d1,datum:h1,on:y1,dispatch:w1,[Symbol.iterator]:x1};function kn(e){return typeof e=="string"?new yn([[document.querySelector(e)]],[document.documentElement]):new yn([[e]],$g)}function E1(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Bn(e,t){if(e=E1(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const k1={passive:!1},Di={capture:!0,passive:!1};function Yu(e){e.stopImmediatePropagation()}function No(e){e.preventDefault(),e.stopImmediatePropagation()}function Og(e){var t=e.document.documentElement,n=kn(e).on("dragstart.drag",No,Di);"onselectstart"in t?n.on("selectstart.drag",No,Di):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ag(e,t){var n=e.document.documentElement,r=kn(e).on("dragstart.drag",null);t&&(r.on("click.drag",No,Di),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const xs=e=>()=>e;function Tl(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:u,dx:c,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}Tl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function C1(e){return!e.ctrlKey&&!e.button}function I1(){return this.parentNode}function P1(e,t){return t??{x:e.x,y:e.y}}function T1(){return navigator.maxTouchPoints||"ontouchstart"in this}function N1(){var e=C1,t=I1,n=P1,r=T1,o={},i=Va("start","drag","end"),s=0,u,c,f,h,p=0;function v(N){N.on("mousedown.drag",m).filter(r).on("touchstart.drag",M).on("touchmove.drag",A,k1).on("touchend.drag touchcancel.drag",$).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(N,re){if(!(h||!e.call(this,N,re))){var ce=P(this,t.call(this,N,re),N,re,"mouse");ce&&(kn(N.view).on("mousemove.drag",E,Di).on("mouseup.drag",k,Di),Og(N.view),Yu(N),f=!1,u=N.clientX,c=N.clientY,ce("start",N))}}function E(N){if(No(N),!f){var re=N.clientX-u,ce=N.clientY-c;f=re*re+ce*ce>p}o.mouse("drag",N)}function k(N){kn(N.view).on("mousemove.drag mouseup.drag",null),Ag(N.view,f),No(N),o.mouse("end",N)}function M(N,re){if(e.call(this,N,re)){var ce=N.changedTouches,q=t.call(this,N,re),W=ce.length,Q,ie;for(Q=0;Q<W;++Q)(ie=P(this,q,N,re,ce[Q].identifier,ce[Q]))&&(Yu(N),ie("start",N,ce[Q]))}}function A(N){var re=N.changedTouches,ce=re.length,q,W;for(q=0;q<ce;++q)(W=o[re[q].identifier])&&(No(N),W("drag",N,re[q]))}function $(N){var re=N.changedTouches,ce=re.length,q,W;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),q=0;q<ce;++q)(W=o[re[q].identifier])&&(Yu(N),W("end",N,re[q]))}function P(N,re,ce,q,W,Q){var ie=i.copy(),ae=Bn(Q||ce,re),R,Ie,j;if((j=n.call(N,new Tl("beforestart",{sourceEvent:ce,target:v,identifier:W,active:s,x:ae[0],y:ae[1],dx:0,dy:0,dispatch:ie}),q))!=null)return R=j.x-ae[0]||0,Ie=j.y-ae[1]||0,function he(H,se,fe){var ke=ae,xe;switch(H){case"start":o[W]=he,xe=s++;break;case"end":delete o[W],--s;case"drag":ae=Bn(fe||se,re),xe=s;break}ie.call(H,N,new Tl(H,{sourceEvent:se,subject:j,target:v,identifier:W,active:xe,x:ae[0]+R,y:ae[1]+Ie,dx:ae[0]-ke[0],dy:ae[1]-ke[1],dispatch:ie}),q)}}return v.filter=function(N){return arguments.length?(e=typeof N=="function"?N:xs(!!N),v):e},v.container=function(N){return arguments.length?(t=typeof N=="function"?N:xs(N),v):t},v.subject=function(N){return arguments.length?(n=typeof N=="function"?N:xs(N),v):n},v.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:xs(!!N),v):r},v.on=function(){var N=i.on.apply(i,arguments);return N===i?v:N},v.clickDistance=function(N){return arguments.length?(p=(N=+N)*N,v):Math.sqrt(p)},v}function _c(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Mg(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ki(){}var Ri=.7,sa=1/Ri,$o="\\s*([+-]?\\d+)\\s*",zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$1=/^#([0-9a-f]{3,8})$/,O1=new RegExp(`^rgb\\(${$o},${$o},${$o}\\)$`),A1=new RegExp(`^rgb\\(${Un},${Un},${Un}\\)$`),M1=new RegExp(`^rgba\\(${$o},${$o},${$o},${zi}\\)$`),D1=new RegExp(`^rgba\\(${Un},${Un},${Un},${zi}\\)$`),R1=new RegExp(`^hsl\\(${zi},${Un},${Un}\\)$`),z1=new RegExp(`^hsla\\(${zi},${Un},${Un},${zi}\\)$`),xd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_c(Ki,eo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Sd,formatHex:Sd,formatHex8:B1,formatHsl:F1,formatRgb:Ed,toString:Ed});function Sd(){return this.rgb().formatHex()}function B1(){return this.rgb().formatHex8()}function F1(){return Dg(this).formatHsl()}function Ed(){return this.rgb().formatRgb()}function eo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$1.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kd(t):n===3?new pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ss(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ss(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O1.exec(e))?new pn(t[1],t[2],t[3],1):(t=A1.exec(e))?new pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=M1.exec(e))?Ss(t[1],t[2],t[3],t[4]):(t=D1.exec(e))?Ss(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=R1.exec(e))?Pd(t[1],t[2]/100,t[3]/100,1):(t=z1.exec(e))?Pd(t[1],t[2]/100,t[3]/100,t[4]):xd.hasOwnProperty(e)?kd(xd[e]):e==="transparent"?new pn(NaN,NaN,NaN,0):null}function kd(e){return new pn(e>>16&255,e>>8&255,e&255,1)}function Ss(e,t,n,r){return r<=0&&(e=t=n=NaN),new pn(e,t,n,r)}function j1(e){return e instanceof Ki||(e=eo(e)),e?(e=e.rgb(),new pn(e.r,e.g,e.b,e.opacity)):new pn}function Nl(e,t,n,r){return arguments.length===1?j1(e):new pn(e,t,n,r??1)}function pn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_c(pn,Nl,Mg(Ki,{brighter(e){return e=e==null?sa:Math.pow(sa,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ri:Math.pow(Ri,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pn(Jr(this.r),Jr(this.g),Jr(this.b),aa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cd,formatHex:Cd,formatHex8:V1,formatRgb:Id,toString:Id}));function Cd(){return`#${Gr(this.r)}${Gr(this.g)}${Gr(this.b)}`}function V1(){return`#${Gr(this.r)}${Gr(this.g)}${Gr(this.b)}${Gr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Id(){const e=aa(this.opacity);return`${e===1?"rgb(":"rgba("}${Jr(this.r)}, ${Jr(this.g)}, ${Jr(this.b)}${e===1?")":`, ${e})`}`}function aa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gr(e){return e=Jr(e),(e<16?"0":"")+e.toString(16)}function Pd(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Cn(e,t,n,r)}function Dg(e){if(e instanceof Cn)return new Cn(e.h,e.s,e.l,e.opacity);if(e instanceof Ki||(e=eo(e)),!e)return new Cn;if(e instanceof Cn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,u=i-o,c=(i+o)/2;return u?(t===i?s=(n-r)/u+(n<r)*6:n===i?s=(r-t)/u+2:s=(t-n)/u+4,u/=c<.5?i+o:2-i-o,s*=60):u=c>0&&c<1?0:s,new Cn(s,u,c,e.opacity)}function L1(e,t,n,r){return arguments.length===1?Dg(e):new Cn(e,t,n,r??1)}function Cn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_c(Cn,L1,Mg(Ki,{brighter(e){return e=e==null?sa:Math.pow(sa,e),new Cn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ri:Math.pow(Ri,e),new Cn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new pn(Xu(e>=240?e-240:e+120,o,r),Xu(e,o,r),Xu(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Cn(Td(this.h),Es(this.s),Es(this.l),aa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=aa(this.opacity);return`${e===1?"hsl(":"hsla("}${Td(this.h)}, ${Es(this.s)*100}%, ${Es(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Td(e){return e=(e||0)%360,e<0?e+360:e}function Es(e){return Math.max(0,Math.min(1,e||0))}function Xu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const bc=e=>()=>e;function H1(e,t){return function(n){return e+n*t}}function Z1(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function U1(e){return(e=+e)==1?Rg:function(t,n){return n-t?Z1(t,n,e):bc(isNaN(t)?n:t)}}function Rg(e,t){var n=t-e;return n?H1(e,n):bc(isNaN(e)?t:e)}const ua=(function e(t){var n=U1(t);function r(o,i){var s=n((o=Nl(o)).r,(i=Nl(i)).r),u=n(o.g,i.g),c=n(o.b,i.b),f=Rg(o.opacity,i.opacity);return function(h){return o.r=s(h),o.g=u(h),o.b=c(h),o.opacity=f(h),o+""}}return r.gamma=e,r})(1);function K1(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function q1(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function G1(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=Si(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(u){for(s=0;s<r;++s)i[s]=o[s](u);return i}}function W1(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function jn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Y1(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Si(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var $l=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ju=new RegExp($l.source,"g");function X1(e){return function(){return e}}function J1(e){return function(t){return e(t)+""}}function zg(e,t){var n=$l.lastIndex=Ju.lastIndex=0,r,o,i,s=-1,u=[],c=[];for(e=e+"",t=t+"";(r=$l.exec(e))&&(o=Ju.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),u[s]?u[s]+=i:u[++s]=i),(r=r[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,c.push({i:s,x:jn(r,o)})),n=Ju.lastIndex;return n<t.length&&(i=t.slice(n),u[s]?u[s]+=i:u[++s]=i),u.length<2?c[0]?J1(c[0].x):X1(t):(t=c.length,function(f){for(var h=0,p;h<t;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function Si(e,t){var n=typeof t,r;return t==null||n==="boolean"?bc(t):(n==="number"?jn:n==="string"?(r=eo(t))?(t=r,ua):zg:t instanceof eo?ua:t instanceof Date?W1:q1(t)?K1:Array.isArray(t)?G1:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Y1:jn)(e,t)}var Nd=180/Math.PI,Ol={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bg(e,t,n,r,o,i){var s,u,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Nd,skewX:Math.atan(c)*Nd,scaleX:s,scaleY:u}}var ks;function Q1(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ol:Bg(t.a,t.b,t.c,t.d,t.e,t.f)}function ex(e){return e==null||(ks||(ks=document.createElementNS("http://www.w3.org/2000/svg","g")),ks.setAttribute("transform",e),!(e=ks.transform.baseVal.consolidate()))?Ol:(e=e.matrix,Bg(e.a,e.b,e.c,e.d,e.e,e.f))}function Fg(e,t,n,r){function o(f){return f.length?f.pop()+" ":""}function i(f,h,p,v,m,E){if(f!==p||h!==v){var k=m.push("translate(",null,t,null,n);E.push({i:k-4,x:jn(f,p)},{i:k-2,x:jn(h,v)})}else(p||v)&&m.push("translate("+p+t+v+n)}function s(f,h,p,v){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),v.push({i:p.push(o(p)+"rotate(",null,r)-2,x:jn(f,h)})):h&&p.push(o(p)+"rotate("+h+r)}function u(f,h,p,v){f!==h?v.push({i:p.push(o(p)+"skewX(",null,r)-2,x:jn(f,h)}):h&&p.push(o(p)+"skewX("+h+r)}function c(f,h,p,v,m,E){if(f!==p||h!==v){var k=m.push(o(m)+"scale(",null,",",null,")");E.push({i:k-4,x:jn(f,p)},{i:k-2,x:jn(h,v)})}else(p!==1||v!==1)&&m.push(o(m)+"scale("+p+","+v+")")}return function(f,h){var p=[],v=[];return f=e(f),h=e(h),i(f.translateX,f.translateY,h.translateX,h.translateY,p,v),s(f.rotate,h.rotate,p,v),u(f.skewX,h.skewX,p,v),c(f.scaleX,f.scaleY,h.scaleX,h.scaleY,p,v),f=h=null,function(m){for(var E=-1,k=v.length,M;++E<k;)p[(M=v[E]).i]=M.x(m);return p.join("")}}}var tx=Fg(Q1,"px, ","px)","deg)"),nx=Fg(ex,", ",")",")"),rx=1e-12;function $d(e){return((e=Math.exp(e))+1/e)/2}function ox(e){return((e=Math.exp(e))-1/e)/2}function ix(e){return((e=Math.exp(2*e))-1)/(e+1)}const Fs=(function e(t,n,r){function o(i,s){var u=i[0],c=i[1],f=i[2],h=s[0],p=s[1],v=s[2],m=h-u,E=p-c,k=m*m+E*E,M,A;if(k<rx)A=Math.log(v/f)/t,M=function(q){return[u+q*m,c+q*E,f*Math.exp(t*q*A)]};else{var $=Math.sqrt(k),P=(v*v-f*f+r*k)/(2*f*n*$),N=(v*v-f*f-r*k)/(2*v*n*$),re=Math.log(Math.sqrt(P*P+1)-P),ce=Math.log(Math.sqrt(N*N+1)-N);A=(ce-re)/t,M=function(q){var W=q*A,Q=$d(re),ie=f/(n*$)*(Q*ix(t*W+re)-ox(re));return[u+ie*m,c+ie*E,f*Q/$d(t*W+re)]}}return M.duration=A*1e3*t/Math.SQRT2,M}return o.rho=function(i){var s=Math.max(.001,+i),u=s*s,c=u*u;return e(s,u,c)},o})(Math.SQRT2,2,4);var jo=0,li=0,si=0,jg=1e3,la,ci,ca=0,to=0,Ha=0,Bi=typeof performance=="object"&&performance.now?performance:Date,Vg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wc(){return to||(Vg(sx),to=Bi.now()+Ha)}function sx(){to=0}function fa(){this._call=this._time=this._next=null}fa.prototype=Lg.prototype={constructor:fa,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?wc():+n)+(t==null?0:+t),!this._next&&ci!==this&&(ci?ci._next=this:la=this,ci=this),this._call=e,this._time=n,Al()},stop:function(){this._call&&(this._call=null,this._time=1/0,Al())}};function Lg(e,t,n){var r=new fa;return r.restart(e,t,n),r}function ax(){wc(),++jo;for(var e=la,t;e;)(t=to-e._time)>=0&&e._call.call(void 0,t),e=e._next;--jo}function Od(){to=(ca=Bi.now())+Ha,jo=li=0;try{ax()}finally{jo=0,lx(),to=0}}function ux(){var e=Bi.now(),t=e-ca;t>jg&&(Ha-=t,ca=e)}function lx(){for(var e,t=la,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:la=n);ci=e,Al(r)}function Al(e){if(!jo){li&&(li=clearTimeout(li));var t=e-to;t>24?(e<1/0&&(li=setTimeout(Od,e-Bi.now()-Ha)),si&&(si=clearInterval(si))):(si||(ca=Bi.now(),si=setInterval(ux,jg)),jo=1,Vg(Od))}}function Ad(e,t,n){var r=new fa;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var cx=Va("start","end","cancel","interrupt"),fx=[],Hg=0,Md=1,Ml=2,js=3,Dd=4,Dl=5,Vs=6;function Za(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;dx(e,n,{name:t,index:r,group:o,on:cx,tween:fx,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Hg})}function xc(e,t){var n=$n(e,t);if(n.state>Hg)throw new Error("too late; already scheduled");return n}function Gn(e,t){var n=$n(e,t);if(n.state>js)throw new Error("too late; already running");return n}function $n(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function dx(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Lg(i,0,n.time);function i(f){n.state=Md,n.timer.restart(s,n.delay,n.time),n.delay<=f&&s(f-n.delay)}function s(f){var h,p,v,m;if(n.state!==Md)return c();for(h in r)if(m=r[h],m.name===n.name){if(m.state===js)return Ad(s);m.state===Dd?(m.state=Vs,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[h]):+h<t&&(m.state=Vs,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[h])}if(Ad(function(){n.state===js&&(n.state=Dd,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=Ml,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ml){for(n.state=js,o=new Array(v=n.tween.length),h=0,p=-1;h<v;++h)(m=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(o[++p]=m);o.length=p+1}}function u(f){for(var h=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=Dl,1),p=-1,v=o.length;++p<v;)o[p].call(e,h);n.state===Dl&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Vs,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function Ls(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>Ml&&r.state<Dl,r.state=Vs,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function hx(e){return this.each(function(){Ls(this,e)})}function px(e,t){var n,r;return function(){var o=Gn(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,u=r.length;s<u;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function gx(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Gn(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var u={name:t,value:n},c=0,f=o.length;c<f;++c)if(o[c].name===t){o[c]=u;break}c===f&&o.push(u)}i.tween=o}}function mx(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=$n(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?px:gx)(n,e,t))}function Sc(e,t,n){var r=e._id;return e.each(function(){var o=Gn(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return $n(o,r).value[t]}}function Zg(e,t){var n;return(typeof t=="number"?jn:t instanceof eo?ua:(n=eo(t))?(t=n,ua):zg)(e,t)}function vx(e){return function(){this.removeAttribute(e)}}function yx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _x(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function bx(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function wx(e,t,n){var r,o,i;return function(){var s,u=n(this),c;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=u+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,u)))}}function xx(e,t,n){var r,o,i;return function(){var s,u=n(this),c;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=u+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,u)))}}function Sx(e,t){var n=La(e),r=n==="transform"?nx:Zg;return this.attrTween(e,typeof t=="function"?(n.local?xx:wx)(n,r,Sc(this,"attr."+e,t)):t==null?(n.local?yx:vx)(n):(n.local?bx:_x)(n,r,t))}function Ex(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function kx(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Cx(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&kx(e,i)),n}return o._value=t,o}function Ix(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Ex(e,i)),n}return o._value=t,o}function Px(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=La(e);return this.tween(n,(r.local?Cx:Ix)(r,t))}function Tx(e,t){return function(){xc(this,e).delay=+t.apply(this,arguments)}}function Nx(e,t){return t=+t,function(){xc(this,e).delay=t}}function $x(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Tx:Nx)(t,e)):$n(this.node(),t).delay}function Ox(e,t){return function(){Gn(this,e).duration=+t.apply(this,arguments)}}function Ax(e,t){return t=+t,function(){Gn(this,e).duration=t}}function Mx(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ox:Ax)(t,e)):$n(this.node(),t).duration}function Dx(e,t){if(typeof t!="function")throw new Error;return function(){Gn(this,e).ease=t}}function Rx(e){var t=this._id;return arguments.length?this.each(Dx(t,e)):$n(this.node(),t).ease}function zx(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Gn(this,e).ease=n}}function Bx(e){if(typeof e!="function")throw new Error;return this.each(zx(this._id,e))}function Fx(e){typeof e!="function"&&(e=xg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,u=r[o]=[],c,f=0;f<s;++f)(c=i[f])&&e.call(c,c.__data__,f,i)&&u.push(c);return new dr(r,this._parents,this._name,this._id)}function jx(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),u=0;u<i;++u)for(var c=t[u],f=n[u],h=c.length,p=s[u]=new Array(h),v,m=0;m<h;++m)(v=c[m]||f[m])&&(p[m]=v);for(;u<r;++u)s[u]=t[u];return new dr(s,this._parents,this._name,this._id)}function Vx(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Lx(e,t,n){var r,o,i=Vx(t)?xc:Gn;return function(){var s=i(this,e),u=s.on;u!==r&&(o=(r=u).copy()).on(t,n),s.on=o}}function Hx(e,t){var n=this._id;return arguments.length<2?$n(this.node(),n).on.on(e):this.each(Lx(n,e,t))}function Zx(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ux(){return this.on("end.remove",Zx(this._id))}function Kx(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vc(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var u=r[s],c=u.length,f=i[s]=new Array(c),h,p,v=0;v<c;++v)(h=u[v])&&(p=e.call(h,h.__data__,v,u))&&("__data__"in h&&(p.__data__=h.__data__),f[v]=p,Za(f[v],t,n,v,f,$n(h,n)));return new dr(i,this._parents,t,n)}function qx(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wg(e));for(var r=this._groups,o=r.length,i=[],s=[],u=0;u<o;++u)for(var c=r[u],f=c.length,h,p=0;p<f;++p)if(h=c[p]){for(var v=e.call(h,h.__data__,p,c),m,E=$n(h,n),k=0,M=v.length;k<M;++k)(m=v[k])&&Za(m,t,n,k,v,E);i.push(v),s.push(h)}return new dr(i,s,t,n)}var Gx=Ui.prototype.constructor;function Wx(){return new Gx(this._groups,this._parents)}function Yx(e,t){var n,r,o;return function(){var i=Fo(this,e),s=(this.style.removeProperty(e),Fo(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Ug(e){return function(){this.style.removeProperty(e)}}function Xx(e,t,n){var r,o=n+"",i;return function(){var s=Fo(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function Jx(e,t,n){var r,o,i;return function(){var s=Fo(this,e),u=n(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(e),Fo(this,e))),s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,u))}}function Qx(e,t){var n,r,o,i="style."+t,s="end."+i,u;return function(){var c=Gn(this,e),f=c.on,h=c.value[i]==null?u||(u=Ug(t)):void 0;(f!==n||o!==h)&&(r=(n=f).copy()).on(s,o=h),c.on=r}}function eS(e,t,n){var r=(e+="")=="transform"?tx:Zg;return t==null?this.styleTween(e,Yx(e,r)).on("end.style."+e,Ug(e)):typeof t=="function"?this.styleTween(e,Jx(e,r,Sc(this,"style."+e,t))).each(Qx(this._id,e)):this.styleTween(e,Xx(e,r,t),n).on("end.style."+e,null)}function tS(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function nS(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&tS(e,s,n)),r}return i._value=t,i}function rS(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,nS(e,t,n??""))}function oS(e){return function(){this.textContent=e}}function iS(e){return function(){var t=e(this);this.textContent=t??""}}function sS(e){return this.tween("text",typeof e=="function"?iS(Sc(this,"text",e)):oS(e==null?"":e+""))}function aS(e){return function(t){this.textContent=e.call(this,t)}}function uS(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&aS(o)),t}return r._value=e,r}function lS(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,uS(e))}function cS(){for(var e=this._name,t=this._id,n=Kg(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],u=s.length,c,f=0;f<u;++f)if(c=s[f]){var h=$n(c,t);Za(c,e,n,f,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new dr(r,this._parents,e,n)}function fS(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var u={value:s},c={value:function(){--o===0&&i()}};n.each(function(){var f=Gn(this,r),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),f.on=t}),o===0&&i()})}var dS=0;function dr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Kg(){return++dS}var Qn=Ui.prototype;dr.prototype={constructor:dr,select:Kx,selectAll:qx,selectChild:Qn.selectChild,selectChildren:Qn.selectChildren,filter:Fx,merge:jx,selection:Wx,transition:cS,call:Qn.call,nodes:Qn.nodes,node:Qn.node,size:Qn.size,empty:Qn.empty,each:Qn.each,on:Hx,attr:Sx,attrTween:Px,style:eS,styleTween:rS,text:sS,textTween:lS,remove:Ux,tween:mx,delay:$x,duration:Mx,ease:Rx,easeVarying:Bx,end:fS,[Symbol.iterator]:Qn[Symbol.iterator]};function hS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var pS={time:null,delay:0,duration:250,ease:hS};function gS(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function mS(e){var t,n;e instanceof dr?(t=e._id,e=e._name):(t=Kg(),(n=pS).time=wc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],u=s.length,c,f=0;f<u;++f)(c=s[f])&&Za(c,e,t,f,s,n||gS(c,t));return new dr(r,this._parents,e,t)}Ui.prototype.interrupt=hx;Ui.prototype.transition=mS;const Cs=e=>()=>e;function vS(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function ir(e,t,n){this.k=e,this.x=t,this.y=n}ir.prototype={constructor:ir,scale:function(e){return e===1?this:new ir(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ir(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vo=new ir(1,0,0);ir.prototype;function Qu(e){e.stopImmediatePropagation()}function ai(e){e.preventDefault(),e.stopImmediatePropagation()}function yS(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function _S(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Rd(){return this.__zoom||Vo}function bS(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function wS(){return navigator.maxTouchPoints||"ontouchstart"in this}function xS(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function SS(){var e=yS,t=_S,n=xS,r=bS,o=wS,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,c=Fs,f=Va("start","zoom","end"),h,p,v,m=500,E=150,k=0,M=10;function A(j){j.property("__zoom",Rd).on("wheel.zoom",W,{passive:!1}).on("mousedown.zoom",Q).on("dblclick.zoom",ie).filter(o).on("touchstart.zoom",ae).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",Ie).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}A.transform=function(j,he,H,se){var fe=j.selection?j.selection():j;fe.property("__zoom",Rd),j!==fe?re(j,he,H,se):fe.interrupt().each(function(){ce(this,arguments).event(se).start().zoom(null,typeof he=="function"?he.apply(this,arguments):he).end()})},A.scaleBy=function(j,he,H,se){A.scaleTo(j,function(){var fe=this.__zoom.k,ke=typeof he=="function"?he.apply(this,arguments):he;return fe*ke},H,se)},A.scaleTo=function(j,he,H,se){A.transform(j,function(){var fe=t.apply(this,arguments),ke=this.__zoom,xe=H==null?N(fe):typeof H=="function"?H.apply(this,arguments):H,Ae=ke.invert(xe),Ve=typeof he=="function"?he.apply(this,arguments):he;return n(P($(ke,Ve),xe,Ae),fe,s)},H,se)},A.translateBy=function(j,he,H,se){A.transform(j,function(){return n(this.__zoom.translate(typeof he=="function"?he.apply(this,arguments):he,typeof H=="function"?H.apply(this,arguments):H),t.apply(this,arguments),s)},null,se)},A.translateTo=function(j,he,H,se,fe){A.transform(j,function(){var ke=t.apply(this,arguments),xe=this.__zoom,Ae=se==null?N(ke):typeof se=="function"?se.apply(this,arguments):se;return n(Vo.translate(Ae[0],Ae[1]).scale(xe.k).translate(typeof he=="function"?-he.apply(this,arguments):-he,typeof H=="function"?-H.apply(this,arguments):-H),ke,s)},se,fe)};function $(j,he){return he=Math.max(i[0],Math.min(i[1],he)),he===j.k?j:new ir(he,j.x,j.y)}function P(j,he,H){var se=he[0]-H[0]*j.k,fe=he[1]-H[1]*j.k;return se===j.x&&fe===j.y?j:new ir(j.k,se,fe)}function N(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function re(j,he,H,se){j.on("start.zoom",function(){ce(this,arguments).event(se).start()}).on("interrupt.zoom end.zoom",function(){ce(this,arguments).event(se).end()}).tween("zoom",function(){var fe=this,ke=arguments,xe=ce(fe,ke).event(se),Ae=t.apply(fe,ke),Ve=H==null?N(Ae):typeof H=="function"?H.apply(fe,ke):H,Ue=Math.max(Ae[1][0]-Ae[0][0],Ae[1][1]-Ae[0][1]),$e=fe.__zoom,Le=typeof he=="function"?he.apply(fe,ke):he,Oe=c($e.invert(Ve).concat(Ue/$e.k),Le.invert(Ve).concat(Ue/Le.k));return function(ee){if(ee===1)ee=Le;else{var ye=Oe(ee),J=Ue/ye[2];ee=new ir(J,Ve[0]-ye[0]*J,Ve[1]-ye[1]*J)}xe.zoom(null,ee)}})}function ce(j,he,H){return!H&&j.__zooming||new q(j,he)}function q(j,he){this.that=j,this.args=he,this.active=0,this.sourceEvent=null,this.extent=t.apply(j,he),this.taps=0}q.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,he){return this.mouse&&j!=="mouse"&&(this.mouse[1]=he.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=he.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=he.invert(this.touch1[0])),this.that.__zoom=he,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var he=kn(this.that).datum();f.call(j,this.that,new vS(j,{sourceEvent:this.sourceEvent,target:A,transform:this.that.__zoom,dispatch:f}),he)}};function W(j,...he){if(!e.apply(this,arguments))return;var H=ce(this,he).event(j),se=this.__zoom,fe=Math.max(i[0],Math.min(i[1],se.k*Math.pow(2,r.apply(this,arguments)))),ke=Bn(j);if(H.wheel)(H.mouse[0][0]!==ke[0]||H.mouse[0][1]!==ke[1])&&(H.mouse[1]=se.invert(H.mouse[0]=ke)),clearTimeout(H.wheel);else{if(se.k===fe)return;H.mouse=[ke,se.invert(ke)],Ls(this),H.start()}ai(j),H.wheel=setTimeout(xe,E),H.zoom("mouse",n(P($(se,fe),H.mouse[0],H.mouse[1]),H.extent,s));function xe(){H.wheel=null,H.end()}}function Q(j,...he){if(v||!e.apply(this,arguments))return;var H=j.currentTarget,se=ce(this,he,!0).event(j),fe=kn(j.view).on("mousemove.zoom",Ve,!0).on("mouseup.zoom",Ue,!0),ke=Bn(j,H),xe=j.clientX,Ae=j.clientY;Og(j.view),Qu(j),se.mouse=[ke,this.__zoom.invert(ke)],Ls(this),se.start();function Ve($e){if(ai($e),!se.moved){var Le=$e.clientX-xe,Oe=$e.clientY-Ae;se.moved=Le*Le+Oe*Oe>k}se.event($e).zoom("mouse",n(P(se.that.__zoom,se.mouse[0]=Bn($e,H),se.mouse[1]),se.extent,s))}function Ue($e){fe.on("mousemove.zoom mouseup.zoom",null),Ag($e.view,se.moved),ai($e),se.event($e).end()}}function ie(j,...he){if(e.apply(this,arguments)){var H=this.__zoom,se=Bn(j.changedTouches?j.changedTouches[0]:j,this),fe=H.invert(se),ke=H.k*(j.shiftKey?.5:2),xe=n(P($(H,ke),se,fe),t.apply(this,he),s);ai(j),u>0?kn(this).transition().duration(u).call(re,xe,se,j):kn(this).call(A.transform,xe,se,j)}}function ae(j,...he){if(e.apply(this,arguments)){var H=j.touches,se=H.length,fe=ce(this,he,j.changedTouches.length===se).event(j),ke,xe,Ae,Ve;for(Qu(j),xe=0;xe<se;++xe)Ae=H[xe],Ve=Bn(Ae,this),Ve=[Ve,this.__zoom.invert(Ve),Ae.identifier],fe.touch0?!fe.touch1&&fe.touch0[2]!==Ve[2]&&(fe.touch1=Ve,fe.taps=0):(fe.touch0=Ve,ke=!0,fe.taps=1+!!h);h&&(h=clearTimeout(h)),ke&&(fe.taps<2&&(p=Ve[0],h=setTimeout(function(){h=null},m)),Ls(this),fe.start())}}function R(j,...he){if(this.__zooming){var H=ce(this,he).event(j),se=j.changedTouches,fe=se.length,ke,xe,Ae,Ve;for(ai(j),ke=0;ke<fe;++ke)xe=se[ke],Ae=Bn(xe,this),H.touch0&&H.touch0[2]===xe.identifier?H.touch0[0]=Ae:H.touch1&&H.touch1[2]===xe.identifier&&(H.touch1[0]=Ae);if(xe=H.that.__zoom,H.touch1){var Ue=H.touch0[0],$e=H.touch0[1],Le=H.touch1[0],Oe=H.touch1[1],ee=(ee=Le[0]-Ue[0])*ee+(ee=Le[1]-Ue[1])*ee,ye=(ye=Oe[0]-$e[0])*ye+(ye=Oe[1]-$e[1])*ye;xe=$(xe,Math.sqrt(ee/ye)),Ae=[(Ue[0]+Le[0])/2,(Ue[1]+Le[1])/2],Ve=[($e[0]+Oe[0])/2,($e[1]+Oe[1])/2]}else if(H.touch0)Ae=H.touch0[0],Ve=H.touch0[1];else return;H.zoom("touch",n(P(xe,Ae,Ve),H.extent,s))}}function Ie(j,...he){if(this.__zooming){var H=ce(this,he).event(j),se=j.changedTouches,fe=se.length,ke,xe;for(Qu(j),v&&clearTimeout(v),v=setTimeout(function(){v=null},m),ke=0;ke<fe;++ke)xe=se[ke],H.touch0&&H.touch0[2]===xe.identifier?delete H.touch0:H.touch1&&H.touch1[2]===xe.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(xe=Bn(xe,this),Math.hypot(p[0]-xe[0],p[1]-xe[1])<M)){var Ae=kn(this).on("dblclick.zoom");Ae&&Ae.apply(this,arguments)}}}return A.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:Cs(+j),A):r},A.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Cs(!!j),A):e},A.touchable=function(j){return arguments.length?(o=typeof j=="function"?j:Cs(!!j),A):o},A.extent=function(j){return arguments.length?(t=typeof j=="function"?j:Cs([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),A):t},A.scaleExtent=function(j){return arguments.length?(i[0]=+j[0],i[1]=+j[1],A):[i[0],i[1]]},A.translateExtent=function(j){return arguments.length?(s[0][0]=+j[0][0],s[1][0]=+j[1][0],s[0][1]=+j[0][1],s[1][1]=+j[1][1],A):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},A.constrain=function(j){return arguments.length?(n=j,A):n},A.duration=function(j){return arguments.length?(u=+j,A):u},A.interpolate=function(j){return arguments.length?(c=j,A):c},A.on=function(){var j=f.on.apply(f,arguments);return j===f?A:j},A.clickDistance=function(j){return arguments.length?(k=(j=+j)*j,A):Math.sqrt(k)},A.tapDistance=function(j){return arguments.length?(M=+j,A):M},A}var Fe=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(Fe||{}),Ec=(e=>(e.Partial="partial",e.Full="full",e))(Ec||{}),Kr=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Kr||{}),Nr=(e=>(e.Strict="strict",e.Loose="loose",e))(Nr||{}),Rl=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Rl||{}),Ei=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Ei||{});const ES=["INPUT","SELECT","TEXTAREA"],kS=typeof document<"u"?document:null;function zl(e){var t,n;const r=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,o=typeof r?.hasAttribute=="function"?r.hasAttribute("contenteditable"):!1,i=typeof r?.closest=="function"?r.closest(".nokey"):null;return ES.includes(r?.nodeName)||o||!!i}function CS(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function zd(e,t,n,r){const o=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(s=>s.trim().toLowerCase());if(o.length===1)return e.toLowerCase()===t.toLowerCase();r||n.add(e.toLowerCase());const i=o.every((s,u)=>n.has(s)&&Array.from(n.values())[u]===o[u]);return r&&n.delete(e.toLowerCase()),i}function IS(e,t){return n=>{if(!n.code&&!n.key)return!1;const r=PS(n.code,e);return Array.isArray(e)?e.some(o=>zd(n[r],o,t,n.type==="keyup")):zd(n[r],e,t,n.type==="keyup")}}function PS(e,t){return t.includes(e)?"code":"key"}function ki(e,t){const n=De(()=>it(t?.target)??kS),r=Pi(it(e)===!0);let o=!1;const i=new Set;let s=c(it(e));at(()=>it(e),(f,h)=>{typeof h=="boolean"&&typeof f!="boolean"&&u(),s=c(f)},{immediate:!0}),_g(["blur","contextmenu"],u),_d((...f)=>s(...f),f=>{var h,p;const v=it(t?.actInsideInputWithModifier)??!0,m=it(t?.preventDefault)??!1;if(o=CS(f),(!o||o&&!v)&&zl(f))return;const k=((p=(h=f.composedPath)==null?void 0:h.call(f))==null?void 0:p[0])||f.target,M=k?.nodeName==="BUTTON"||k?.nodeName==="A";!m&&(o||!M)&&f.preventDefault(),r.value=!0},{eventName:"keydown",target:n}),_d((...f)=>s(...f),f=>{const h=it(t?.actInsideInputWithModifier)??!0;if(r.value){if((!o||o&&!h)&&zl(f))return;o=!1,r.value=!1}},{eventName:"keyup",target:n});function u(){o=!1,i.clear(),r.value=it(e)===!0}function c(f){return f===null?(u(),()=>!1):typeof f=="boolean"?(u(),r.value=f,()=>!1):Array.isArray(f)||typeof f=="string"?IS(f,i):f}return r}const qg="vue-flow__node-desc",Gg="vue-flow__edge-desc",TS="vue-flow__aria-live",Wg=["Enter"," ","Escape"],Oo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function da(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function ha(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)}function Ua(e){return{width:e.offsetWidth,height:e.offsetHeight}}function no(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Yg(e,t){return{x:no(e.x,t[0][0],t[1][0]),y:no(e.y,t[0][1],t[1][1])}}function Bd(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function $r(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Qr(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!$r(e)}function fi(e){return Qr(e)&&"computedPosition"in e}function Is(e){return!Number.isNaN(e)&&Number.isFinite(e)}function NS(e){return Is(e.width)&&Is(e.height)&&Is(e.x)&&Is(e.y)}function $S(e,t,n){const r={id:e.id.toString(),type:e.type??"default",dimensions:Yr({width:0,height:0}),computedPosition:Yr({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:jt(e.data)?e.data:{},events:Yr(jt(e.events)?e.events:{})};return Object.assign(t??r,e,{id:e.id.toString(),parentNode:n})}function Xg(e,t,n){var r,o;const i={id:e.id.toString(),type:e.type??t?.type??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(r=e.sourceHandle)==null?void 0:r.toString(),targetHandle:(o=e.targetHandle)==null?void 0:o.toString(),updatable:e.updatable??n?.updatable,selectable:e.selectable??n?.selectable,focusable:e.focusable??n?.focusable,data:jt(e.data)?e.data:{},events:Yr(jt(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??n?.interactionWidth,...n??{}};return Object.assign(t??i,e,{id:e.id.toString()})}function Jg(e,t,n,r){const o=typeof e=="string"?e:e.id,i=new Set,s=r==="source"?"target":"source";for(const u of n)u[s]===o&&i.add(u[r]);return t.filter(u=>i.has(u.id))}function OS(...e){if(e.length===3){const[i,s,u]=e;return Jg(i,s,u,"target")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(i=>$r(i)&&i.source===r).map(i=>n.find(s=>Qr(s)&&s.id===i.target))}function AS(...e){if(e.length===3){const[i,s,u]=e;return Jg(i,s,u,"source")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(i=>$r(i)&&i.target===r).map(i=>n.find(s=>Qr(s)&&s.id===i.source))}function Qg({source:e,sourceHandle:t,target:n,targetHandle:r}){return`vueflow__edge-${e}${t??""}-${n}${r??""}`}function MS(e,t){return t.some(n=>$r(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Bl({x:e,y:t},{x:n,y:r,zoom:o}){return{x:e*o+n,y:t*o+r}}function Fi({x:e,y:t},{x:n,y:r,zoom:o},i=!1,s=[1,1]){const u={x:(e-n)/o,y:(t-r)/o};return i?Ka(u,s):u}function DS(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function em({x:e,y:t,width:n,height:r}){return{x:e,y:t,x2:e+n,y2:t+r}}function RS({x:e,y:t,x2:n,y2:r}){return{x:e,y:t,width:n-e,height:r-t}}function tm(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const r=e[n];t=DS(t,em({...r.computedPosition,...r.dimensions}))}return RS(t)}function nm(e,t,n={x:0,y:0,zoom:1},r=!1,o=!1){const i={...Fi(t,n),width:t.width/n.zoom,height:t.height/n.zoom},s=[];for(const u of e){const{dimensions:c,selectable:f=!0,hidden:h=!1}=u,p=c.width??u.width??null,v=c.height??u.height??null;if(o&&!f||h)continue;const m=ha(i,da(u)),E=p===null||v===null,k=r&&m>0,M=(p??0)*(v??0);(E||k||m>=M||u.dragging)&&s.push(u)}return s}function rm(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const r of e)n.add(r.id);return t.filter(r=>n.has(r.source)||n.has(r.target))}function Fd(e,t,n,r,o,i=.1,s={x:0,y:0}){const u=t/(e.width*(1+i)),c=n/(e.height*(1+i)),f=Math.min(u,c),h=no(f,r,o),p=e.x+e.width/2,v=e.y+e.height/2,m=t/2-p*h+(s.x??0),E=n/2-v*h+(s.y??0);return{x:m,y:E,zoom:h}}function zS(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function om(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:om(n,t):!1}function ji(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`}function jd(e){const t=e.ctrlKey&&pa()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function Vd(e,t,n){return e<t?no(Math.abs(e-t),1,t)/t:e>n?-no(Math.abs(e-n),1,t)/t:0}function im(e,t,n=15,r=40){const o=Vd(e.x,r,t.width-r)*n,i=Vd(e.y,r,t.height-r)*n;return[o,i]}function el(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,r=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||r>0||e.position.x<0||e.position.y<0){let o={};if(typeof t.style=="function"?o={...t.style(t)}:t.style&&(o={...t.style}),o.width=o.width??`${t.dimensions.width}px`,o.height=o.height??`${t.dimensions.height}px`,n>0)if(typeof o.width=="string"){const i=Number(o.width.replace("px",""));o.width=`${i+n}px`}else o.width+=n;if(r>0)if(typeof o.height=="string"){const i=Number(o.height.replace("px",""));o.height=`${i+r}px`}else o.height+=r;if(e.position.x<0){const i=Math.abs(e.position.x);if(t.position.x=t.position.x-i,typeof o.width=="string"){const s=Number(o.width.replace("px",""));o.width=`${s+i}px`}else o.width+=i;e.position.x=0}if(e.position.y<0){const i=Math.abs(e.position.y);if(t.position.y=t.position.y-i,typeof o.height=="string"){const s=Number(o.height.replace("px",""));o.height=`${s+i}px`}else o.height+=i;e.position.y=0}t.dimensions.width=Number(o.width.toString().replace("px","")),t.dimensions.height=Number(o.height.toString().replace("px","")),typeof t.style=="function"?t.style=i=>{const s=t.style;return{...s(i),...o}}:t.style={...t.style,...o}}}}function Ld(e,t){var n,r;const o=e.filter(s=>s.type==="add"||s.type==="remove");for(const s of o)if(s.type==="add")t.findIndex(c=>c.id===s.item.id)===-1&&t.push(s.item);else if(s.type==="remove"){const u=t.findIndex(c=>c.id===s.id);u!==-1&&t.splice(u,1)}const i=t.map(s=>s.id);for(const s of t)for(const u of e)if(u.id===s.id)switch(u.type){case"select":s.selected=u.selected;break;case"position":if(fi(s)&&(typeof u.position<"u"&&(s.position=u.position),typeof u.dragging<"u"&&(s.dragging=u.dragging),s.expandParent&&s.parentNode)){const c=t[i.indexOf(s.parentNode)];c&&fi(c)&&el(s,c)}break;case"dimensions":if(fi(s)&&(typeof u.dimensions<"u"&&(s.dimensions=u.dimensions),typeof u.updateStyle<"u"&&u.updateStyle&&(s.style={...s.style||{},width:`${(n=u.dimensions)==null?void 0:n.width}px`,height:`${(r=u.dimensions)==null?void 0:r.height}px`}),typeof u.resizing<"u"&&(s.resizing=u.resizing),s.expandParent&&s.parentNode)){const c=t[i.indexOf(s.parentNode)];c&&fi(c)&&(!!c.dimensions.width&&!!c.dimensions.height?el(s,c):vn(()=>{el(s,c)}))}break}return t}function Er(e,t){return{id:e,type:"select",selected:t}}function Hd(e){return{item:e,type:"add"}}function Zd(e){return{id:e,type:"remove"}}function Ud(e,t,n,r,o){return{id:e,source:t,target:n,sourceHandle:r||null,targetHandle:o||null,type:"remove"}}function Pr(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(Er(i.id,s)))}return r}const Kd=()=>{};function je(e){const t=new Set;let n=Kd,r=()=>!1;const o=()=>t.size>0||r(),i=v=>{n=v},s=()=>{n=Kd},u=v=>{r=v},c=()=>{r=()=>!1},f=v=>{t.delete(v)};return{on:v=>{t.add(v);const m=()=>f(v);return Mi(m),{off:m}},off:f,trigger:v=>{const m=[n];return o()?m.push(...t):e&&m.push(e),Promise.allSettled(m.map(E=>E(v)))},hasListeners:o,listeners:t,setEmitter:i,removeEmitter:s,setHasEmitListeners:u,removeHasEmitListeners:c}}function qd(e,t,n){let r=e;do{if(r&&r.matches(t))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function BS(e,t,n,r){var o,i;const s=new Map;for(const[u,c]of e)(c.selected||c.id===r)&&(!c.parentNode||!om(c,e))&&(c.draggable||t&&typeof c.draggable>"u")&&e.get(u)&&s.set(u,{id:c.id,position:c.position||{x:0,y:0},distance:{x:n.x-((o=c.computedPosition)==null?void 0:o.x)||0,y:n.y-((i=c.computedPosition)==null?void 0:i.y)||0},from:{x:c.computedPosition.x,y:c.computedPosition.y},extent:c.extent,parentNode:c.parentNode,dimensions:{...c.dimensions},expandParent:c.expandParent});return Array.from(s.values())}function tl({id:e,dragItems:t,findNode:n}){const r=[];for(const o of t){const i=n(o.id);i&&r.push(i)}return[e?r.find(o=>o.id===e):r[0],r]}function sm(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function FS(e,t,n){const[r,o,i,s]=typeof e!="string"?sm(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+s,n.computedPosition.y+r],[n.computedPosition.x+n.dimensions.width-o,n.computedPosition.y+n.dimensions.height-i]]:!1}function jS(e,t,n,r){let o=e.extent||n;if((o==="parent"||!Array.isArray(o)&&o?.range==="parent")&&!e.expandParent)if(e.parentNode&&r&&e.dimensions.width&&e.dimensions.height){const i=FS(o,e,r);i&&(o=i)}else t(new Lt(Vt.NODE_EXTENT_INVALID,e.id)),o=n;else if(Array.isArray(o)){const i=r?.computedPosition.x||0,s=r?.computedPosition.y||0;o=[[o[0][0]+i,o[0][1]+s],[o[1][0]+i,o[1][1]+s]]}else if(o!=="parent"&&o?.range&&Array.isArray(o.range)){const[i,s,u,c]=sm(o.padding),f=r?.computedPosition.x||0,h=r?.computedPosition.y||0;o=[[o.range[0][0]+f+c,o.range[0][1]+h+i],[o.range[1][0]+f-s,o.range[1][1]+h-u]]}return o==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:o}function VS({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function kc(e,t,n,r,o){const i=VS(e.dimensions,jS(e,n,r,o)),s=Yg(t,i);return{position:{x:s.x-(o?.computedPosition.x||0),y:s.y-(o?.computedPosition.y||0)},computedPosition:s}}function Lo(e,t,n=Fe.Left,r=!1){const o=(t?.x??0)+e.computedPosition.x,i=(t?.y??0)+e.computedPosition.y,{width:s,height:u}=t??US(e);if(r)return{x:o+s/2,y:i+u/2};switch(t?.position??n){case Fe.Top:return{x:o+s/2,y:i};case Fe.Right:return{x:o+s,y:i+u/2};case Fe.Bottom:return{x:o+s/2,y:i+u};case Fe.Left:return{x:o,y:i+u/2}}}function Gd(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function LS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:s,height:u,viewport:c}){const f={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};f.x===f.x2&&(f.x2+=1),f.y===f.y2&&(f.y2+=1);const h=em({x:(0-c.x)/c.zoom,y:(0-c.y)/c.zoom,width:s/c.zoom,height:u/c.zoom}),p=Math.max(0,Math.min(h.x2,f.x2)-Math.max(h.x,f.x)),v=Math.max(0,Math.min(h.y2,f.y2)-Math.max(h.y,f.y));return Math.ceil(p*v)>0}function HS(e,t,n=!1){const r=typeof e.zIndex=="number";let o=r?e.zIndex:0;const i=t(e.source),s=t(e.target);return!i||!s?0:(n&&(o=r?e.zIndex:Math.max(i.computedPosition.z||0,s.computedPosition.z||0)),o)}var Vt=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Vt||{});const Wd={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Lt extends Error{constructor(t,...n){var r;super((r=Wd[t])==null?void 0:r.call(Wd,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function Cc(e){return"clientX"in e}function ZS(e){return"sourceEvent"in e}function Vn(e,t){const n=Cc(e);let r,o;return n?(r=e.clientX,o=e.clientY):"touches"in e&&e.touches.length>0?(r=e.touches[0].clientX,o=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(r=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY):(r=0,o=0),{x:r-(t?.left??0),y:o-(t?.top??0)}}const pa=()=>{var e;return typeof navigator<"u"&&((e=navigator?.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function US(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function Ka(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const KS=()=>!0;function nl(e){e?.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function qS(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())ha(o,da(i))>0&&r.push(i);return r}const GS=250;function WS(e,t,n,r){var o,i;let s=[],u=Number.POSITIVE_INFINITY;const c=qS(e,n,t+GS);for(const f of c){const h=[...((o=f.handleBounds)==null?void 0:o.source)??[],...((i=f.handleBounds)==null?void 0:i.target)??[]];for(const p of h){if(r.nodeId===p.nodeId&&r.type===p.type&&r.id===p.id)continue;const{x:v,y:m}=Lo(f,p,p.position,!0),E=Math.sqrt((v-e.x)**2+(m-e.y)**2);E>t||(E<u?(s=[{...p,x:v,y:m}],u=E):E===u&&s.push({...p,x:v,y:m}))}}if(!s.length)return null;if(s.length>1){const f=r.type==="source"?"target":"source";return s.find(h=>h.type===f)??s[0]}return s[0]}function Yd(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:u,flowId:c,isValidConnection:f=KS},h,p,v,m){const E=i==="target",k=t?s.querySelector(`.${u}-flow__handle[data-id="${c}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:M,y:A}=Vn(e),$=s.elementFromPoint(M,A),P=$?.classList.contains(`${u}-flow__handle`)?$:k,N={handleDomNode:P,isValid:!1,connection:null,toHandle:null};if(P){const re=am(void 0,P),ce=P.getAttribute("data-nodeid"),q=P.getAttribute("data-handleid"),W=P.classList.contains("connectable"),Q=P.classList.contains("connectableend");if(!ce||!re)return N;const ie={source:E?ce:r,sourceHandle:E?q:o,target:E?r:ce,targetHandle:E?o:q};N.connection=ie;const R=W&&Q&&(n===Nr.Strict?E&&re==="source"||!E&&re==="target":ce!==r||q!==o);N.isValid=R&&f(ie,{nodes:p,edges:h,sourceNode:v(ie.source),targetNode:v(ie.target)}),N.toHandle=um(ce,re,q,m,n,!0)}return N}function am(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function YS(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function XS(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function um(e,t,n,r,o,i=!1){var s,u,c;const f=r.get(e);if(!f)return null;const h=o===Nr.Strict?(s=f.handleBounds)==null?void 0:s[t]:[...((u=f.handleBounds)==null?void 0:u.source)??[],...((c=f.handleBounds)==null?void 0:c.target)??[]],p=(n?h?.find(v=>v.id===n):h?.[0])??null;return p&&i?{...p,...Lo(f,p,p.position,!0)}:p}const Fl={[Fe.Left]:Fe.Right,[Fe.Right]:Fe.Left,[Fe.Top]:Fe.Bottom,[Fe.Bottom]:Fe.Top},JS=["production","prod"];function qa(e,...t){lm()&&console.warn(`[Vue Flow]: ${e}`,...t)}function lm(){return!JS.includes("production")}function Xd(e,t,n,r,o){const i=t.querySelectorAll(`.vue-flow__handle.${e}`);return i?.length?Array.from(i).map(s=>{const u=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(u.left-n.left)/r,y:(u.top-n.top)/r,...Ua(s)}}):null}function jl(e,t,n,r,o,i=!1,s){o.value=!1,e.selected?(i||e.selected&&t)&&(r([e]),vn(()=>{s.blur()})):n([e])}function jt(e){return typeof Pe(e)<"u"}function QS(e,t,n,r){if(!e||!e.source||!e.target)return n(new Lt(Vt.EDGE_INVALID,e?.id??"[ID UNKNOWN]")),!1;let o;return $r(e)?o=e:o={...e,id:Qg(e)},o=Xg(o,void 0,r),MS(o,t)?!1:o}function eE(e,t,n,r,o){if(!t.source||!t.target)return o(new Lt(Vt.EDGE_INVALID,e.id)),!1;if(!n)return o(new Lt(Vt.EDGE_NOT_FOUND,e.id)),!1;const{id:i,...s}=e;return{...s,id:r?Qg(t):i,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function Jd(e,t,n){const r={},o=[];for(let i=0;i<e.length;++i){const s=e[i];if(!Qr(s)){n(new Lt(Vt.NODE_INVALID,s?.id)||`[ID UNKNOWN|INDEX ${i}]`);continue}const u=$S(s,t(s.id),s.parentNode);s.parentNode&&(r[s.parentNode]=!0),o[i]=u}for(const i of o){const s=t(i.parentNode)||o.find(u=>u.id===i.parentNode);i.parentNode&&!s&&n(new Lt(Vt.NODE_MISSING_PARENT,i.id,i.parentNode)),(i.parentNode||r[i.id])&&(r[i.id]&&(i.isParent=!0),s&&(s.isParent=!0))}return o}function Qd(e,t,n,r,o,i){let s=o;const u=r.get(s)||new Map;r.set(s,u.set(n,t)),s=`${o}-${e}`;const c=r.get(s)||new Map;if(r.set(s,c.set(n,t)),i){s=`${o}-${e}-${i}`;const f=r.get(s)||new Map;r.set(s,f.set(n,t))}}function rl(e,t,n){e.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:u=null}=r,c={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:u},f=`${o}-${s}--${i}-${u}`,h=`${i}-${u}--${o}-${s}`;Qd("source",c,h,e,o,s),Qd("target",c,f,e,i,u)}}function eh(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ol(e,t,n,r,o,i,s,u){const c=[];for(const f of e){const h=$r(f)?f:QS(f,u,o,i);if(!h)continue;const p=n(h.source),v=n(h.target);if(!p||!v){o(new Lt(Vt.EDGE_SOURCE_TARGET_MISSING,h.id,h.source,h.target));continue}if(!p){o(new Lt(Vt.EDGE_SOURCE_MISSING,h.id,h.source));continue}if(!v){o(new Lt(Vt.EDGE_TARGET_MISSING,h.id,h.target));continue}if(t&&!t(h,{edges:u,nodes:s,sourceNode:p,targetNode:v})){o(new Lt(Vt.EDGE_INVALID,h.id));continue}const m=r(h.id);c.push({...Xg(h,m,i),sourceNode:p,targetNode:v})}return c}const th=Symbol("vueFlow"),cm=Symbol("nodeId"),fm=Symbol("nodeRef"),tE=Symbol("edgeId"),nE=Symbol("edgeRef"),Ga=Symbol("slots");function dm(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:r,noDragClassName:o,nodeLookup:i,nodeExtent:s,nodeDragThreshold:u,viewport:c,autoPanOnNodeDrag:f,autoPanSpeed:h,nodesDraggable:p,panBy:v,findNode:m,multiSelectionActive:E,nodesSelectionActive:k,selectNodesOnDrag:M,removeSelectedElements:A,addSelectedNodes:$,updateNodePositions:P,emits:N}=Et(),{onStart:re,onDrag:ce,onStop:q,onClick:W,el:Q,disabled:ie,id:ae,selectable:R,dragHandle:Ie}=e,j=Pi(!1);let he=[],H,se=null,fe={x:void 0,y:void 0},ke={x:0,y:0},xe=null,Ae=!1,Ve=!1,Ue=0,$e=!1;const Le=iE(),Oe=({x:S,y:T})=>{fe={x:S,y:T};let _=!1;if(he=he.map(w=>{const C={x:S-w.distance.x,y:T-w.distance.y},{computedPosition:x}=kc(w,n.value?Ka(C,r.value):C,N.error,s.value,w.parentNode?m(w.parentNode):void 0);return _=_||w.position.x!==x.x||w.position.y!==x.y,w.position=x,w}),Ve=Ve||_,!!_&&(P(he,!0,!0),j.value=!0,xe)){const[w,C]=tl({id:ae,dragItems:he,findNode:m});ce({event:xe,node:w,nodes:C})}},ee=()=>{if(!se)return;const[S,T]=im(ke,se,h.value);if(S!==0||T!==0){const _={x:(fe.x??0)-S/c.value.zoom,y:(fe.y??0)-T/c.value.zoom};v({x:S,y:T})&&Oe(_)}Ue=requestAnimationFrame(ee)},ye=(S,T)=>{Ae=!0;const _=m(ae);!M.value&&!E.value&&_&&(_.selected||A()),_&&it(R)&&M.value&&jl(_,E.value,$,A,k,!1,T);const w=Le(S.sourceEvent);if(fe=w,he=BS(i.value,p.value,w,ae),he.length){const[C,x]=tl({id:ae,dragItems:he,findNode:m});re({event:S.sourceEvent,node:C,nodes:x})}},J=(S,T)=>{var _;S.sourceEvent.type==="touchmove"&&S.sourceEvent.touches.length>1||(Ve=!1,u.value===0&&ye(S,T),fe=Le(S.sourceEvent),se=((_=t.value)==null?void 0:_.getBoundingClientRect())||null,ke=Vn(S.sourceEvent,se))},we=(S,T)=>{const _=Le(S.sourceEvent);if(!$e&&Ae&&f.value&&($e=!0,ee()),!Ae){const w=_.xSnapped-(fe.x??0),C=_.ySnapped-(fe.y??0);Math.sqrt(w*w+C*C)>u.value&&ye(S,T)}(fe.x!==_.xSnapped||fe.y!==_.ySnapped)&&he.length&&Ae&&(xe=S.sourceEvent,ke=Vn(S.sourceEvent,se),Oe(_))},Ze=S=>{let T=!1;if(!Ae&&!j.value&&!E.value){const _=S.sourceEvent,w=Le(_),C=w.xSnapped-(fe.x??0),x=w.ySnapped-(fe.y??0),V=Math.sqrt(C*C+x*x);V!==0&&V<=u.value&&(W?.(_),T=!0)}if(he.length&&!T){Ve&&(P(he,!1,!1),Ve=!1);const[_,w]=tl({id:ae,dragItems:he,findNode:m});q({event:S.sourceEvent,node:_,nodes:w})}he=[],j.value=!1,$e=!1,Ae=!1,fe={x:void 0,y:void 0},cancelAnimationFrame(Ue)};return at([()=>it(ie),Q],([S,T],_,w)=>{if(T){const C=kn(T);S||(H=N1().on("start",x=>J(x,T)).on("drag",x=>we(x,T)).on("end",x=>Ze(x)).filter(x=>{const V=x.target,ne=it(Ie);return!x.button&&(!o.value||!qd(V,`.${o.value}`,T)&&(!ne||qd(V,ne,T)))}),C.call(H)),w(()=>{C.on(".drag",null),H&&(H.on("start",null),H.on("drag",null),H.on("end",null))})}}),j}function rE(){return{doubleClick:je(),click:je(),mouseEnter:je(),mouseMove:je(),mouseLeave:je(),contextMenu:je(),updateStart:je(),update:je(),updateEnd:je()}}function oE(e,t){const n=rE();return n.doubleClick.on(r=>{var o,i;t.edgeDoubleClick(r),(i=(o=e.events)==null?void 0:o.doubleClick)==null||i.call(o,r)}),n.click.on(r=>{var o,i;t.edgeClick(r),(i=(o=e.events)==null?void 0:o.click)==null||i.call(o,r)}),n.mouseEnter.on(r=>{var o,i;t.edgeMouseEnter(r),(i=(o=e.events)==null?void 0:o.mouseEnter)==null||i.call(o,r)}),n.mouseMove.on(r=>{var o,i;t.edgeMouseMove(r),(i=(o=e.events)==null?void 0:o.mouseMove)==null||i.call(o,r)}),n.mouseLeave.on(r=>{var o,i;t.edgeMouseLeave(r),(i=(o=e.events)==null?void 0:o.mouseLeave)==null||i.call(o,r)}),n.contextMenu.on(r=>{var o,i;t.edgeContextMenu(r),(i=(o=e.events)==null?void 0:o.contextMenu)==null||i.call(o,r)}),n.updateStart.on(r=>{var o,i;t.edgeUpdateStart(r),(i=(o=e.events)==null?void 0:o.updateStart)==null||i.call(o,r)}),n.update.on(r=>{var o,i;t.edgeUpdate(r),(i=(o=e.events)==null?void 0:o.update)==null||i.call(o,r)}),n.updateEnd.on(r=>{var o,i;t.edgeUpdateEnd(r),(i=(o=e.events)==null?void 0:o.updateEnd)==null||i.call(o,r)}),Object.entries(n).reduce((r,[o,i])=>(r.emit[o]=i.trigger,r.on[o]=i.on,r),{emit:{},on:{}})}function iE(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:r}=Et();return o=>{var i;const s=((i=r.value)==null?void 0:i.getBoundingClientRect())??{left:0,top:0},u=ZS(o)?o.sourceEvent:o,{x:c,y:f}=Vn(u,s),h=Fi({x:c,y:f},e.value),{x:p,y:v}=n.value?Ka(h,t.value):h;return{xSnapped:p,ySnapped:v,...h}}}function Ps(){return!0}function hm({handleId:e,nodeId:t,type:n,isValidConnection:r,edgeUpdaterType:o,onEdgeUpdate:i,onEdgeUpdateEnd:s}){const{id:u,vueFlowRef:c,connectionMode:f,connectionRadius:h,connectOnClick:p,connectionClickStartHandle:v,nodesConnectable:m,autoPanOnConnect:E,autoPanSpeed:k,findNode:M,panBy:A,startConnection:$,updateConnection:P,endConnection:N,emits:re,viewport:ce,edges:q,nodes:W,isValidConnection:Q,nodeLookup:ie}=Et();let ae=null,R=!1,Ie=null;function j(H){var se;const fe=it(n)==="target",ke=Cc(H),xe=Bd(H.target),Ae=H.currentTarget;if(Ae&&(ke&&H.button===0||!ke)){let Ve=function(ge){_=Vn(ge,Ze),Oe=WS(Fi(_,ce.value,!1,[1,1]),h.value,ie.value,x),w||(C(),w=!0);const de=Yd(ge,{handle:Oe,connectionMode:f.value,fromNodeId:it(t),fromHandleId:it(e),fromType:fe?"target":"source",isValidConnection:Le,doc:xe,lib:"vue",flowId:u,nodeLookup:ie.value},q.value,W.value,M,ie.value);Ie=de.handleDomNode,ae=de.connection,R=XS(!!Oe,de.isValid);const Se={...X,isValid:R,to:de.toHandle&&R?Bl({x:de.toHandle.x,y:de.toHandle.y},ce.value):_,toHandle:de.toHandle,toPosition:R&&de.toHandle?de.toHandle.position:Fl[x.position],toNode:de.toHandle?ie.value.get(de.toHandle.nodeId):null};if(R&&Oe&&X?.toHandle&&Se.toHandle&&X.toHandle.type===Se.toHandle.type&&X.toHandle.nodeId===Se.toHandle.nodeId&&X.toHandle.id===Se.toHandle.id&&X.to.x===Se.to.x&&X.to.y===Se.to.y)return;const Ne=Oe??de.toHandle;if(P(Ne&&R?Bl({x:Ne.x,y:Ne.y},ce.value):_,de.toHandle,YS(!!Ne,R)),X=Se,!Oe&&!R&&!Ie)return nl(T);ae&&ae.source!==ae.target&&Ie&&(nl(T),T=Ie,Ie.classList.add("connecting","vue-flow__handle-connecting"),Ie.classList.toggle("valid",!!R),Ie.classList.toggle("vue-flow__handle-valid",!!R))},Ue=function(ge){"touches"in ge&&ge.touches.length>0||((Oe||Ie)&&ae&&R&&(i?i(ge,ae):re.connect(ae)),re.connectEnd(ge),o&&s?.(ge),nl(T),cancelAnimationFrame(ee),N(ge),w=!1,R=!1,ae=null,Ie=null,xe.removeEventListener("mousemove",Ve),xe.removeEventListener("mouseup",Ue),xe.removeEventListener("touchmove",Ve),xe.removeEventListener("touchend",Ue))};const $e=M(it(t));let Le=it(r)||Q.value||Ps;!Le&&$e&&(Le=(fe?$e.isValidSourcePos:$e.isValidTargetPos)||Ps);let Oe,ee=0;const{x:ye,y:J}=Vn(H),we=am(it(o),Ae),Ze=(se=c.value)==null?void 0:se.getBoundingClientRect();if(!Ze||!we)return;const S=um(it(t),we,it(e),ie.value,f.value);if(!S)return;let T,_=Vn(H,Ze),w=!1;const C=()=>{if(!E.value)return;const[ge,de]=im(_,Ze,k.value);A({x:ge,y:de}),ee=requestAnimationFrame(C)},x={...S,nodeId:it(t),type:we,position:S.position},V=ie.value.get(it(t)),te={inProgress:!0,isValid:null,from:Lo(V,x,Fe.Left,!0),fromHandle:x,fromPosition:x.position,fromNode:V,to:_,toHandle:null,toPosition:Fl[x.position],toNode:null};$({nodeId:it(t),id:it(e),type:we,position:Ae?.getAttribute("data-handlepos")||Fe.Top,..._},{x:ye-Ze.left,y:J-Ze.top}),re.connectStart({event:H,nodeId:it(t),handleId:it(e),handleType:we});let X=te;xe.addEventListener("mousemove",Ve),xe.addEventListener("mouseup",Ue),xe.addEventListener("touchmove",Ve),xe.addEventListener("touchend",Ue)}}function he(H){var se,fe;if(!p.value)return;const ke=it(n)==="target";if(!v.value){re.clickConnectStart({event:H,nodeId:it(t),handleId:it(e)}),$({nodeId:it(t),type:it(n),id:it(e),position:Fe.Top,...Vn(H)},void 0,!0);return}let xe=it(r)||Q.value||Ps;const Ae=M(it(t));if(!xe&&Ae&&(xe=(ke?Ae.isValidSourcePos:Ae.isValidTargetPos)||Ps),Ae&&(typeof Ae.connectable>"u"?m.value:Ae.connectable)===!1)return;const Ve=Bd(H.target),Ue=Yd(H,{handle:{nodeId:it(t),id:it(e),type:it(n),position:Fe.Top,...Vn(H)},connectionMode:f.value,fromNodeId:v.value.nodeId,fromHandleId:v.value.id??null,fromType:v.value.type,isValidConnection:xe,doc:Ve,lib:"vue",flowId:u,nodeLookup:ie.value},q.value,W.value,M,ie.value),$e=((se=Ue.connection)==null?void 0:se.source)===((fe=Ue.connection)==null?void 0:fe.target);Ue.isValid&&Ue.connection&&!$e&&re.connect(Ue.connection),re.clickConnectEnd(H),N(H,!0)}return{handlePointerDown:j,handleClick:he}}function sE(){return qt(cm,"")}function pm(e){const t=e??sE()??"",n=qt(fm,rt(null)),{findNode:r,edges:o,emits:i}=Et(),s=r(t);return s||i.error(new Lt(Vt.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:s,parentNode:De(()=>r(s.parentNode)),connectedEdges:De(()=>rm([s],o.value))}}function aE(){return{doubleClick:je(),click:je(),mouseEnter:je(),mouseMove:je(),mouseLeave:je(),contextMenu:je(),dragStart:je(),drag:je(),dragStop:je()}}function uE(e,t){const n=aE();return n.doubleClick.on(r=>{var o,i;t.nodeDoubleClick(r),(i=(o=e.events)==null?void 0:o.doubleClick)==null||i.call(o,r)}),n.click.on(r=>{var o,i;t.nodeClick(r),(i=(o=e.events)==null?void 0:o.click)==null||i.call(o,r)}),n.mouseEnter.on(r=>{var o,i;t.nodeMouseEnter(r),(i=(o=e.events)==null?void 0:o.mouseEnter)==null||i.call(o,r)}),n.mouseMove.on(r=>{var o,i;t.nodeMouseMove(r),(i=(o=e.events)==null?void 0:o.mouseMove)==null||i.call(o,r)}),n.mouseLeave.on(r=>{var o,i;t.nodeMouseLeave(r),(i=(o=e.events)==null?void 0:o.mouseLeave)==null||i.call(o,r)}),n.contextMenu.on(r=>{var o,i;t.nodeContextMenu(r),(i=(o=e.events)==null?void 0:o.contextMenu)==null||i.call(o,r)}),n.dragStart.on(r=>{var o,i;t.nodeDragStart(r),(i=(o=e.events)==null?void 0:o.dragStart)==null||i.call(o,r)}),n.drag.on(r=>{var o,i;t.nodeDrag(r),(i=(o=e.events)==null?void 0:o.drag)==null||i.call(o,r)}),n.dragStop.on(r=>{var o,i;t.nodeDragStop(r),(i=(o=e.events)==null?void 0:o.dragStop)==null||i.call(o,r)}),Object.entries(n).reduce((r,[o,i])=>(r.emit[o]=i.trigger,r.on[o]=i.on,r),{emit:{},on:{}})}function gm(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:r,snapGrid:o,snapToGrid:i,nodesDraggable:s,emits:u}=Et();return(c,f=!1)=>{const h=i.value?o.value[0]:5,p=i.value?o.value[1]:5,v=f?4:1,m=c.x*h*v,E=c.y*p*v,k=[];for(const M of e.value)if(M.draggable||s&&typeof M.draggable>"u"){const A={x:M.computedPosition.x+m,y:M.computedPosition.y+E},{computedPosition:$}=kc(M,A,u.error,t.value,M.parentNode?r(M.parentNode):void 0);k.push({id:M.id,position:$,from:M.position,distance:{x:c.x,y:c.y},dimensions:M.dimensions})}n(k,!0,!1)}}const il=.1,lE=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function xr(){return qa("Viewport not initialized yet."),Promise.resolve(!1)}const cE={zoomIn:xr,zoomOut:xr,zoomTo:xr,fitView:xr,setCenter:xr,fitBounds:xr,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:xr,setTransform:xr,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function fE(e){function t(r,o){return new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(o?.interpolate==="linear"?Si:Fs).scaleBy(sl(e.d3Selection,o?.duration,o?.ease,()=>{i(!0)}),r):i(!1)})}function n(r,o,i,s){return new Promise(u=>{var c;const{x:f,y:h}=Yg({x:-r,y:-o},e.translateExtent),p=Vo.translate(-f,-h).scale(i);e.d3Selection&&e.d3Zoom?(c=e.d3Zoom)==null||c.interpolate(s?.interpolate==="linear"?Si:Fs).transform(sl(e.d3Selection,s?.duration,s?.ease,()=>{u(!0)}),p):u(!1)})}return De(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:o=>t(1.2,o),zoomOut:o=>t(1/1.2,o),zoomTo:(o,i)=>new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(i?.interpolate==="linear"?Si:Fs).scaleTo(sl(e.d3Selection,i?.duration,i?.ease,()=>{s(!0)}),o):s(!1)}),setViewport:(o,i)=>n(o.x,o.y,o.zoom,i),setTransform:(o,i)=>n(o.x,o.y,o.zoom,i),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(o={padding:il,includeHiddenNodes:!1,duration:0})=>{var i,s;const u=[];for(const v of e.nodes)v.dimensions.width&&v.dimensions.height&&(o?.includeHiddenNodes||!v.hidden)&&(!((i=o.nodes)!=null&&i.length)||(s=o.nodes)!=null&&s.length&&o.nodes.includes(v.id))&&u.push(v);if(!u.length)return Promise.resolve(!1);const c=tm(u),{x:f,y:h,zoom:p}=Fd(c,e.dimensions.width,e.dimensions.height,o.minZoom??e.minZoom,o.maxZoom??e.maxZoom,o.padding??il,o.offset);return n(f,h,p,o)},setCenter:(o,i,s)=>{const u=typeof s?.zoom<"u"?s.zoom:e.maxZoom,c=e.dimensions.width/2-o*u,f=e.dimensions.height/2-i*u;return n(c,f,u,s)},fitBounds:(o,i={padding:il})=>{const{x:s,y:u,zoom:c}=Fd(o,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,i.padding);return n(s,u,c,i)},project:o=>Fi(o,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:o=>{if(e.vueFlowRef){const{x:i,y:s}=e.vueFlowRef.getBoundingClientRect(),u={x:o.x-i,y:o.y-s};return Fi(u,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:o=>{if(e.vueFlowRef){const{x:i,y:s}=e.vueFlowRef.getBoundingClientRect(),u={x:o.x+i,y:o.y+s};return Bl(u,e.viewport)}return{x:0,y:0}}}:cE)}function sl(e,t=0,n=lE,r=()=>{}){const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e}function dE(e,t,n){const r=Ia(!0);return r.run(()=>{const o=()=>{r.run(()=>{let k,M,A=!!(n.nodes.value.length||n.edges.value.length);k=bo([e.modelValue,()=>{var $,P;return(P=($=e.modelValue)==null?void 0:$.value)==null?void 0:P.length}],([$])=>{$&&Array.isArray($)&&(M?.pause(),n.setElements($),!M&&!A&&$.length?A=!0:M?.resume())}),M=bo([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([$,P])=>{var N;(N=e.modelValue)!=null&&N.value&&Array.isArray(e.modelValue.value)&&(k?.pause(),e.modelValue.value=[...$,...P],vn(()=>{k?.resume()}))},{immediate:A}),hi(()=>{k?.stop(),M?.stop()})})},i=()=>{r.run(()=>{let k,M,A=!!n.nodes.value.length;k=bo([e.nodes,()=>{var $,P;return(P=($=e.nodes)==null?void 0:$.value)==null?void 0:P.length}],([$])=>{$&&Array.isArray($)&&(M?.pause(),n.setNodes($),!M&&!A&&$.length?A=!0:M?.resume())}),M=bo([n.nodes,()=>n.nodes.value.length],([$])=>{var P;(P=e.nodes)!=null&&P.value&&Array.isArray(e.nodes.value)&&(k?.pause(),e.nodes.value=[...$],vn(()=>{k?.resume()}))},{immediate:A}),hi(()=>{k?.stop(),M?.stop()})})},s=()=>{r.run(()=>{let k,M,A=!!n.edges.value.length;k=bo([e.edges,()=>{var $,P;return(P=($=e.edges)==null?void 0:$.value)==null?void 0:P.length}],([$])=>{$&&Array.isArray($)&&(M?.pause(),n.setEdges($),!M&&!A&&$.length?A=!0:M?.resume())}),M=bo([n.edges,()=>n.edges.value.length],([$])=>{var P;(P=e.edges)!=null&&P.value&&Array.isArray(e.edges.value)&&(k?.pause(),e.edges.value=[...$],vn(()=>{k?.resume()}))},{immediate:A}),hi(()=>{k?.stop(),M?.stop()})})},u=()=>{r.run(()=>{at(()=>t.maxZoom,()=>{t.maxZoom&&jt(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},c=()=>{r.run(()=>{at(()=>t.minZoom,()=>{t.minZoom&&jt(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},f=()=>{r.run(()=>{at(()=>t.translateExtent,()=>{t.translateExtent&&jt(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},h=()=>{r.run(()=>{at(()=>t.nodeExtent,()=>{t.nodeExtent&&jt(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},p=()=>{r.run(()=>{at(()=>t.applyDefault,()=>{jt(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},v=()=>{r.run(()=>{const k=async M=>{let A=M;typeof t.autoConnect=="function"&&(A=await t.autoConnect(M)),A!==!1&&n.addEdges([A])};at(()=>t.autoConnect,()=>{jt(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),at(n.autoConnect,(M,A,$)=>{M?n.onConnect(k):n.hooks.value.connect.off(k),$(()=>{n.hooks.value.connect.off(k)})},{immediate:!0})})},m=()=>{const k=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const M of Object.keys(t)){const A=M;if(!k.includes(A)){const $=St(()=>t[A]),P=n[A];yt(P)&&r.run(()=>{at($,N=>{jt(N)&&(P.value=N)},{immediate:!0})})}}};(()=>{o(),i(),s(),c(),u(),f(),h(),p(),v(),m()})()}),()=>r.stop()}function hE(){return{edgesChange:je(),nodesChange:je(),nodeDoubleClick:je(),nodeClick:je(),nodeMouseEnter:je(),nodeMouseMove:je(),nodeMouseLeave:je(),nodeContextMenu:je(),nodeDragStart:je(),nodeDrag:je(),nodeDragStop:je(),nodesInitialized:je(),miniMapNodeClick:je(),miniMapNodeDoubleClick:je(),miniMapNodeMouseEnter:je(),miniMapNodeMouseMove:je(),miniMapNodeMouseLeave:je(),connect:je(),connectStart:je(),connectEnd:je(),clickConnectStart:je(),clickConnectEnd:je(),paneReady:je(),init:je(),move:je(),moveStart:je(),moveEnd:je(),selectionDragStart:je(),selectionDrag:je(),selectionDragStop:je(),selectionContextMenu:je(),selectionStart:je(),selectionEnd:je(),viewportChangeStart:je(),viewportChange:je(),viewportChangeEnd:je(),paneScroll:je(),paneClick:je(),paneContextMenu:je(),paneMouseEnter:je(),paneMouseMove:je(),paneMouseLeave:je(),edgeContextMenu:je(),edgeMouseEnter:je(),edgeMouseMove:je(),edgeMouseLeave:je(),edgeDoubleClick:je(),edgeClick:je(),edgeUpdateStart:je(),edgeUpdate:je(),edgeUpdateEnd:je(),updateNodeInternals:je(),error:je(e=>qa(e.message))}}function pE(e,t){const n=qn();sc(()=>{for(const[o,i]of Object.entries(t.value)){const s=u=>{e(o,u)};i.setEmitter(s),Mi(i.removeEmitter),i.setHasEmitListeners(()=>r(o)),Mi(i.removeHasEmitListeners)}});function r(o){var i;const s=gE(o);return!!((i=n?.vnode.props)==null?void 0:i[s])}}function gE(e){const[t,...n]=e.split(":");return`on${t.replace(/(?:^|-)(\w)/g,(o,i)=>i.toUpperCase())}${n.length?`:${n.join(":")}`:""}`}function mm(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Ec.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Ei.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Kr.Bezier,style:{}},connectionMode:Nr.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:pa()?"Meta":"Control",zoomActivationKeyCode:pa()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:hE(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const mE=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function vE(e,t,n){const r=fE(e),o=_=>{const w=_??[];e.hooks.updateNodeInternals.trigger(w)},i=_=>AS(_,e.nodes,e.edges),s=_=>OS(_,e.nodes,e.edges),u=_=>rm(_,e.edges),c=({id:_,type:w,nodeId:C})=>{var x;const V=_?`-${w}-${_}`:`-${w}`;return Array.from(((x=e.connectionLookup.get(`${C}${V}`))==null?void 0:x.values())??[])},f=_=>{if(_)return t.value.get(_)},h=_=>{if(_)return n.value.get(_)},p=(_,w,C)=>{var x,V;const ne=[];for(const te of _){const X={id:te.id,type:"position",dragging:C,from:te.from};if(w&&(X.position=te.position,te.parentNode)){const ge=f(te.parentNode);X.position={x:X.position.x-(((x=ge?.computedPosition)==null?void 0:x.x)??0),y:X.position.y-(((V=ge?.computedPosition)==null?void 0:V.y)??0)}}ne.push(X)}ne?.length&&e.hooks.nodesChange.trigger(ne)},v=_=>{if(!e.vueFlowRef)return;const w=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!w)return;const C=window.getComputedStyle(w),{m22:x}=new window.DOMMatrixReadOnly(C.transform),V=[];for(const ne of _){const te=ne,X=f(te.id);if(X){const ge=Ua(te.nodeElement);if(!!(ge.width&&ge.height&&(X.dimensions.width!==ge.width||X.dimensions.height!==ge.height||te.forceUpdate))){const Se=te.nodeElement.getBoundingClientRect();X.dimensions=ge,X.handleBounds.source=Xd("source",te.nodeElement,Se,x,X.id),X.handleBounds.target=Xd("target",te.nodeElement,Se,x,X.id),V.push({id:X.id,type:"dimensions",dimensions:ge})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&r.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),V.length&&e.hooks.nodesChange.trigger(V)},m=(_,w)=>{const C=new Set,x=new Set;for(const te of _)Qr(te)?C.add(te.id):$r(te)&&x.add(te.id);const V=Pr(t.value,C,!0),ne=Pr(n.value,x);if(e.multiSelectionActive){for(const te of C)V.push(Er(te,w));for(const te of x)ne.push(Er(te,w))}V.length&&e.hooks.nodesChange.trigger(V),ne.length&&e.hooks.edgesChange.trigger(ne)},E=_=>{if(e.multiSelectionActive){const w=_.map(C=>Er(C.id,!0));e.hooks.nodesChange.trigger(w);return}e.hooks.nodesChange.trigger(Pr(t.value,new Set(_.map(w=>w.id)),!0)),e.hooks.edgesChange.trigger(Pr(n.value))},k=_=>{if(e.multiSelectionActive){const w=_.map(C=>Er(C.id,!0));e.hooks.edgesChange.trigger(w);return}e.hooks.edgesChange.trigger(Pr(n.value,new Set(_.map(w=>w.id)))),e.hooks.nodesChange.trigger(Pr(t.value,new Set,!0))},M=_=>{m(_,!0)},A=_=>{const C=(_||e.nodes).map(x=>(x.selected=!1,Er(x.id,!1)));e.hooks.nodesChange.trigger(C)},$=_=>{const C=(_||e.edges).map(x=>(x.selected=!1,Er(x.id,!1)));e.hooks.edgesChange.trigger(C)},P=_=>{if(!_||!_.length)return m([],!1);const w=_.reduce((C,x)=>{const V=Er(x.id,!1);return Qr(x)?C.nodes.push(V):C.edges.push(V),C},{nodes:[],edges:[]});w.nodes.length&&e.hooks.nodesChange.trigger(w.nodes),w.edges.length&&e.hooks.edgesChange.trigger(w.edges)},N=_=>{var w;(w=e.d3Zoom)==null||w.scaleExtent([_,e.maxZoom]),e.minZoom=_},re=_=>{var w;(w=e.d3Zoom)==null||w.scaleExtent([e.minZoom,_]),e.maxZoom=_},ce=_=>{var w;(w=e.d3Zoom)==null||w.translateExtent(_),e.translateExtent=_},q=_=>{e.nodeExtent=_,o()},W=_=>{var w;(w=e.d3Zoom)==null||w.clickDistance(_)},Q=_=>{e.nodesDraggable=_,e.nodesConnectable=_,e.elementsSelectable=_},ie=_=>{const w=_ instanceof Function?_(e.nodes):_;!e.initialized&&!w.length||(e.nodes=Jd(w,f,e.hooks.error.trigger))},ae=_=>{const w=_ instanceof Function?_(e.edges):_;if(!e.initialized&&!w.length)return;const C=ol(w,e.isValidConnection,f,h,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);rl(e.connectionLookup,n.value,C),e.edges=C},R=_=>{const w=_ instanceof Function?_([...e.nodes,...e.edges]):_;!e.initialized&&!w.length||(ie(w.filter(Qr)),ae(w.filter($r)))},Ie=_=>{let w=_ instanceof Function?_(e.nodes):_;w=Array.isArray(w)?w:[w];const C=Jd(w,f,e.hooks.error.trigger),x=[];for(const V of C)x.push(Hd(V));x.length&&e.hooks.nodesChange.trigger(x)},j=_=>{let w=_ instanceof Function?_(e.edges):_;w=Array.isArray(w)?w:[w];const C=ol(w,e.isValidConnection,f,h,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),x=[];for(const V of C)x.push(Hd(V));x.length&&e.hooks.edgesChange.trigger(x)},he=(_,w=!0,C=!1)=>{const x=_ instanceof Function?_(e.nodes):_,V=Array.isArray(x)?x:[x],ne=[],te=[];function X(de){const Se=u(de);for(const Ne of Se)(!jt(Ne.deletable)||Ne.deletable)&&te.push(Ud(Ne.id,Ne.source,Ne.target,Ne.sourceHandle,Ne.targetHandle))}function ge(de){const Se=[];for(const Ne of e.nodes)Ne.parentNode===de&&Se.push(Ne);if(Se.length){for(const Ne of Se)ne.push(Zd(Ne.id));w&&X(Se);for(const Ne of Se)ge(Ne.id)}}for(const de of V){const Se=typeof de=="string"?f(de):de;Se&&(jt(Se.deletable)&&!Se.deletable||(ne.push(Zd(Se.id)),w&&X([Se]),C&&ge(Se.id)))}te.length&&e.hooks.edgesChange.trigger(te),ne.length&&e.hooks.nodesChange.trigger(ne)},H=_=>{const w=_ instanceof Function?_(e.edges):_,C=Array.isArray(w)?w:[w],x=[];for(const V of C){const ne=typeof V=="string"?h(V):V;ne&&(jt(ne.deletable)&&!ne.deletable||x.push(Ud(typeof V=="string"?V:V.id,ne.source,ne.target,ne.sourceHandle,ne.targetHandle)))}e.hooks.edgesChange.trigger(x)},se=(_,w,C=!0)=>{const x=h(_.id);if(!x)return!1;const V=e.edges.indexOf(x),ne=eE(_,w,x,C,e.hooks.error.trigger);if(ne){const[te]=ol([ne],e.isValidConnection,f,h,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((X,ge)=>ge===V?te:X),rl(e.connectionLookup,n.value,[te]),te}return!1},fe=(_,w,C={replace:!1})=>{const x=h(_);if(!x)return;const V=typeof w=="function"?w(x):w;x.data=C.replace?V:{...x.data,...V}},ke=_=>Ld(_,e.nodes),xe=_=>{const w=Ld(_,e.edges);return rl(e.connectionLookup,n.value,w),w},Ae=(_,w,C={replace:!1})=>{const x=f(_);if(!x)return;const V=typeof w=="function"?w(x):w;C.replace?e.nodes.splice(e.nodes.indexOf(x),1,V):Object.assign(x,V)},Ve=(_,w,C={replace:!1})=>{const x=f(_);if(!x)return;const V=typeof w=="function"?w(x):w;x.data=C.replace?V:{...x.data,...V}},Ue=(_,w,C=!1)=>{C?e.connectionClickStartHandle=_:e.connectionStartHandle=_,e.connectionEndHandle=null,e.connectionStatus=null,w&&(e.connectionPosition=w)},$e=(_,w=null,C=null)=>{e.connectionStartHandle&&(e.connectionPosition=_,e.connectionEndHandle=w,e.connectionStatus=C)},Le=(_,w)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,w?e.connectionClickStartHandle=null:e.connectionStartHandle=null},Oe=_=>{const w=NS(_),C=w?null:fi(_)?_:f(_.id);return!w&&!C?[null,null,w]:[w?_:da(C),C,w]},ee=(_,w=!0,C=e.nodes)=>{const[x,V,ne]=Oe(_);if(!x)return[];const te=[];for(const X of C||e.nodes){if(!ne&&(X.id===V.id||!X.computedPosition))continue;const ge=da(X),de=ha(ge,x);(w&&de>0||de>=ge.width*ge.height||de>=Number(x.width)*Number(x.height))&&te.push(X)}return te},ye=(_,w,C=!0)=>{const[x]=Oe(_);if(!x)return!1;const V=ha(x,w);return C&&V>0||V>=Number(x.width)*Number(x.height)},J=_=>{const{viewport:w,dimensions:C,d3Zoom:x,d3Selection:V,translateExtent:ne}=e;if(!x||!V||!_.x&&!_.y)return!1;const te=Vo.translate(w.x+_.x,w.y+_.y).scale(w.zoom),X=[[0,0],[C.width,C.height]],ge=x.constrain()(te,X,ne),de=e.viewport.x!==ge.x||e.viewport.y!==ge.y||e.viewport.zoom!==ge.k;return x.transform(V,ge),de},we=_=>{const w=_ instanceof Function?_(e):_,C=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];jt(w.defaultEdgeOptions)&&(e.defaultEdgeOptions=w.defaultEdgeOptions);const x=w.modelValue||w.nodes||w.edges?[]:void 0;x&&(w.modelValue&&x.push(...w.modelValue),w.nodes&&x.push(...w.nodes),w.edges&&x.push(...w.edges),R(x));const V=()=>{jt(w.maxZoom)&&re(w.maxZoom),jt(w.minZoom)&&N(w.minZoom),jt(w.translateExtent)&&ce(w.translateExtent)};for(const ne of Object.keys(w)){const te=ne,X=w[te];![...mE,...C].includes(te)&&jt(X)&&(e[te]=X)}Il(()=>e.d3Zoom).not.toBeNull().then(V),e.initialized||(e.initialized=!0)};return{updateNodePositions:p,updateNodeDimensions:v,setElements:R,setNodes:ie,setEdges:ae,addNodes:Ie,addEdges:j,removeNodes:he,removeEdges:H,findNode:f,findEdge:h,updateEdge:se,updateEdgeData:fe,updateNode:Ae,updateNodeData:Ve,applyEdgeChanges:xe,applyNodeChanges:ke,addSelectedElements:M,addSelectedNodes:E,addSelectedEdges:k,setMinZoom:N,setMaxZoom:re,setTranslateExtent:ce,setNodeExtent:q,setPaneClickDistance:W,removeSelectedElements:P,removeSelectedNodes:A,removeSelectedEdges:$,startConnection:Ue,updateConnection:$e,endConnection:Le,setInteractive:Q,setState:we,getIntersectingNodes:ee,getIncomers:i,getOutgoers:s,getConnectedEdges:u,getHandleConnections:c,isNodeIntersecting:ye,panBy:J,fitView:_=>r.value.fitView(_),zoomIn:_=>r.value.zoomIn(_),zoomOut:_=>r.value.zoomOut(_),zoomTo:(_,w)=>r.value.zoomTo(_,w),setViewport:(_,w)=>r.value.setViewport(_,w),setTransform:(_,w)=>r.value.setTransform(_,w),getViewport:()=>r.value.getViewport(),getTransform:()=>r.value.getTransform(),setCenter:(_,w,C)=>r.value.setCenter(_,w,C),fitBounds:(_,w)=>r.value.fitBounds(_,w),project:_=>r.value.project(_),screenToFlowCoordinate:_=>r.value.screenToFlowCoordinate(_),flowToScreenCoordinate:_=>r.value.flowToScreenCoordinate(_),toObject:()=>{const _=[],w=[];for(const C of e.nodes){const{computedPosition:x,handleBounds:V,selected:ne,dimensions:te,isParent:X,resizing:ge,dragging:de,events:Se,...Ne}=C;_.push(Ne)}for(const C of e.edges){const{selected:x,sourceNode:V,targetNode:ne,events:te,...X}=C;w.push(X)}return JSON.parse(JSON.stringify({nodes:_,edges:w,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:_=>new Promise(w=>{const{nodes:C,edges:x,position:V,zoom:ne,viewport:te}=_;if(C&&ie(C),x&&ae(x),te?.x&&te?.y||V){const X=te?.x||V[0],ge=te?.y||V[1],de=te?.zoom||ne||e.viewport.zoom;return Il(()=>r.value.viewportInitialized).toBe(!0).then(()=>{r.value.setViewport({x:X,y:ge,zoom:de}).then(()=>{w(!0)})})}else w(!0)}),updateNodeInternals:o,viewportHelper:r,$reset:()=>{const _=mm();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const w=Vo.translate(_.defaultViewport.x??0,_.defaultViewport.y??0).scale(no(_.defaultViewport.zoom??1,_.minZoom,_.maxZoom)),C=e.viewportRef.getBoundingClientRect(),x=[[0,0],[C.width,C.height]],V=e.d3Zoom.constrain()(w,x,_.translateExtent);e.d3Zoom.transform(e.d3Selection,V)}we(_)},$destroy:()=>{}}}const yE=["data-id","data-handleid","data-nodeid","data-handlepos"],_E={name:"Handle",compatConfig:{MODE:3}},Or=ot({..._E,props:{id:{default:null},type:{},position:{default:()=>Fe.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=Cy(e,["position","connectable","connectableStart","connectableEnd","id"]),r=St(()=>n.type??"source"),o=St(()=>n.isValidConnection??null),{id:i,connectionStartHandle:s,connectionClickStartHandle:u,connectionEndHandle:c,vueFlowRef:f,nodesConnectable:h,noDragClassName:p,noPanClassName:v}=Et(),{id:m,node:E,nodeEl:k,connectedEdges:M}=pm(),A=rt(),$=St(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),P=St(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),N=St(()=>{var ae,R,Ie,j,he,H;return((ae=s.value)==null?void 0:ae.nodeId)===m&&((R=s.value)==null?void 0:R.id)===e.id&&((Ie=s.value)==null?void 0:Ie.type)===r.value||((j=c.value)==null?void 0:j.nodeId)===m&&((he=c.value)==null?void 0:he.id)===e.id&&((H=c.value)==null?void 0:H.type)===r.value}),re=St(()=>{var ae,R,Ie;return((ae=u.value)==null?void 0:ae.nodeId)===m&&((R=u.value)==null?void 0:R.id)===e.id&&((Ie=u.value)==null?void 0:Ie.type)===r.value}),{handlePointerDown:ce,handleClick:q}=hm({nodeId:m,handleId:e.id,isValidConnection:o,type:r}),W=De(()=>typeof e.connectable=="string"&&e.connectable==="single"?!M.value.some(ae=>{const R=ae[`${r.value}Handle`];return ae[r.value]!==m?!1:R?R===e.id:!0}):typeof e.connectable=="number"?M.value.filter(ae=>{const R=ae[`${r.value}Handle`];return ae[r.value]!==m?!1:R?R===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(E,M.value):jt(e.connectable)?e.connectable:h.value);Sn(()=>{var ae;if(!E.dimensions.width||!E.dimensions.height)return;const R=(ae=E.handleBounds[r.value])==null?void 0:ae.find(ke=>ke.id===e.id);if(!f.value||R)return;const Ie=f.value.querySelector(".vue-flow__transformationpane");if(!k.value||!A.value||!Ie||!e.id)return;const j=k.value.getBoundingClientRect(),he=A.value.getBoundingClientRect(),H=window.getComputedStyle(Ie),{m22:se}=new window.DOMMatrixReadOnly(H.transform),fe={id:e.id,position:e.position,x:(he.left-j.left)/se,y:(he.top-j.top)/se,type:r.value,nodeId:m,...Ua(A.value)};E.handleBounds[r.value]=[...E.handleBounds[r.value]??[],fe]});function Q(ae){const R=Cc(ae);W.value&&$.value&&(R&&ae.button===0||!R)&&ce(ae)}function ie(ae){!m||!u.value&&!$.value||W.value&&q(ae)}return t({handleClick:q,handlePointerDown:ce,onClick:ie,onPointerDown:Q}),(ae,R)=>(ve(),_e("div",{ref_key:"handle",ref:A,"data-id":`${Pe(i)}-${Pe(m)}-${e.id}-${r.value}`,"data-handleid":e.id,"data-nodeid":Pe(m),"data-handlepos":ae.position,class:rn(["vue-flow__handle",[`vue-flow__handle-${ae.position}`,`vue-flow__handle-${e.id}`,Pe(p),Pe(v),r.value,{connectable:W.value,connecting:re.value,connectablestart:$.value,connectableend:P.value,connectionindicator:W.value&&($.value&&!N.value||P.value&&N.value)}]]),onMousedown:Q,onTouchstartPassive:Q,onClick:ie},[Hn(ae.$slots,"default",{id:ae.id})],42,yE))}}),Wa=function({sourcePosition:e=Fe.Bottom,targetPosition:t=Fe.Top,label:n,connectable:r=!0,isValidTargetPos:o,isValidSourcePos:i,data:s}){const u=s.label??n;return[ht(Or,{type:"target",position:t,connectable:r,isValidConnection:o}),typeof u!="string"&&u?ht(u):ht(et,[u]),ht(Or,{type:"source",position:e,connectable:r,isValidConnection:i})]};Wa.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Wa.inheritAttrs=!1;Wa.compatConfig={MODE:3};const bE=Wa,Ya=function({targetPosition:e=Fe.Top,label:t,connectable:n=!0,isValidTargetPos:r,data:o}){const i=o.label??t;return[ht(Or,{type:"target",position:e,connectable:n,isValidConnection:r}),typeof i!="string"&&i?ht(i):ht(et,[i])]};Ya.props=["targetPosition","label","isValidTargetPos","connectable","data"];Ya.inheritAttrs=!1;Ya.compatConfig={MODE:3};const wE=Ya,Xa=function({sourcePosition:e=Fe.Bottom,label:t,connectable:n=!0,isValidSourcePos:r,data:o}){const i=o.label??t;return[typeof i!="string"&&i?ht(i):ht(et,[i]),ht(Or,{type:"source",position:e,connectable:n,isValidConnection:r})]};Xa.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Xa.inheritAttrs=!1;Xa.compatConfig={MODE:3};const xE=Xa,SE=["transform"],EE=["width","height","x","y","rx","ry"],kE=["y"],CE={name:"EdgeText",compatConfig:{MODE:3}},IE=ot({...CE,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=rt({x:0,y:0,width:0,height:0}),n=rt(null),r=De(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);Sn(o),at([()=>e.x,()=>e.y,n,()=>e.label],o);function o(){if(!n.value)return;const i=n.value.getBBox();(i.width!==t.value.width||i.height!==t.value.height)&&(t.value=i)}return(i,s)=>(ve(),_e("g",{transform:r.value,class:"vue-flow__edge-textwrapper"},[i.labelShowBg?(ve(),_e("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*i.labelBgPadding[0]}px`,height:`${t.value.height+2*i.labelBgPadding[1]}px`,x:-i.labelBgPadding[0],y:-i.labelBgPadding[1],style:sn(i.labelBgStyle),rx:i.labelBgBorderRadius,ry:i.labelBgBorderRadius},null,12,EE)):pt("",!0),me("text",hc(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:i.labelStyle}),[Hn(i.$slots,"default",{},()=>[typeof i.label!="string"?(ve(),xn(xy(i.label),{key:0})):(ve(),_e(et,{key:1},[za(st(i.label),1)],64))])],16,kE)],8,SE))}}),PE=["id","d","marker-end","marker-start"],TE=["d","stroke-width"],NE={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Ja=ot({...NE,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=rt(null),r=rt(null),o=rt(null),i=ky();return t({pathEl:n,interactionEl:r,labelEl:o}),(s,u)=>(ve(),_e(et,null,[me("path",hc(Pe(i),{id:s.id,ref_key:"pathEl",ref:n,d:s.path,class:"vue-flow__edge-path","marker-end":s.markerEnd,"marker-start":s.markerStart}),null,16,PE),s.interactionWidth?(ve(),_e("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:s.path,"stroke-width":s.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,TE)):pt("",!0),s.label&&s.labelX&&s.labelY?(ve(),xn(IE,{key:1,ref_key:"labelEl",ref:o,x:s.labelX,y:s.labelY,label:s.label,"label-show-bg":s.labelShowBg,"label-bg-style":s.labelBgStyle,"label-bg-padding":s.labelBgPadding,"label-bg-border-radius":s.labelBgBorderRadius,"label-style":s.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):pt("",!0)],64))}});function vm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,u=r<t?r+s:r-s;return[i,u,o,s]}function ym({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:u}){const c=e*.125+o*.375+s*.375+n*.125,f=t*.125+i*.375+u*.375+r*.125,h=Math.abs(c-e),p=Math.abs(f-t);return[c,f,h,p]}function Ts(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function nh({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){let s,u;switch(e){case Fe.Left:s=t-Ts(t-r,i),u=n;break;case Fe.Right:s=t+Ts(r-t,i),u=n;break;case Fe.Top:s=t,u=n-Ts(n-o,i);break;case Fe.Bottom:s=t,u=n+Ts(o-n,i);break}return[s,u]}function _m(e){const{sourceX:t,sourceY:n,sourcePosition:r=Fe.Bottom,targetX:o,targetY:i,targetPosition:s=Fe.Top,curvature:u=.25}=e,[c,f]=nh({pos:r,x1:t,y1:n,x2:o,y2:i,c:u}),[h,p]=nh({pos:s,x1:o,y1:i,x2:t,y2:n,c:u}),[v,m,E,k]=ym({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:c,sourceControlY:f,targetControlX:h,targetControlY:p});return[`M${t},${n} C${c},${f} ${h},${p} ${o},${i}`,v,m,E,k]}function rh({pos:e,x1:t,y1:n,x2:r,y2:o}){let i,s;switch(e){case Fe.Left:case Fe.Right:i=.5*(t+r),s=n;break;case Fe.Top:case Fe.Bottom:i=t,s=.5*(n+o);break}return[i,s]}function bm(e){const{sourceX:t,sourceY:n,sourcePosition:r=Fe.Bottom,targetX:o,targetY:i,targetPosition:s=Fe.Top}=e,[u,c]=rh({pos:r,x1:t,y1:n,x2:o,y2:i}),[f,h]=rh({pos:s,x1:o,y1:i,x2:t,y2:n}),[p,v,m,E]=ym({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:u,sourceControlY:c,targetControlX:f,targetControlY:h});return[`M${t},${n} C${u},${c} ${f},${h} ${o},${i}`,p,v,m,E]}const oh={[Fe.Left]:{x:-1,y:0},[Fe.Right]:{x:1,y:0},[Fe.Top]:{x:0,y:-1},[Fe.Bottom]:{x:0,y:1}};function $E({source:e,sourcePosition:t=Fe.Bottom,target:n}){return t===Fe.Left||t===Fe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function ih(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function OE({source:e,sourcePosition:t=Fe.Bottom,target:n,targetPosition:r=Fe.Top,center:o,offset:i}){const s=oh[t],u=oh[r],c={x:e.x+s.x*i,y:e.y+s.y*i},f={x:n.x+u.x*i,y:n.y+u.y*i},h=$E({source:c,sourcePosition:t,target:f}),p=h.x!==0?"x":"y",v=h[p];let m,E,k;const M={x:0,y:0},A={x:0,y:0},[$,P,N,re]=vm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[p]*u[p]===-1){E=o.x??$,k=o.y??P;const q=[{x:E,y:c.y},{x:E,y:f.y}],W=[{x:c.x,y:k},{x:f.x,y:k}];s[p]===v?m=p==="x"?q:W:m=p==="x"?W:q}else{const q=[{x:c.x,y:f.y}],W=[{x:f.x,y:c.y}];if(p==="x"?m=s.x===v?W:q:m=s.y===v?q:W,t===r){const Ie=Math.abs(e[p]-n[p]);if(Ie<=i){const j=Math.min(i-1,i-Ie);s[p]===v?M[p]=(c[p]>e[p]?-1:1)*j:A[p]=(f[p]>n[p]?-1:1)*j}}if(t!==r){const Ie=p==="x"?"y":"x",j=s[p]===u[Ie],he=c[Ie]>f[Ie],H=c[Ie]<f[Ie];(s[p]===1&&(!j&&he||j&&H)||s[p]!==1&&(!j&&H||j&&he))&&(m=p==="x"?q:W)}const Q={x:c.x+M.x,y:c.y+M.y},ie={x:f.x+A.x,y:f.y+A.y},ae=Math.max(Math.abs(Q.x-m[0].x),Math.abs(ie.x-m[0].x)),R=Math.max(Math.abs(Q.y-m[0].y),Math.abs(ie.y-m[0].y));ae>=R?(E=(Q.x+ie.x)/2,k=m[0].y):(E=m[0].x,k=(Q.y+ie.y)/2)}return[[e,{x:c.x+M.x,y:c.y+M.y},...m,{x:f.x+A.x,y:f.y+A.y},n],E,k,N,re]}function AE(e,t,n,r){const o=Math.min(ih(e,t)/2,ih(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const f=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${i+o*f},${s}Q ${i},${s} ${i},${s+o*h}`}const u=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${s+o*c}Q ${i},${s} ${i+o*u},${s}`}function Vl(e){const{sourceX:t,sourceY:n,sourcePosition:r=Fe.Bottom,targetX:o,targetY:i,targetPosition:s=Fe.Top,borderRadius:u=5,centerX:c,centerY:f,offset:h=20}=e,[p,v,m,E,k]=OE({source:{x:t,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:s,center:{x:c,y:f},offset:h});return[p.reduce((A,$,P)=>{let N;return P>0&&P<p.length-1?N=AE(p[P-1],$,p[P+1],u):N=`${P===0?"M":"L"}${$.x} ${$.y}`,A+=N,A},""),v,m,E,k]}function ME(e){const{sourceX:t,sourceY:n,targetX:r,targetY:o}=e,[i,s,u,c]=vm({sourceX:t,sourceY:n,targetX:r,targetY:o});return[`M ${t},${n}L ${r},${o}`,i,s,u,c]}const DE=ot({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=ME(e);return ht(Ja,{path:n,labelX:r,labelY:o,...t,...e})}}}),RE=DE,zE=ot({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=Vl({...e,sourcePosition:e.sourcePosition??Fe.Bottom,targetPosition:e.targetPosition??Fe.Top});return ht(Ja,{path:n,labelX:r,labelY:o,...t,...e})}}}),wm=zE,BE=ot({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>ht(wm,{...e,...t,borderRadius:0})}}),FE=BE,jE=ot({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=_m({...e,sourcePosition:e.sourcePosition??Fe.Bottom,targetPosition:e.targetPosition??Fe.Top});return ht(Ja,{path:n,labelX:r,labelY:o,...t,...e})}}}),VE=jE,LE=ot({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=bm({...e,sourcePosition:e.sourcePosition??Fe.Bottom,targetPosition:e.targetPosition??Fe.Top});return ht(Ja,{path:n,labelX:r,labelY:o,...t,...e})}}}),HE=LE,ZE={input:xE,default:bE,output:wE},UE={default:VE,straight:RE,step:FE,smoothstep:wm,simplebezier:HE};function KE(e,t,n){const r=De(()=>k=>t.value.get(k)),o=De(()=>k=>n.value.get(k)),i=De(()=>{const k={...UE,...e.edgeTypes},M=Object.keys(k);for(const A of e.edges)A.type&&!M.includes(A.type)&&(k[A.type]=A.type);return k}),s=De(()=>{const k={...ZE,...e.nodeTypes},M=Object.keys(k);for(const A of e.nodes)A.type&&!M.includes(A.type)&&(k[A.type]=A.type);return k}),u=De(()=>e.onlyRenderVisibleElements?nm(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),c=De(()=>{if(e.onlyRenderVisibleElements){const k=[];for(const M of e.edges){const A=t.value.get(M.source),$=t.value.get(M.target);LS({sourcePos:A.computedPosition||{x:0,y:0},targetPos:$.computedPosition||{x:0,y:0},sourceWidth:A.dimensions.width,sourceHeight:A.dimensions.height,targetWidth:$.dimensions.width,targetHeight:$.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&k.push(M)}return k}return e.edges}),f=De(()=>[...u.value,...c.value]),h=De(()=>{const k=[];for(const M of e.nodes)M.selected&&k.push(M);return k}),p=De(()=>{const k=[];for(const M of e.edges)M.selected&&k.push(M);return k}),v=De(()=>[...h.value,...p.value]),m=De(()=>{const k=[];for(const M of e.nodes)M.dimensions.width&&M.dimensions.height&&M.handleBounds!==void 0&&k.push(M);return k}),E=De(()=>u.value.length>0&&m.value.length===u.value.length);return{getNode:r,getEdge:o,getElements:f,getEdgeTypes:i,getNodeTypes:s,getEdges:c,getNodes:u,getSelectedElements:v,getSelectedNodes:h,getSelectedEdges:p,getNodesInitialized:m,areNodesInitialized:E}}class qr{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=qn())==null?void 0:t.appContext.app,r=n?.config.globalProperties.$vueFlowStorage??qr.instance;return qr.instance=r??new qr,n&&(n.config.globalProperties.$vueFlowStorage=qr.instance),qr.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const r=mm(),o=io(r),i={};for(const[v,m]of Object.entries(o.hooks)){const E=`on${v.charAt(0).toUpperCase()+v.slice(1)}`;i[E]=m.on}const s={};for(const[v,m]of Object.entries(o.hooks))s[v]=m.trigger;const u=De(()=>{const v=new Map;for(const m of o.nodes)v.set(m.id,m);return v}),c=De(()=>{const v=new Map;for(const m of o.edges)v.set(m.id,m);return v}),f=KE(o,u,c),h=vE(o,u,c);h.setState({...o,...n});const p={...i,...f,...h,...Fb(o),nodeLookup:u,edgeLookup:c,emits:s,id:t,vueFlowVersion:"1.46.3",$destroy:()=>{this.remove(t)}};return this.set(t,p),p}getId(){return`vue-flow-${this.currentId++}`}}function Et(e){const t=qr.getInstance(),n=Pa(),r=typeof e=="object",o=r?e:{id:e},i=o.id,s=i??n?.vueFlowId;let u;if(n){const c=qt(th,null);typeof c<"u"&&c!==null&&(!s||c.id===s)&&(u=c)}if(u||s&&(u=t.get(s)),!u||s&&u.id!==s){const c=i??t.getId(),f=t.create(c,o);u=f,(n??Ia(!0)).run(()=>{at(f.applyDefault,(p,v,m)=>{const E=M=>{f.applyNodeChanges(M)},k=M=>{f.applyEdgeChanges(M)};p?(f.onNodesChange(E),f.onEdgesChange(k)):(f.hooks.value.nodesChange.off(E),f.hooks.value.edgesChange.off(k)),m(()=>{f.hooks.value.nodesChange.off(E),f.hooks.value.edgesChange.off(k)})},{immediate:!0}),Mi(()=>{if(u){const p=t.get(u.id);p?p.$destroy():qa(`No store instance found for id ${u.id} in storage.`)}})})}else r&&u.setState(o);if(n&&(Zn(th,u),n.vueFlowId=u.id),r){const c=qn();c?.type.name!=="VueFlow"&&u.emits.error(new Lt(Vt.USEVUEFLOW_OPTIONS))}return u}function qE(e){const{emits:t,dimensions:n}=Et();let r;Sn(()=>{const o=()=>{var i,s;if(!e.value||!(((s=(i=e.value).checkVisibility)==null?void 0:s.call(i))??!0))return;const u=Ua(e.value);(u.width===0||u.height===0)&&t.error(new Lt(Vt.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:u.width||500,height:u.height||500}};o(),window.addEventListener("resize",o),e.value&&(r=new ResizeObserver(()=>o()),r.observe(e.value)),Aa(()=>{window.removeEventListener("resize",o),r&&e.value&&r.unobserve(e.value)})})}const GE={name:"UserSelection",compatConfig:{MODE:3}},WE=ot({...GE,props:{userSelectionRect:{}},setup(e){return(t,n)=>(ve(),_e("div",{class:"vue-flow__selection vue-flow__container",style:sn({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),YE=["tabIndex"],XE={name:"NodesSelection",compatConfig:{MODE:3}},JE=ot({...XE,setup(e){const{emits:t,viewport:n,getSelectedNodes:r,noPanClassName:o,disableKeyboardA11y:i,userSelectionActive:s}=Et(),u=gm(),c=rt(null),f=dm({el:c,onStart(E){t.selectionDragStart(E),t.nodeDragStart(E)},onDrag(E){t.selectionDrag(E),t.nodeDrag(E)},onStop(E){t.selectionDragStop(E),t.nodeDragStop(E)}});Sn(()=>{var E;i.value||(E=c.value)==null||E.focus({preventScroll:!0})});const h=De(()=>tm(r.value)),p=De(()=>({width:`${h.value.width}px`,height:`${h.value.height}px`,top:`${h.value.y}px`,left:`${h.value.x}px`}));function v(E){t.selectionContextMenu({event:E,nodes:r.value})}function m(E){i||Oo[E.key]&&(E.preventDefault(),u({x:Oo[E.key].x,y:Oo[E.key].y},E.shiftKey))}return(E,k)=>!Pe(s)&&h.value.width&&h.value.height?(ve(),_e("div",{key:0,class:rn(["vue-flow__nodesselection vue-flow__container",Pe(o)]),style:sn({transform:`translate(${Pe(n).x}px,${Pe(n).y}px) scale(${Pe(n).zoom})`})},[me("div",{ref_key:"el",ref:c,class:rn([{dragging:Pe(f)},"vue-flow__nodesselection-rect"]),style:sn(p.value),tabIndex:Pe(i)?void 0:-1,onContextmenu:v,onKeydown:m},null,46,YE)],6)):pt("",!0)}});function QE(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const ek={name:"Pane",compatConfig:{MODE:3}},tk=ot({...ek,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:r,emits:o,userSelectionActive:i,removeSelectedElements:s,userSelectionRect:u,elementsSelectable:c,nodesSelectionActive:f,getSelectedEdges:h,getSelectedNodes:p,removeNodes:v,removeEdges:m,selectionMode:E,deleteKeyCode:k,multiSelectionKeyCode:M,multiSelectionActive:A,edgeLookup:$,nodeLookup:P,connectionLookup:N,defaultEdgeOptions:re,connectionStartHandle:ce}=Et(),q=rt(null),W=rt(new Set),Q=rt(new Set),ie=rt(),ae=St(()=>c.value&&(e.isSelecting||i.value)),R=St(()=>ce.value!==null);let Ie=!1,j=!1;const he=ki(k,{actInsideInputWithModifier:!1}),H=ki(M);at(he,$e=>{$e&&(v(p.value),m(h.value),f.value=!1)}),at(H,$e=>{A.value=$e});function se($e,Le){return Oe=>{Oe.target===Le&&$e?.(Oe)}}function fe($e){if(Ie||R.value){Ie=!1;return}o.paneClick($e),s(),f.value=!1}function ke($e){$e.preventDefault(),$e.stopPropagation(),o.paneContextMenu($e)}function xe($e){o.paneScroll($e)}function Ae($e){var Le,Oe,ee;if(ie.value=(Le=t.value)==null?void 0:Le.getBoundingClientRect(),!c.value||!e.isSelecting||$e.button!==0||$e.target!==q.value||!ie.value)return;(ee=(Oe=$e.target)==null?void 0:Oe.setPointerCapture)==null||ee.call(Oe,$e.pointerId);const{x:ye,y:J}=QE($e,ie.value);j=!0,Ie=!1,s(),u.value={width:0,height:0,startX:ye,startY:J,x:ye,y:J},o.selectionStart($e)}function Ve($e){var Le;if(!ie.value||!u.value)return;Ie=!0;const{x:Oe,y:ee}=Vn($e,ie.value),{startX:ye=0,startY:J=0}=u.value,we={startX:ye,startY:J,x:Oe<ye?Oe:ye,y:ee<J?ee:J,width:Math.abs(Oe-ye),height:Math.abs(ee-J)},Ze=W.value,S=Q.value;W.value=new Set(nm(n.value,we,r.value,E.value===Ec.Partial,!0).map(_=>_.id)),Q.value=new Set;const T=((Le=re.value)==null?void 0:Le.selectable)??!0;for(const _ of W.value){const w=N.value.get(_);if(w)for(const{edgeId:C}of w.values()){const x=$.value.get(C);x&&(x.selectable??T)&&Q.value.add(C)}}if(!eh(Ze,W.value)){const _=Pr(P.value,W.value,!0);o.nodesChange(_)}if(!eh(S,Q.value)){const _=Pr($.value,Q.value);o.edgesChange(_)}u.value=we,i.value=!0,f.value=!1}function Ue($e){var Le;$e.button!==0||!j||((Le=$e.target)==null||Le.releasePointerCapture($e.pointerId),!i.value&&u.value&&$e.target===q.value&&fe($e),i.value=!1,u.value=null,f.value=W.value.size>0,o.selectionEnd($e),e.selectionKeyPressed&&(Ie=!1),j=!1)}return($e,Le)=>(ve(),_e("div",{ref_key:"container",ref:q,class:rn(["vue-flow__pane vue-flow__container",{selection:$e.isSelecting}]),onClick:Le[0]||(Le[0]=Oe=>ae.value?void 0:se(fe,q.value)(Oe)),onContextmenu:Le[1]||(Le[1]=Oe=>se(ke,q.value)(Oe)),onWheelPassive:Le[2]||(Le[2]=Oe=>se(xe,q.value)(Oe)),onPointerenter:Le[3]||(Le[3]=Oe=>ae.value?void 0:Pe(o).paneMouseEnter(Oe)),onPointerdown:Le[4]||(Le[4]=Oe=>ae.value?Ae(Oe):Pe(o).paneMouseMove(Oe)),onPointermove:Le[5]||(Le[5]=Oe=>ae.value?Ve(Oe):Pe(o).paneMouseMove(Oe)),onPointerup:Le[6]||(Le[6]=Oe=>ae.value?Ue(Oe):void 0),onPointerleave:Le[7]||(Le[7]=Oe=>Pe(o).paneMouseLeave(Oe))},[Hn($e.$slots,"default"),Pe(i)&&Pe(u)?(ve(),xn(WE,{key:0,"user-selection-rect":Pe(u)},null,8,["user-selection-rect"])):pt("",!0),Pe(f)&&Pe(p).length?(ve(),xn(JE,{key:1})):pt("",!0)],34))}}),nk={name:"Transform",compatConfig:{MODE:3}},rk=ot({...nk,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:r}=Et(),o=De(()=>n.value?!r.value:!1),i=De(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(s,u)=>(ve(),_e("div",{class:"vue-flow__transformationpane vue-flow__container",style:sn({transform:i.value,opacity:o.value?0:void 0})},[Hn(s.$slots,"default")],4))}}),ok={name:"Viewport",compatConfig:{MODE:3}},ik=ot({...ok,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:r,translateExtent:o,zoomActivationKeyCode:i,selectionKeyCode:s,panActivationKeyCode:u,panOnScroll:c,panOnScrollMode:f,panOnScrollSpeed:h,panOnDrag:p,zoomOnDoubleClick:v,zoomOnPinch:m,zoomOnScroll:E,preventScrolling:k,noWheelClassName:M,noPanClassName:A,emits:$,connectionStartHandle:P,userSelectionActive:N,paneDragging:re,d3Zoom:ce,d3Selection:q,d3ZoomHandler:W,viewport:Q,viewportRef:ie,paneClickDistance:ae}=Et();qE(ie);const R=Pi(!1),Ie=Pi(!1);let j=null,he=!1,H=0,se={x:0,y:0,zoom:0};const fe=ki(u),ke=ki(s),xe=ki(i),Ae=St(()=>(!ke.value||ke.value&&s.value===!0)&&(fe.value||p.value)),Ve=St(()=>fe.value||c.value),Ue=St(()=>ke.value||s.value===!0&&Ae.value!==!0),$e=St(()=>P.value!==null);Sn(()=>{if(!ie.value){qa("Viewport element is missing");return}const J=ie.value,we=J.getBoundingClientRect(),Ze=SS().clickDistance(ae.value).scaleExtent([t.value,n.value]).translateExtent(o.value),S=kn(J).call(Ze),T=S.on("wheel.zoom"),_=Vo.translate(r.value.x??0,r.value.y??0).scale(no(r.value.zoom??1,t.value,n.value)),w=[[0,0],[we.width,we.height]],C=Ze.constrain()(_,w,o.value);Ze.transform(S,C),Ze.wheelDelta(jd),ce.value=Ze,q.value=S,W.value=T,Q.value={x:C.x,y:C.y,zoom:C.k},Ze.on("start",x=>{var V;if(!x.sourceEvent)return null;H=x.sourceEvent.button,R.value=!0;const ne=ee(x.transform);((V=x.sourceEvent)==null?void 0:V.type)==="mousedown"&&(re.value=!0),se=ne,$.viewportChangeStart(ne),$.moveStart({event:x,flowTransform:ne})}),Ze.on("end",x=>{if(!x.sourceEvent)return null;if(R.value=!1,re.value=!1,Le(Ae.value,H??0)&&!he&&$.paneContextMenu(x.sourceEvent),he=!1,Oe(se,x.transform)){const V=ee(x.transform);se=V,$.viewportChangeEnd(V),$.moveEnd({event:x,flowTransform:V})}}),Ze.filter(x=>{var V;const ne=xe.value||E.value,te=m.value&&x.ctrlKey,X=x.button,ge=x.type==="wheel";if(X===1&&x.type==="mousedown"&&(ye(x,"vue-flow__node")||ye(x,"vue-flow__edge")))return!0;if(!Ae.value&&!ne&&!Ve.value&&!v.value&&!m.value||N.value||$e.value&&!ge||!v.value&&x.type==="dblclick"||ye(x,M.value)&&ge||ye(x,A.value)&&(!ge||Ve.value&&ge&&!xe.value)||!m.value&&x.ctrlKey&&ge||!ne&&!Ve.value&&!te&&ge)return!1;if(!m&&x.type==="touchstart"&&((V=x.touches)==null?void 0:V.length)>1)return x.preventDefault(),!1;if(!Ae.value&&(x.type==="mousedown"||x.type==="touchstart")||s.value===!0&&Array.isArray(p.value)&&p.value.includes(0)&&X===0||Array.isArray(p.value)&&!p.value.includes(X)&&(x.type==="mousedown"||x.type==="touchstart"))return!1;const de=Array.isArray(p.value)&&p.value.includes(X)||s.value===!0&&Array.isArray(p.value)&&!p.value.includes(0)||!X||X<=1;return(!x.ctrlKey||fe.value||ge)&&de}),at([N,Ae],()=>{N.value&&!R.value?Ze.on("zoom",null):N.value||Ze.on("zoom",x=>{Q.value={x:x.transform.x,y:x.transform.y,zoom:x.transform.k};const V=ee(x.transform);he=Le(Ae.value,H??0),$.viewportChange(V),$.move({event:x,flowTransform:V})})},{immediate:!0}),at([N,Ve,f,xe,m,k,M],()=>{Ve.value&&!xe.value&&!N.value?S.on("wheel.zoom",x=>{if(ye(x,M.value))return!1;const V=xe.value||E.value,ne=m.value&&x.ctrlKey;if(!(!k.value||Ve.value||V||ne))return!1;x.preventDefault(),x.stopImmediatePropagation();const X=S.property("__zoom").k||1,ge=pa();if(!fe.value&&x.ctrlKey&&m.value&&ge){const nt=Bn(x),ut=jd(x),Pt=X*2**ut;Ze.scaleTo(S,Pt,nt,x);return}const de=x.deltaMode===1?20:1;let Se=f.value===Ei.Vertical?0:x.deltaX*de,Ne=f.value===Ei.Horizontal?0:x.deltaY*de;!ge&&x.shiftKey&&f.value!==Ei.Vertical&&!Se&&Ne&&(Se=Ne,Ne=0),Ze.translateBy(S,-(Se/X)*h.value,-(Ne/X)*h.value);const qe=ee(S.property("__zoom"));j&&clearTimeout(j),Ie.value?($.move({event:x,flowTransform:qe}),$.viewportChange(qe),j=setTimeout(()=>{$.moveEnd({event:x,flowTransform:qe}),$.viewportChangeEnd(qe),Ie.value=!1},150)):(Ie.value=!0,$.moveStart({event:x,flowTransform:qe}),$.viewportChangeStart(qe))},{passive:!1}):typeof T<"u"&&S.on("wheel.zoom",function(x,V){const ne=!k.value&&x.type==="wheel"&&!x.ctrlKey,te=xe.value||E.value,X=m.value&&x.ctrlKey;if(!te&&!c.value&&!X&&x.type==="wheel"||ne||ye(x,M.value))return null;x.preventDefault(),T.call(this,x,V)},{passive:!1})},{immediate:!0})});function Le(J,we){return we===2&&Array.isArray(J)&&J.includes(2)}function Oe(J,we){return J.x!==we.x&&!Number.isNaN(we.x)||J.y!==we.y&&!Number.isNaN(we.y)||J.zoom!==we.k&&!Number.isNaN(we.k)}function ee(J){return{x:J.x,y:J.y,zoom:J.k}}function ye(J,we){return J.target.closest(`.${we}`)}return(J,we)=>(ve(),_e("div",{ref_key:"viewportRef",ref:ie,class:"vue-flow__viewport vue-flow__container"},[tt(tk,{"is-selecting":Ue.value,"selection-key-pressed":Pe(ke),class:rn({connecting:$e.value,dragging:Pe(re),draggable:Pe(p)===!0||Array.isArray(Pe(p))&&Pe(p).includes(0)})},{default:Mo(()=>[tt(rk,null,{default:Mo(()=>[Hn(J.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),sk=["id"],ak=["id"],uk=["id"],lk={name:"A11yDescriptions",compatConfig:{MODE:3}},ck=ot({...lk,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:r}=Et();return(o,i)=>(ve(),_e(et,null,[me("div",{id:`${Pe(qg)}-${Pe(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+st(Pe(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,sk),me("div",{id:`${Pe(Gg)}-${Pe(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,ak),Pe(n)?pt("",!0):(ve(),_e("div",{key:0,id:`${Pe(TS)}-${Pe(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},st(Pe(r)),9,uk))],64))}});function fk(){const e=Et();at(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function dk(e,t,n){return n===Fe.Left?e-t:n===Fe.Right?e+t:e}function hk(e,t,n){return n===Fe.Top?e-t:n===Fe.Bottom?e+t:e}const Ic=function({radius:e=10,centerX:t=0,centerY:n=0,position:r=Fe.Top,type:o}){return ht("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${o}`,cx:dk(t,e,r),cy:hk(n,e,r),r:e,stroke:"transparent",fill:"transparent"})};Ic.props=["radius","centerX","centerY","position","type"];Ic.compatConfig={MODE:3};const sh=Ic,pk=ot({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:o,emits:i,nodesSelectionActive:s,noPanClassName:u,getEdgeTypes:c,removeSelectedEdges:f,findEdge:h,findNode:p,isValidConnection:v,multiSelectionActive:m,disableKeyboardA11y:E,elementsSelectable:k,edgesUpdatable:M,edgesFocusable:A,hooks:$}=Et(),P=De(()=>h(e.id)),{emit:N,on:re}=oE(P.value,i),ce=qt(Ga),q=qn(),W=rt(!1),Q=rt(!1),ie=rt(""),ae=rt(null),R=rt("source"),Ie=rt(null),j=St(()=>typeof P.value.selectable>"u"?k.value:P.value.selectable),he=St(()=>typeof P.value.updatable>"u"?M.value:P.value.updatable),H=St(()=>typeof P.value.focusable>"u"?A.value:P.value.focusable);Zn(tE,e.id),Zn(nE,Ie);const se=De(()=>P.value.class instanceof Function?P.value.class(P.value):P.value.class),fe=De(()=>P.value.style instanceof Function?P.value.style(P.value):P.value.style),ke=De(()=>{const w=P.value.type||"default",C=ce?.[`edge-${w}`];if(C)return C;let x=P.value.template??c.value[w];if(typeof x=="string"&&q){const V=Object.keys(q.appContext.components);V&&V.includes(w)&&(x=Zo(w,!1))}return x&&typeof x!="string"?x:(i.error(new Lt(Vt.EDGE_TYPE_MISSING,x)),!1)}),{handlePointerDown:xe}=hm({nodeId:ie,handleId:ae,type:R,isValidConnection:v,edgeUpdaterType:R,onEdgeUpdate:Ue,onEdgeUpdateEnd:$e});return()=>{const w=p(P.value.source),C=p(P.value.target),x="pathOptions"in P.value?P.value.pathOptions:{};if(!w&&!C)return i.error(new Lt(Vt.EDGE_SOURCE_TARGET_MISSING,P.value.id,P.value.source,P.value.target)),null;if(!w)return i.error(new Lt(Vt.EDGE_SOURCE_MISSING,P.value.id,P.value.source)),null;if(!C)return i.error(new Lt(Vt.EDGE_TARGET_MISSING,P.value.id,P.value.target)),null;if(!P.value||P.value.hidden||w.hidden||C.hidden)return null;let V;r.value===Nr.Strict?V=w.handleBounds.source:V=[...w.handleBounds.source||[],...w.handleBounds.target||[]];const ne=Gd(V,P.value.sourceHandle);let te;r.value===Nr.Strict?te=C.handleBounds.target:te=[...C.handleBounds.target||[],...C.handleBounds.source||[]];const X=Gd(te,P.value.targetHandle),ge=ne?.position||Fe.Bottom,de=X?.position||Fe.Top,{x:Se,y:Ne}=Lo(w,ne,ge),{x:qe,y:nt}=Lo(C,X,de);return P.value.sourceX=Se,P.value.sourceY=Ne,P.value.targetX=qe,P.value.targetY=nt,ht("g",{ref:Ie,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${ke.value===!1?"default":P.value.type||"default"}`,u.value,se.value,{updating:W.value,selected:P.value.selected,animated:P.value.animated,inactive:!j.value&&!$.value.edgeClick.hasListeners()}],tabIndex:H.value?0:void 0,"aria-label":P.value.ariaLabel===null?void 0:P.value.ariaLabel??`Edge from ${P.value.source} to ${P.value.target}`,"aria-describedby":H.value?`${Gg}-${t}`:void 0,"aria-roledescription":"edge",role:H.value?"group":"img",...P.value.domAttributes,onClick:Oe,onContextmenu:ee,onDblclick:ye,onMouseenter:J,onMousemove:we,onMouseleave:Ze,onKeyDown:H.value?_:void 0},[Q.value?null:ht(ke.value===!1?c.value.default:ke.value,{id:e.id,sourceNode:w,targetNode:C,source:P.value.source,target:P.value.target,type:P.value.type,updatable:he.value,selected:P.value.selected,animated:P.value.animated,label:P.value.label,labelStyle:P.value.labelStyle,labelShowBg:P.value.labelShowBg,labelBgStyle:P.value.labelBgStyle,labelBgPadding:P.value.labelBgPadding,labelBgBorderRadius:P.value.labelBgBorderRadius,data:P.value.data,events:{...P.value.events,...re},style:fe.value,markerStart:`url('#${ji(P.value.markerStart,t)}')`,markerEnd:`url('#${ji(P.value.markerEnd,t)}')`,sourcePosition:ge,targetPosition:de,sourceX:Se,sourceY:Ne,targetX:qe,targetY:nt,sourceHandleId:P.value.sourceHandle,targetHandleId:P.value.targetHandle,interactionWidth:P.value.interactionWidth,...x}),[he.value==="source"||he.value===!0?[ht("g",{onMousedown:S,onMouseenter:Ae,onMouseout:Ve},ht(sh,{position:ge,centerX:Se,centerY:Ne,radius:o.value,type:"source","data-type":"source"}))]:null,he.value==="target"||he.value===!0?[ht("g",{onMousedown:T,onMouseenter:Ae,onMouseout:Ve},ht(sh,{position:de,centerX:qe,centerY:nt,radius:o.value,type:"target","data-type":"target"}))]:null]])};function Ae(){W.value=!0}function Ve(){W.value=!1}function Ue(w,C){N.update({event:w,edge:P.value,connection:C})}function $e(w){N.updateEnd({event:w,edge:P.value}),Q.value=!1}function Le(w,C){w.button===0&&(Q.value=!0,ie.value=C?P.value.target:P.value.source,ae.value=(C?P.value.targetHandle:P.value.sourceHandle)??null,R.value=C?"target":"source",N.updateStart({event:w,edge:P.value}),xe(w))}function Oe(w){var C;const x={event:w,edge:P.value};j.value&&(s.value=!1,P.value.selected&&m.value?(f([P.value]),(C=Ie.value)==null||C.blur()):n([P.value])),N.click(x)}function ee(w){N.contextMenu({event:w,edge:P.value})}function ye(w){N.doubleClick({event:w,edge:P.value})}function J(w){N.mouseEnter({event:w,edge:P.value})}function we(w){N.mouseMove({event:w,edge:P.value})}function Ze(w){N.mouseLeave({event:w,edge:P.value})}function S(w){Le(w,!0)}function T(w){Le(w,!1)}function _(w){var C;!E.value&&Wg.includes(w.key)&&j.value&&(w.key==="Escape"?((C=Ie.value)==null||C.blur(),f([h(e.id)])):n([h(e.id)]))}}}),gk=pk,mk=ot({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:r,connectionEndHandle:o,connectionPosition:i,connectionLineType:s,connectionLineStyle:u,connectionLineOptions:c,connectionStatus:f,viewport:h,findNode:p}=Et(),v=(e=qt(Ga))==null?void 0:e["connection-line"],m=De(()=>{var $;return p(($=r.value)==null?void 0:$.nodeId)}),E=De(()=>{var $;return p(($=o.value)==null?void 0:$.nodeId)??null}),k=De(()=>({x:(i.value.x-h.value.x)/h.value.zoom,y:(i.value.y-h.value.y)/h.value.zoom})),M=De(()=>c.value.markerStart?`url(#${ji(c.value.markerStart,t)})`:""),A=De(()=>c.value.markerEnd?`url(#${ji(c.value.markerEnd,t)})`:"");return()=>{var $,P,N;if(!m.value||!r.value)return null;const re=r.value.id,ce=r.value.type,q=m.value.handleBounds;let W=q?.[ce]??[];if(n.value===Nr.Loose){const fe=q?.[ce==="source"?"target":"source"]??[];W=[...W,...fe]}if(!W)return null;const Q=(re?W.find(fe=>fe.id===re):W[0])??null,ie=Q?.position??Fe.Top,{x:ae,y:R}=Lo(m.value,Q,ie);let Ie=null;E.value&&(n.value===Nr.Strict?Ie=(($=E.value.handleBounds[ce==="source"?"target":"source"])==null?void 0:$.find(fe=>{var ke;return fe.id===((ke=o.value)==null?void 0:ke.id)}))||null:Ie=((P=[...E.value.handleBounds.source??[],...E.value.handleBounds.target??[]])==null?void 0:P.find(fe=>{var ke;return fe.id===((ke=o.value)==null?void 0:ke.id)}))||null);const j=((N=o.value)==null?void 0:N.position)??(ie?Fl[ie]:null);if(!ie||!j)return null;const he=s.value??c.value.type??Kr.Bezier;let H="";const se={sourceX:ae,sourceY:R,sourcePosition:ie,targetX:k.value.x,targetY:k.value.y,targetPosition:j};return he===Kr.Bezier?[H]=_m(se):he===Kr.Step?[H]=Vl({...se,borderRadius:0}):he===Kr.SmoothStep?[H]=Vl(se):he===Kr.SimpleBezier?[H]=bm(se):H=`M${ae},${R} ${k.value.x},${k.value.y}`,ht("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},ht("g",{class:"vue-flow__connection"},v?ht(v,{sourceX:ae,sourceY:R,sourcePosition:ie,targetX:k.value.x,targetY:k.value.y,targetPosition:j,sourceNode:m.value,sourceHandle:Q,targetNode:E.value,targetHandle:Ie,markerEnd:A.value,markerStart:M.value,connectionStatus:f.value}):ht("path",{d:H,class:[c.value.class,f,"vue-flow__connection-path"],style:{...u.value,...c.value.style},"marker-end":A.value,"marker-start":M.value})))}}}),vk=mk,yk=["id","markerWidth","markerHeight","markerUnits","orient"],_k={name:"MarkerType",compatConfig:{MODE:3}},bk=ot({..._k,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(ve(),_e("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===Pe(Rl).ArrowClosed?(ve(),_e("polyline",{key:0,style:sn({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):pt("",!0),t.type===Pe(Rl).Arrow?(ve(),_e("polyline",{key:1,style:sn({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):pt("",!0)],8,yk))}}),wk={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},xk={name:"MarkerDefinitions",compatConfig:{MODE:3}},Sk=ot({...xk,setup(e){const{id:t,edges:n,connectionLineOptions:r,defaultMarkerColor:o}=Et(),i=De(()=>{const s=new Set,u=[],c=f=>{if(f){const h=ji(f,t);s.has(h)||(typeof f=="object"?u.push({...f,id:h,color:f.color||o.value}):u.push({id:h,color:o.value,type:f}),s.add(h))}};for(const f of[r.value.markerEnd,r.value.markerStart])c(f);for(const f of n.value)for(const h of[f.markerStart,f.markerEnd])c(h);return u.sort((f,h)=>f.id.localeCompare(h.id))});return(s,u)=>(ve(),_e("svg",wk,[me("defs",null,[(ve(!0),_e(et,null,Bt(i.value,c=>(ve(),xn(bk,{id:c.id,key:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,"stroke-width":c.strokeWidth,orient:c.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),Ek={name:"Edges",compatConfig:{MODE:3}},kk=ot({...Ek,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:r}=Et();return(o,i)=>(ve(),_e(et,null,[tt(Sk),(ve(!0),_e(et,null,Bt(Pe(n),s=>(ve(),_e("svg",{key:s.id,class:"vue-flow__edges vue-flow__container",style:sn({zIndex:Pe(HS)(s,Pe(t),Pe(r))})},[tt(Pe(gk),{id:s.id},null,8,["id"])],4))),128)),tt(Pe(vk))],64))}}),Ck=ot({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:o,multiSelectionActive:i,emits:s,removeSelectedNodes:u,addSelectedNodes:c,updateNodeDimensions:f,onUpdateNodeInternals:h,getNodeTypes:p,nodeExtent:v,elevateNodesOnSelect:m,disableKeyboardA11y:E,ariaLiveMessage:k,snapToGrid:M,snapGrid:A,nodeDragThreshold:$,nodesDraggable:P,elementsSelectable:N,nodesConnectable:re,nodesFocusable:ce,hooks:q}=Et(),W=rt(null);Zn(fm,W),Zn(cm,e.id);const Q=qt(Ga),ie=qn(),ae=gm(),{node:R,parentNode:Ie}=pm(e.id),{emit:j,on:he}=uE(R,s),H=St(()=>typeof R.draggable>"u"?P.value:R.draggable),se=St(()=>typeof R.selectable>"u"?N.value:R.selectable),fe=St(()=>typeof R.connectable>"u"?re.value:R.connectable),ke=St(()=>typeof R.focusable>"u"?ce.value:R.focusable),xe=De(()=>se.value||H.value||q.value.nodeClick.hasListeners()||q.value.nodeDoubleClick.hasListeners()||q.value.nodeMouseEnter.hasListeners()||q.value.nodeMouseMove.hasListeners()||q.value.nodeMouseLeave.hasListeners()),Ae=St(()=>!!R.dimensions.width&&!!R.dimensions.height),Ve=De(()=>{const C=R.type||"default",x=Q?.[`node-${C}`];if(x)return x;let V=R.template||p.value[C];if(typeof V=="string"&&ie){const ne=Object.keys(ie.appContext.components);ne&&ne.includes(C)&&(V=Zo(C,!1))}return V&&typeof V!="string"?V:(s.error(new Lt(Vt.NODE_TYPE_MISSING,V)),!1)}),Ue=dm({id:e.id,el:W,disabled:()=>!H.value,selectable:se,dragHandle:()=>R.dragHandle,onStart(C){j.dragStart(C)},onDrag(C){j.drag(C)},onStop(C){j.dragStop(C)},onClick(C){_(C)}}),$e=De(()=>R.class instanceof Function?R.class(R):R.class),Le=De(()=>{const C=(R.style instanceof Function?R.style(R):R.style)||{},x=R.width instanceof Function?R.width(R):R.width,V=R.height instanceof Function?R.height(R):R.height;return!C.width&&x&&(C.width=typeof x=="string"?x:`${x}px`),!C.height&&V&&(C.height=typeof V=="string"?V:`${V}px`),C}),Oe=St(()=>Number(R.zIndex??Le.value.zIndex??0));return h(C=>{(C.includes(e.id)||!C.length)&&ye()}),Sn(()=>{at(()=>R.hidden,(C=!1,x,V)=>{!C&&W.value&&(e.resizeObserver.observe(W.value),V(()=>{W.value&&e.resizeObserver.unobserve(W.value)}))},{immediate:!0,flush:"post"})}),at([()=>R.type,()=>R.sourcePosition,()=>R.targetPosition],()=>{vn(()=>{f([{id:e.id,nodeElement:W.value,forceUpdate:!0}])})}),at([()=>R.position.x,()=>R.position.y,()=>{var C;return(C=Ie.value)==null?void 0:C.computedPosition.x},()=>{var C;return(C=Ie.value)==null?void 0:C.computedPosition.y},()=>{var C;return(C=Ie.value)==null?void 0:C.computedPosition.z},Oe,()=>R.selected,()=>R.dimensions.height,()=>R.dimensions.width,()=>{var C;return(C=Ie.value)==null?void 0:C.dimensions.height},()=>{var C;return(C=Ie.value)==null?void 0:C.dimensions.width}],([C,x,V,ne,te,X])=>{const ge={x:C,y:x,z:X+(m.value&&R.selected?1e3:0)};typeof V<"u"&&typeof ne<"u"?R.computedPosition=zS({x:V,y:ne,z:te},ge):R.computedPosition=ge},{flush:"post",immediate:!0}),at([()=>R.extent,v],([C,x],[V,ne])=>{(C!==V||x!==ne)&&ee()}),R.extent==="parent"||typeof R.extent=="object"&&"range"in R.extent&&R.extent.range==="parent"?Il(()=>Ae).toBe(!0).then(ee):ee(),()=>R.hidden?null:ht("div",{ref:W,"data-id":R.id,class:["vue-flow__node",`vue-flow__node-${Ve.value===!1?"default":R.type||"default"}`,{[n.value]:H.value,dragging:Ue?.value,draggable:H.value,selected:R.selected,selectable:se.value,parent:R.isParent},$e.value],style:{visibility:Ae.value?"visible":"hidden",zIndex:R.computedPosition.z??Oe.value,transform:`translate(${R.computedPosition.x}px,${R.computedPosition.y}px)`,pointerEvents:xe.value?"all":"none",...Le.value},tabIndex:ke.value?0:void 0,role:ke.value?"group":void 0,"aria-describedby":E.value?void 0:`${qg}-${t}`,"aria-label":R.ariaLabel,"aria-roledescription":"node",...R.domAttributes,onMouseenter:J,onMousemove:we,onMouseleave:Ze,onContextmenu:S,onClick:_,onDblclick:T,onKeydown:w},[ht(Ve.value===!1?p.value.default:Ve.value,{id:R.id,type:R.type,data:R.data,events:{...R.events,...he},selected:R.selected,resizing:R.resizing,dragging:Ue.value,connectable:fe.value,position:R.computedPosition,dimensions:R.dimensions,isValidTargetPos:R.isValidTargetPos,isValidSourcePos:R.isValidSourcePos,parent:R.parentNode,parentNodeId:R.parentNode,zIndex:R.computedPosition.z??Oe.value,targetPosition:R.targetPosition,sourcePosition:R.sourcePosition,label:R.label,dragHandle:R.dragHandle,onUpdateNodeInternals:ye})]);function ee(){const C=R.computedPosition,{computedPosition:x,position:V}=kc(R,M.value?Ka(C,A.value):C,s.error,v.value,Ie.value);(R.computedPosition.x!==x.x||R.computedPosition.y!==x.y)&&(R.computedPosition={...R.computedPosition,...x}),(R.position.x!==V.x||R.position.y!==V.y)&&(R.position=V)}function ye(){W.value&&f([{id:e.id,nodeElement:W.value,forceUpdate:!0}])}function J(C){Ue?.value||j.mouseEnter({event:C,node:R})}function we(C){Ue?.value||j.mouseMove({event:C,node:R})}function Ze(C){Ue?.value||j.mouseLeave({event:C,node:R})}function S(C){return j.contextMenu({event:C,node:R})}function T(C){return j.doubleClick({event:C,node:R})}function _(C){se.value&&(!r.value||!H.value||$.value>0)&&jl(R,i.value,c,u,o,!1,W.value),j.click({event:C,node:R})}function w(C){if(!(zl(C)||E.value))if(Wg.includes(C.key)&&se.value){const x=C.key==="Escape";jl(R,i.value,c,u,o,x,W.value)}else H.value&&R.selected&&Oo[C.key]&&(C.preventDefault(),k.value=`Moved selected node ${C.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~R.position.x}, y: ${~~R.position.y}`,ae({x:Oo[C.key].x,y:Oo[C.key].y},C.shiftKey))}}}),Ik=Ck;function Pk(e={includeHiddenNodes:!1}){const{nodes:t}=Et();return De(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&(n?.handleBounds===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const Tk={class:"vue-flow__nodes vue-flow__container"},Nk={name:"Nodes",compatConfig:{MODE:3}},$k=ot({...Nk,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:r}=Et(),o=Pk(),i=rt();return at(o,s=>{s&&vn(()=>{r.nodesInitialized(t.value)})},{immediate:!0}),Sn(()=>{i.value=new ResizeObserver(s=>{const u=s.map(c=>({id:c.target.getAttribute("data-id"),nodeElement:c.target,forceUpdate:!0}));vn(()=>n(u))})}),Aa(()=>{var s;return(s=i.value)==null?void 0:s.disconnect()}),(s,u)=>(ve(),_e("div",Tk,[i.value?(ve(!0),_e(et,{key:0},Bt(Pe(t),(c,f,h,p)=>{const v=[c.id];if(p&&p.key===c.id&&d_(p,v))return p;const m=(ve(),xn(Pe(Ik),{id:c.id,key:c.id,"resize-observer":i.value},null,8,["id","resize-observer"]));return m.memo=v,m},u,0),128)):pt("",!0)]))}});function Ok(){const{emits:e}=Et();Sn(()=>{if(lm()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Lt(Vt.MISSING_STYLES))}})}const Ak=me("div",{class:"vue-flow__edge-labels"},null,-1),Mk={name:"VueFlow",compatConfig:{MODE:3}},Dk=ot({...Mk,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const r=e,o=Ey(),i=Wu(r,"modelValue",n),s=Wu(r,"nodes",n),u=Wu(r,"edges",n),c=Et(r),f=dE({modelValue:i,nodes:s,edges:u},r,c);return pE(n,c.hooks),fk(),Ok(),Zn(Ga,o),ac(f),t(c),(h,p)=>(ve(),_e("div",{ref:Pe(c).vueFlowRef,class:"vue-flow"},[tt(ik,null,{default:Mo(()=>[tt(kk),Ak,tt($k),Hn(h.$slots,"zoom-pane")]),_:3}),Hn(h.$slots,"default"),tt(ck)],512))}});var sr=(e=>(e.Lines="lines",e.Dots="dots",e))(sr||{});const xm=function({dimensions:e,size:t,color:n}){return ht("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},Sm=function({radius:e,color:t}){return ht("circle",{cx:e,cy:e,r:e,fill:t})};sr.Lines+"",sr.Dots+"";const Rk={[sr.Dots]:"#81818a",[sr.Lines]:"#eee"},zk=["id","x","y","width","height","patternTransform"],Bk={key:2,height:"100",width:"100"},Fk=["fill"],jk=["x","y","fill"],Vk={name:"Background",compatConfig:{MODE:3}},Lk=ot({...Vk,props:{id:{},variant:{default:()=>sr.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=Et(),r=De(()=>{const s=n.value.zoom,[u,c]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],f=[u*s||1,c*s||1],h=e.size*s,[p,v]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],m=[p*s||1+f[0]/2,v*s||1+f[1]/2];return{scaledGap:f,offset:m,size:h}}),o=St(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),i=St(()=>e.color||e.patternColor||Rk[e.variant||sr.Dots]);return(s,u)=>(ve(),_e("svg",{class:"vue-flow__background vue-flow__container",style:sn({height:`${s.height>100?100:s.height}%`,width:`${s.width>100?100:s.width}%`})},[Hn(s.$slots,"pattern-container",{id:o.value},()=>[me("pattern",{id:o.value,x:Pe(n).x%r.value.scaledGap[0],y:Pe(n).y%r.value.scaledGap[1],width:r.value.scaledGap[0],height:r.value.scaledGap[1],patternTransform:`translate(-${r.value.offset[0]},-${r.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[Hn(s.$slots,"pattern",{},()=>[s.variant===Pe(sr).Lines?(ve(),xn(Pe(xm),{key:0,size:s.lineWidth,color:i.value,dimensions:r.value.scaledGap},null,8,["size","color","dimensions"])):s.variant===Pe(sr).Dots?(ve(),xn(Pe(Sm),{key:1,color:i.value,radius:r.value.size/2},null,8,["color","radius"])):pt("",!0),s.bgColor?(ve(),_e("svg",Bk,[me("rect",{width:"100%",height:"100%",fill:s.bgColor},null,8,Fk)])):pt("",!0)])],8,zk)]),me("rect",{x:s.x,y:s.y,width:"100%",height:"100%",fill:`url(#${o.value})`},null,8,jk),Hn(s.$slots,"default",{id:o.value})],4))}});var Hk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hs={exports:{}},Uk=Hs.exports,ah;function Kk(){return ah||(ah=1,(function(e,t){(function(n,r){e.exports=r()})(Uk,function(){var n=function(a,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(d[y]=g[y])})(a,l)},r=function(){return(r=Object.assign||function(a){for(var l,d=1,g=arguments.length;d<g;d++)for(var y in l=arguments[d])Object.prototype.hasOwnProperty.call(l,y)&&(a[y]=l[y]);return a}).apply(this,arguments)};function o(a,l,d){for(var g,y=0,b=l.length;y<b;y++)!g&&y in l||((g=g||Array.prototype.slice.call(l,0,y))[y]=l[y]);return a.concat(g||Array.prototype.slice.call(l))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Hk,s=Object.keys,u=Array.isArray;function c(a,l){return typeof l!="object"||s(l).forEach(function(d){a[d]=l[d]}),a}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var f=Object.getPrototypeOf,h={}.hasOwnProperty;function p(a,l){return h.call(a,l)}function v(a,l){typeof l=="function"&&(l=l(f(a))),(typeof Reflect>"u"?s:Reflect.ownKeys)(l).forEach(function(d){E(a,d,l[d])})}var m=Object.defineProperty;function E(a,l,d,g){m(a,l,c(d&&p(d,"get")&&typeof d.get=="function"?{get:d.get,set:d.set,configurable:!0}:{value:d,configurable:!0,writable:!0},g))}function k(a){return{from:function(l){return a.prototype=Object.create(l.prototype),E(a.prototype,"constructor",a),{extend:v.bind(null,a.prototype)}}}}var M=Object.getOwnPropertyDescriptor,A=[].slice;function $(a,l,d){return A.call(a,l,d)}function P(a,l){return l(a)}function N(a){if(!a)throw new Error("Assertion Failed")}function re(a){i.setImmediate?setImmediate(a):setTimeout(a,0)}function ce(a,l){if(typeof l=="string"&&p(a,l))return a[l];if(!l)return a;if(typeof l!="string"){for(var d=[],g=0,y=l.length;g<y;++g){var b=ce(a,l[g]);d.push(b)}return d}var I=l.indexOf(".");if(I!==-1){var O=a[l.substr(0,I)];return O==null?void 0:ce(O,l.substr(I+1))}}function q(a,l,d){if(a&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof l!="string"&&"length"in l){N(typeof d!="string"&&"length"in d);for(var g=0,y=l.length;g<y;++g)q(a,l[g],d[g])}else{var b,I,O=l.indexOf(".");O!==-1?(b=l.substr(0,O),(I=l.substr(O+1))===""?d===void 0?u(a)&&!isNaN(parseInt(b))?a.splice(b,1):delete a[b]:a[b]=d:q(O=!(O=a[b])||!p(a,b)?a[b]={}:O,I,d)):d===void 0?u(a)&&!isNaN(parseInt(l))?a.splice(l,1):delete a[l]:a[l]=d}}function W(a){var l,d={};for(l in a)p(a,l)&&(d[l]=a[l]);return d}var Q=[].concat;function ie(a){return Q.apply([],a)}var qe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ie([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(l){return l+a+"Array"})}))).filter(function(a){return i[a]}),ae=new Set(qe.map(function(a){return i[a]})),R=null;function Ie(a){return R=new WeakMap,a=(function l(d){if(!d||typeof d!="object")return d;var g=R.get(d);if(g)return g;if(u(d)){g=[],R.set(d,g);for(var y=0,b=d.length;y<b;++y)g.push(l(d[y]))}else if(ae.has(d.constructor))g=d;else{var I,O=f(d);for(I in g=O===Object.prototype?{}:Object.create(O),R.set(d,g),d)p(d,I)&&(g[I]=l(d[I]))}return g})(a),R=null,a}var j={}.toString;function he(a){return j.call(a).slice(8,-1)}var H=typeof Symbol<"u"?Symbol.iterator:"@@iterator",se=typeof H=="symbol"?function(a){var l;return a!=null&&(l=a[H])&&l.apply(a)}:function(){return null};function fe(a,l){return l=a.indexOf(l),0<=l&&a.splice(l,1),0<=l}var ke={};function xe(a){var l,d,g,y;if(arguments.length===1){if(u(a))return a.slice();if(this===ke&&typeof a=="string")return[a];if(y=se(a)){for(d=[];!(g=y.next()).done;)d.push(g.value);return d}if(a==null)return[a];if(typeof(l=a.length)!="number")return[a];for(d=new Array(l);l--;)d[l]=a[l];return d}for(l=arguments.length,d=new Array(l);l--;)d[l]=arguments[l];return d}var Ae=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ne=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],_n=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ne),Ve={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ue(a,l){this.name=a,this.message=l}function $e(a,l){return a+". Errors: "+Object.keys(l).map(function(d){return l[d].toString()}).filter(function(d,g,y){return y.indexOf(d)===g}).join(`
`)}function Le(a,l,d,g){this.failures=l,this.failedKeys=g,this.successCount=d,this.message=$e(a,l)}function Oe(a,l){this.name="BulkError",this.failures=Object.keys(l).map(function(d){return l[d]}),this.failuresByPos=l,this.message=$e(a,this.failures)}k(Ue).from(Error).extend({toString:function(){return this.name+": "+this.message}}),k(Le).from(Ue),k(Oe).from(Ue);var ee=_n.reduce(function(a,l){return a[l]=l+"Error",a},{}),ye=Ue,J=_n.reduce(function(a,l){var d=l+"Error";function g(y,b){this.name=d,y?typeof y=="string"?(this.message="".concat(y).concat(b?`
 `+b:""),this.inner=b||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=Ve[l]||d,this.inner=null)}return k(g).from(ye),a[l]=g,a},{});J.Syntax=SyntaxError,J.Type=TypeError,J.Range=RangeError;var we=Ne.reduce(function(a,l){return a[l+"Error"]=J[l],a},{}),Ze=_n.reduce(function(a,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(a[l+"Error"]=J[l]),a},{});function S(){}function T(a){return a}function _(a,l){return a==null||a===T?l:function(d){return l(a(d))}}function w(a,l){return function(){a.apply(this,arguments),l.apply(this,arguments)}}function C(a,l){return a===S?l:function(){var d=a.apply(this,arguments);d!==void 0&&(arguments[0]=d);var g=this.onsuccess,y=this.onerror;this.onsuccess=null,this.onerror=null;var b=l.apply(this,arguments);return g&&(this.onsuccess=this.onsuccess?w(g,this.onsuccess):g),y&&(this.onerror=this.onerror?w(y,this.onerror):y),b!==void 0?b:d}}function x(a,l){return a===S?l:function(){a.apply(this,arguments);var d=this.onsuccess,g=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?w(d,this.onsuccess):d),g&&(this.onerror=this.onerror?w(g,this.onerror):g)}}function V(a,l){return a===S?l:function(d){var g=a.apply(this,arguments);c(d,g);var y=this.onsuccess,b=this.onerror;return this.onsuccess=null,this.onerror=null,d=l.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?w(y,this.onsuccess):y),b&&(this.onerror=this.onerror?w(b,this.onerror):b),g===void 0?d===void 0?void 0:d:c(g,d)}}function ne(a,l){return a===S?l:function(){return l.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function te(a,l){return a===S?l:function(){var d=a.apply(this,arguments);if(d&&typeof d.then=="function"){for(var g=this,y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];return d.then(function(){return l.apply(g,b)})}return l.apply(this,arguments)}}Ze.ModifyError=Le,Ze.DexieError=Ue,Ze.BulkError=Oe;var X=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ge(a){X=a}var de={},Se=100,qe=typeof Promise>"u"?[]:(function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,f(a),a];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,f(l),a]})(),Ne=qe[0],_n=qe[1],qe=qe[2],_n=_n&&_n.then,nt=Ne&&Ne.constructor,ut=!!qe,Pt=function(a,l){pr.push([a,l]),an&&(queueMicrotask(Xm),an=!1)},Ht=!0,an=!0,Zt=[],On=[],uo=T,Tt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:S,pgp:!1,env:{},finalize:S},He=Tt,pr=[],An=0,Gi=[];function ze(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=He;if(typeof a!="function"){if(a!==de)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ou(this,this._value))}this._state=null,this._value=null,++l.ref,(function d(g,y){try{y(function(b){if(g._state===null){if(b===g)throw new TypeError("A promise cannot be resolved with itself.");var I=g._lib&&lo();b&&typeof b.then=="function"?d(g,function(O,z){b instanceof ze?b._then(O,z):b.then(O,z)}):(g._state=!0,g._value=b,Rc(g)),I&&co()}},ou.bind(null,g))}catch(b){ou(g,b)}})(this,a)}var ru={get:function(){var a=He,l=Ji;function d(g,y){var b=this,I=!a.global&&(a!==He||l!==Ji),O=I&&!mr(),z=new ze(function(F,Z){iu(b,new Dc(Bc(g,a,I,O),Bc(y,a,I,O),F,Z,a))});return this._consoleTask&&(z._consoleTask=this._consoleTask),z}return d.prototype=de,d},set:function(a){E(this,"then",a&&a.prototype===de?ru:{get:function(){return a},set:ru.set})}};function Dc(a,l,d,g,y){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof l=="function"?l:null,this.resolve=d,this.reject=g,this.psd=y}function ou(a,l){var d,g;On.push(l),a._state===null&&(d=a._lib&&lo(),l=uo(l),a._state=!1,a._value=l,g=a,Zt.some(function(y){return y._value===g._value})||Zt.push(g),Rc(a),d&&co())}function Rc(a){var l=a._listeners;a._listeners=[];for(var d=0,g=l.length;d<g;++d)iu(a,l[d]);var y=a._PSD;--y.ref||y.finalize(),An===0&&(++An,Pt(function(){--An==0&&su()},[]))}function iu(a,l){if(a._state!==null){var d=a._state?l.onFulfilled:l.onRejected;if(d===null)return(a._state?l.resolve:l.reject)(a._value);++l.psd.ref,++An,Pt(Ym,[d,a,l])}else a._listeners.push(l)}function Ym(a,l,d){try{var g,y=l._value;!l._state&&On.length&&(On=[]),g=X&&l._consoleTask?l._consoleTask.run(function(){return a(y)}):a(y),l._state||On.indexOf(y)!==-1||(function(b){for(var I=Zt.length;I;)if(Zt[--I]._value===b._value)return Zt.splice(I,1)})(l),d.resolve(g)}catch(b){d.reject(b)}finally{--An==0&&su(),--d.psd.ref||d.psd.finalize()}}function Xm(){Rr(Tt,function(){lo()&&co()})}function lo(){var a=Ht;return an=Ht=!1,a}function co(){var a,l,d;do for(;0<pr.length;)for(a=pr,pr=[],d=a.length,l=0;l<d;++l){var g=a[l];g[0].apply(null,g[1])}while(0<pr.length);an=Ht=!0}function su(){var a=Zt;Zt=[],a.forEach(function(g){g._PSD.onunhandled.call(null,g._value,g)});for(var l=Gi.slice(0),d=l.length;d;)l[--d]()}function Wi(a){return new ze(de,!1,a)}function kt(a,l){var d=He;return function(){var g=lo(),y=He;try{return vr(d,!0),a.apply(this,arguments)}catch(b){l&&l(b)}finally{vr(y,!1),g&&co()}}}v(ze.prototype,{then:ru,_then:function(a,l){iu(this,new Dc(null,null,a,l,He))},catch:function(a){if(arguments.length===1)return this.then(null,a);var l=a,d=arguments[1];return typeof l=="function"?this.then(null,function(g){return(g instanceof l?d:Wi)(g)}):this.then(null,function(g){return(g&&g.name===l?d:Wi)(g)})},finally:function(a){return this.then(function(l){return ze.resolve(a()).then(function(){return l})},function(l){return ze.resolve(a()).then(function(){return Wi(l)})})},timeout:function(a,l){var d=this;return a<1/0?new ze(function(g,y){var b=setTimeout(function(){return y(new J.Timeout(l))},a);d.then(g,y).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&E(ze.prototype,Symbol.toStringTag,"Dexie.Promise"),Tt.env=zc(),v(ze,{all:function(){var a=xe.apply(null,arguments).map(Qi);return new ze(function(l,d){a.length===0&&l([]);var g=a.length;a.forEach(function(y,b){return ze.resolve(y).then(function(I){a[b]=I,--g||l(a)},d)})})},resolve:function(a){return a instanceof ze?a:a&&typeof a.then=="function"?new ze(function(l,d){a.then(l,d)}):new ze(de,!0,a)},reject:Wi,race:function(){var a=xe.apply(null,arguments).map(Qi);return new ze(function(l,d){a.map(function(g){return ze.resolve(g).then(l,d)})})},PSD:{get:function(){return He},set:function(a){return He=a}},totalEchoes:{get:function(){return Ji}},newPSD:gr,usePSD:Rr,scheduler:{get:function(){return Pt},set:function(a){Pt=a}},rejectionMapper:{get:function(){return uo},set:function(a){uo=a}},follow:function(a,l){return new ze(function(d,g){return gr(function(y,b){var I=He;I.unhandleds=[],I.onunhandled=b,I.finalize=w(function(){var O,z=this;O=function(){z.unhandleds.length===0?y():b(z.unhandleds[0])},Gi.push(function F(){O(),Gi.splice(Gi.indexOf(F),1)}),++An,Pt(function(){--An==0&&su()},[])},I.finalize),a()},l,d,g)})}}),nt&&(nt.allSettled&&E(ze,"allSettled",function(){var a=xe.apply(null,arguments).map(Qi);return new ze(function(l){a.length===0&&l([]);var d=a.length,g=new Array(d);a.forEach(function(y,b){return ze.resolve(y).then(function(I){return g[b]={status:"fulfilled",value:I}},function(I){return g[b]={status:"rejected",reason:I}}).then(function(){return--d||l(g)})})})}),nt.any&&typeof AggregateError<"u"&&E(ze,"any",function(){var a=xe.apply(null,arguments).map(Qi);return new ze(function(l,d){a.length===0&&d(new AggregateError([]));var g=a.length,y=new Array(g);a.forEach(function(b,I){return ze.resolve(b).then(function(O){return l(O)},function(O){y[I]=O,--g||d(new AggregateError(y))})})})}),nt.withResolvers&&(ze.withResolvers=nt.withResolvers));var Ut={awaits:0,echoes:0,id:0},Jm=0,Yi=[],Xi=0,Ji=0,Qm=0;function gr(a,l,d,g){var y=He,b=Object.create(y);return b.parent=y,b.ref=0,b.global=!1,b.id=++Qm,Tt.env,b.env=ut?{Promise:ze,PromiseProp:{value:ze,configurable:!0,writable:!0},all:ze.all,race:ze.race,allSettled:ze.allSettled,any:ze.any,resolve:ze.resolve,reject:ze.reject}:{},l&&c(b,l),++y.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},g=Rr(b,a,d,g),b.ref===0&&b.finalize(),g}function fo(){return Ut.id||(Ut.id=++Jm),++Ut.awaits,Ut.echoes+=Se,Ut.id}function mr(){return!!Ut.awaits&&(--Ut.awaits==0&&(Ut.id=0),Ut.echoes=Ut.awaits*Se,!0)}function Qi(a){return Ut.echoes&&a&&a.constructor===nt?(fo(),a.then(function(l){return mr(),l},function(l){return mr(),Mt(l)})):a}function ev(){var a=Yi[Yi.length-1];Yi.pop(),vr(a,!1)}function vr(a,l){var d,g=He;(l?!Ut.echoes||Xi++&&a===He:!Xi||--Xi&&a===He)||queueMicrotask(l?(function(y){++Ji,Ut.echoes&&--Ut.echoes!=0||(Ut.echoes=Ut.awaits=Ut.id=0),Yi.push(He),vr(y,!0)}).bind(null,a):ev),a!==He&&(He=a,g===Tt&&(Tt.env=zc()),ut&&(d=Tt.env.Promise,l=a.env,(g.global||a.global)&&(Object.defineProperty(i,"Promise",l.PromiseProp),d.all=l.all,d.race=l.race,d.resolve=l.resolve,d.reject=l.reject,l.allSettled&&(d.allSettled=l.allSettled),l.any&&(d.any=l.any))))}function zc(){var a=i.Promise;return ut?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function Rr(a,l,d,g,y){var b=He;try{return vr(a,!0),l(d,g,y)}finally{vr(b,!1)}}function Bc(a,l,d,g){return typeof a!="function"?a:function(){var y=He;d&&fo(),vr(l,!0);try{return a.apply(this,arguments)}finally{vr(y,!1),g&&queueMicrotask(mr)}}}function au(a){Promise===nt&&Ut.echoes===0?Xi===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+_n).indexOf("[native code]")===-1&&(fo=mr=S);var Mt=ze.reject,zr="￿",Wn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Fc="String expected.",ho=[],es="__dbnames",uu="readonly",lu="readwrite";function Br(a,l){return a?l?function(){return a.apply(this,arguments)&&l.apply(this,arguments)}:a:l}var jc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ts(a){return typeof a!="string"||/\./.test(a)?function(l){return l}:function(l){return l[a]===void 0&&a in l&&delete(l=Ie(l))[a],l}}function Vc(){throw J.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function lt(a,l){try{var d=Lc(a),g=Lc(l);if(d!==g)return d==="Array"?1:g==="Array"?-1:d==="binary"?1:g==="binary"?-1:d==="string"?1:g==="string"?-1:d==="Date"?1:g!=="Date"?NaN:-1;switch(d){case"number":case"Date":case"string":return l<a?1:a<l?-1:0;case"binary":return(function(y,b){for(var I=y.length,O=b.length,z=I<O?I:O,F=0;F<z;++F)if(y[F]!==b[F])return y[F]<b[F]?-1:1;return I===O?0:I<O?-1:1})(Hc(a),Hc(l));case"Array":return(function(y,b){for(var I=y.length,O=b.length,z=I<O?I:O,F=0;F<z;++F){var Z=lt(y[F],b[F]);if(Z!==0)return Z}return I===O?0:I<O?-1:1})(a,l)}}catch{}return NaN}function Lc(a){var l=typeof a;return l!="object"?l:ArrayBuffer.isView(a)?"binary":(a=he(a),a==="ArrayBuffer"?"binary":a)}function Hc(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}function ns(a,l,d){var g=a.schema.yProps;return g?(l&&0<d.numFailures&&(l=l.filter(function(y,b){return!d.failures[b]})),Promise.all(g.map(function(y){return y=y.updatesTable,l?a.db.table(y).where("k").anyOf(l).delete():a.db.table(y).clear()})).then(function(){return d})):d}var Zc=(xt.prototype._trans=function(a,l,d){var g=this._tx||He.trans,y=this.name,b=X&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function I(F,Z,D){if(!D.schema[y])throw new J.NotFound("Table "+y+" not part of transaction");return l(D.idbtrans,D)}var O=lo();try{var z=g&&g.db._novip===this.db._novip?g===He.trans?g._promise(a,I,d):gr(function(){return g._promise(a,I,d)},{trans:g,transless:He.transless||He}):(function F(Z,D,G,B){if(Z.idbdb&&(Z._state.openComplete||He.letThrough||Z._vip)){var L=Z._createTransaction(D,G,Z._dbSchema);try{L.create(),Z._state.PR1398_maxLoop=3}catch(K){return K.name===ee.InvalidState&&Z.isOpen()&&0<--Z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Z.close({disableAutoOpen:!1}),Z.open().then(function(){return F(Z,D,G,B)})):Mt(K)}return L._promise(D,function(K,U){return gr(function(){return He.trans=L,B(K,U,L)})}).then(function(K){if(D==="readwrite")try{L.idbtrans.commit()}catch{}return D==="readonly"?K:L._completion.then(function(){return K})})}if(Z._state.openComplete)return Mt(new J.DatabaseClosed(Z._state.dbOpenError));if(!Z._state.isBeingOpened){if(!Z._state.autoOpen)return Mt(new J.DatabaseClosed);Z.open().catch(S)}return Z._state.dbReadyPromise.then(function(){return F(Z,D,G,B)})})(this.db,a,[this.name],I);return b&&(z._consoleTask=b,z=z.catch(function(F){return console.trace(F),Mt(F)})),z}finally{O&&co()}},xt.prototype.get=function(a,l){var d=this;return a&&a.constructor===Object?this.where(a).first(l):a==null?Mt(new J.Type("Invalid argument to Table.get()")):this._trans("readonly",function(g){return d.core.get({trans:g,key:a}).then(function(y){return d.hook.reading.fire(y)})}).then(l)},xt.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(u(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var l=s(a);if(l.length===1)return this.where(l[0]).equals(a[l[0]]);var d=this.schema.indexes.concat(this.schema.primKey).filter(function(O){if(O.compound&&l.every(function(F){return 0<=O.keyPath.indexOf(F)})){for(var z=0;z<l.length;++z)if(l.indexOf(O.keyPath[z])===-1)return!1;return!0}return!1}).sort(function(O,z){return O.keyPath.length-z.keyPath.length})[0];if(d&&this.db._maxKey!==zr){var b=d.keyPath.slice(0,l.length);return this.where(b).equals(b.map(function(z){return a[z]}))}!d&&X&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var g=this.schema.idxByName;function y(O,z){return lt(O,z)===0}var I=l.reduce(function(D,z){var F=D[0],Z=D[1],D=g[z],G=a[z];return[F||D,F||!D?Br(Z,D&&D.multi?function(B){return B=ce(B,z),u(B)&&B.some(function(L){return y(G,L)})}:function(B){return y(G,ce(B,z))}):Z]},[null,null]),b=I[0],I=I[1];return b?this.where(b.name).equals(a[b.keyPath]).filter(I):d?this.filter(I):this.where(l).equals("")},xt.prototype.filter=function(a){return this.toCollection().and(a)},xt.prototype.count=function(a){return this.toCollection().count(a)},xt.prototype.offset=function(a){return this.toCollection().offset(a)},xt.prototype.limit=function(a){return this.toCollection().limit(a)},xt.prototype.each=function(a){return this.toCollection().each(a)},xt.prototype.toArray=function(a){return this.toCollection().toArray(a)},xt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},xt.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,u(a)?"[".concat(a.join("+"),"]"):a))},xt.prototype.reverse=function(){return this.toCollection().reverse()},xt.prototype.mapToClass=function(a){var l,d=this.db,g=this.name;function y(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof Vc&&((function(z,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function Z(){this.constructor=z}n(z,F),z.prototype=F===null?Object.create(F):(Z.prototype=F.prototype,new Z)})(y,l=a),Object.defineProperty(y.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),y.prototype.table=function(){return g},a=y);for(var b=new Set,I=a.prototype;I;I=f(I))Object.getOwnPropertyNames(I).forEach(function(z){return b.add(z)});function O(z){if(!z)return z;var F,Z=Object.create(a.prototype);for(F in z)if(!b.has(F))try{Z[F]=z[F]}catch{}return Z}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=O,this.hook("reading",O),a},xt.prototype.defineClass=function(){return this.mapToClass(function(a){c(this,a)})},xt.prototype.add=function(a,l){var d=this,g=this.schema.primKey,y=g.auto,b=g.keyPath,I=a;return b&&y&&(I=ts(b)(a)),this._trans("readwrite",function(O){return d.core.mutate({trans:O,type:"add",keys:l!=null?[l]:null,values:[I]})}).then(function(O){return O.numFailures?ze.reject(O.failures[0]):O.lastResult}).then(function(O){if(b)try{q(a,b,O)}catch{}return O})},xt.prototype.update=function(a,l){return typeof a!="object"||u(a)?this.where(":id").equals(a).modify(l):(a=ce(a,this.schema.primKey.keyPath),a===void 0?Mt(new J.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(l))},xt.prototype.put=function(a,l){var d=this,g=this.schema.primKey,y=g.auto,b=g.keyPath,I=a;return b&&y&&(I=ts(b)(a)),this._trans("readwrite",function(O){return d.core.mutate({trans:O,type:"put",values:[I],keys:l!=null?[l]:null})}).then(function(O){return O.numFailures?ze.reject(O.failures[0]):O.lastResult}).then(function(O){if(b)try{q(a,b,O)}catch{}return O})},xt.prototype.delete=function(a){var l=this;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:[a]}).then(function(g){return ns(l,[a],g)}).then(function(g){return g.numFailures?ze.reject(g.failures[0]):void 0})})},xt.prototype.clear=function(){var a=this;return this._trans("readwrite",function(l){return a.core.mutate({trans:l,type:"deleteRange",range:jc}).then(function(d){return ns(a,null,d)})}).then(function(l){return l.numFailures?ze.reject(l.failures[0]):void 0})},xt.prototype.bulkGet=function(a){var l=this;return this._trans("readonly",function(d){return l.core.getMany({keys:a,trans:d}).then(function(g){return g.map(function(y){return l.hook.reading.fire(y)})})})},xt.prototype.bulkAdd=function(a,l,d){var g=this,y=Array.isArray(l)?l:void 0,b=(d=d||(y?void 0:l))?d.allKeys:void 0;return this._trans("readwrite",function(I){var F=g.schema.primKey,O=F.auto,F=F.keyPath;if(F&&y)throw new J.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==a.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");var z=a.length,F=F&&O?a.map(ts(F)):a;return g.core.mutate({trans:I,type:"add",keys:y,values:F,wantResults:b}).then(function(L){var D=L.numFailures,G=L.results,B=L.lastResult,L=L.failures;if(D===0)return b?G:B;throw new Oe("".concat(g.name,".bulkAdd(): ").concat(D," of ").concat(z," operations failed"),L)})})},xt.prototype.bulkPut=function(a,l,d){var g=this,y=Array.isArray(l)?l:void 0,b=(d=d||(y?void 0:l))?d.allKeys:void 0;return this._trans("readwrite",function(I){var F=g.schema.primKey,O=F.auto,F=F.keyPath;if(F&&y)throw new J.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==a.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");var z=a.length,F=F&&O?a.map(ts(F)):a;return g.core.mutate({trans:I,type:"put",keys:y,values:F,wantResults:b}).then(function(L){var D=L.numFailures,G=L.results,B=L.lastResult,L=L.failures;if(D===0)return b?G:B;throw new Oe("".concat(g.name,".bulkPut(): ").concat(D," of ").concat(z," operations failed"),L)})})},xt.prototype.bulkUpdate=function(a){var l=this,d=this.core,g=a.map(function(I){return I.key}),y=a.map(function(I){return I.changes}),b=[];return this._trans("readwrite",function(I){return d.getMany({trans:I,keys:g,cache:"clone"}).then(function(O){var z=[],F=[];a.forEach(function(D,G){var B=D.key,L=D.changes,K=O[G];if(K){for(var U=0,Y=Object.keys(L);U<Y.length;U++){var oe=Y[U],ue=L[oe];if(oe===l.schema.primKey.keyPath){if(lt(ue,B)!==0)throw new J.Constraint("Cannot update primary key in bulkUpdate()")}else q(K,oe,ue)}b.push(G),z.push(B),F.push(K)}});var Z=z.length;return d.mutate({trans:I,type:"put",keys:z,values:F,updates:{keys:g,changeSpecs:y}}).then(function(D){var G=D.numFailures,B=D.failures;if(G===0)return Z;for(var L=0,K=Object.keys(B);L<K.length;L++){var U,Y=K[L],oe=b[Number(Y)];oe!=null&&(U=B[Y],delete B[Y],B[oe]=U)}throw new Oe("".concat(l.name,".bulkUpdate(): ").concat(G," of ").concat(Z," operations failed"),B)})})})},xt.prototype.bulkDelete=function(a){var l=this,d=a.length;return this._trans("readwrite",function(g){return l.core.mutate({trans:g,type:"delete",keys:a}).then(function(y){return ns(l,a,y)})}).then(function(I){var y=I.numFailures,b=I.lastResult,I=I.failures;if(y===0)return b;throw new Oe("".concat(l.name,".bulkDelete(): ").concat(y," of ").concat(d," operations failed"),I)})},xt);function xt(){}function Ko(a){function l(I,O){if(O){for(var z=arguments.length,F=new Array(z-1);--z;)F[z-1]=arguments[z];return d[I].subscribe.apply(null,F),a}if(typeof I=="string")return d[I]}var d={};l.addEventType=b;for(var g=1,y=arguments.length;g<y;++g)b(arguments[g]);return l;function b(I,O,z){if(typeof I!="object"){var F;O=O||ne;var Z={subscribers:[],fire:z=z||S,subscribe:function(D){Z.subscribers.indexOf(D)===-1&&(Z.subscribers.push(D),Z.fire=O(Z.fire,D))},unsubscribe:function(D){Z.subscribers=Z.subscribers.filter(function(G){return G!==D}),Z.fire=Z.subscribers.reduce(O,z)}};return d[I]=l[I]=Z}s(F=I).forEach(function(D){var G=F[D];if(u(G))b(D,F[D][0],F[D][1]);else{if(G!=="asap")throw new J.InvalidArgument("Invalid event config");var B=b(D,T,function(){for(var L=arguments.length,K=new Array(L);L--;)K[L]=arguments[L];B.subscribers.forEach(function(U){re(function(){U.apply(null,K)})})})}})}}function qo(a,l){return k(l).from({prototype:a}),l}function po(a,l){return!(a.filter||a.algorithm||a.or)&&(l?a.justLimit:!a.replayFilter)}function cu(a,l){a.filter=Br(a.filter,l)}function fu(a,l,d){var g=a.replayFilter;a.replayFilter=g?function(){return Br(g(),l())}:l,a.justLimit=d&&!g}function rs(a,l){if(a.isPrimKey)return l.primaryKey;var d=l.getIndexByKeyPath(a.index);if(!d)throw new J.Schema("KeyPath "+a.index+" on object store "+l.name+" is not indexed");return d}function Uc(a,l,d){var g=rs(a,l.schema);return l.openCursor({trans:d,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:g,range:a.range}})}function os(a,l,d,g){var y=a.replayFilter?Br(a.filter,a.replayFilter()):a.filter;if(a.or){var b={},I=function(O,z,F){var Z,D;y&&!y(z,F,function(G){return z.stop(G)},function(G){return z.fail(G)})||((D=""+(Z=z.primaryKey))=="[object ArrayBuffer]"&&(D=""+new Uint8Array(Z)),p(b,D)||(b[D]=!0,l(O,z,F)))};return Promise.all([a.or._iterate(I,d),Kc(Uc(a,g,d),a.algorithm,I,!a.keysOnly&&a.valueMapper)])}return Kc(Uc(a,g,d),Br(a.algorithm,y),l,!a.keysOnly&&a.valueMapper)}function Kc(a,l,d,g){var y=kt(g?function(b,I,O){return d(g(b),I,O)}:d);return a.then(function(b){if(b)return b.start(function(){var I=function(){return b.continue()};l&&!l(b,function(O){return I=O},function(O){b.stop(O),I=S},function(O){b.fail(O),I=S})||y(b.value,b,function(O){return I=O}),I()})})}var Go=(qc.prototype.execute=function(a){var l=this["@@propmod"];if(l.add!==void 0){var d=l.add;if(u(d))return o(o([],u(a)?a:[],!0),d).sort();if(typeof d=="number")return(Number(a)||0)+d;if(typeof d=="bigint")try{return BigInt(a)+d}catch{return BigInt(0)+d}throw new TypeError("Invalid term ".concat(d))}if(l.remove!==void 0){var g=l.remove;if(u(g))return u(a)?a.filter(function(y){return!g.includes(y)}).sort():[];if(typeof g=="number")return Number(a)-g;if(typeof g=="bigint")try{return BigInt(a)-g}catch{return BigInt(0)-g}throw new TypeError("Invalid subtrahend ".concat(g))}return d=(d=l.replacePrefix)===null||d===void 0?void 0:d[0],d&&typeof a=="string"&&a.startsWith(d)?l.replacePrefix[1]+a.substring(d.length):a},qc);function qc(a){this["@@propmod"]=a}var tv=(dt.prototype._read=function(a,l){var d=this._ctx;return d.error?d.table._trans(null,Mt.bind(null,d.error)):d.table._trans("readonly",a).then(l)},dt.prototype._write=function(a){var l=this._ctx;return l.error?l.table._trans(null,Mt.bind(null,l.error)):l.table._trans("readwrite",a,"locked")},dt.prototype._addAlgorithm=function(a){var l=this._ctx;l.algorithm=Br(l.algorithm,a)},dt.prototype._iterate=function(a,l){return os(this._ctx,a,l,this._ctx.table.core)},dt.prototype.clone=function(a){var l=Object.create(this.constructor.prototype),d=Object.create(this._ctx);return a&&c(d,a),l._ctx=d,l},dt.prototype.raw=function(){return this._ctx.valueMapper=null,this},dt.prototype.each=function(a){var l=this._ctx;return this._read(function(d){return os(l,a,d,l.table.core)})},dt.prototype.count=function(a){var l=this;return this._read(function(d){var g=l._ctx,y=g.table.core;if(po(g,!0))return y.count({trans:d,query:{index:rs(g,y.schema),range:g.range}}).then(function(I){return Math.min(I,g.limit)});var b=0;return os(g,function(){return++b,!1},d,y).then(function(){return b})}).then(a)},dt.prototype.sortBy=function(a,l){var d=a.split(".").reverse(),g=d[0],y=d.length-1;function b(z,F){return F?b(z[d[F]],F-1):z[g]}var I=this._ctx.dir==="next"?1:-1;function O(z,F){return lt(b(z,y),b(F,y))*I}return this.toArray(function(z){return z.sort(O)}).then(l)},dt.prototype.toArray=function(a){var l=this;return this._read(function(d){var g=l._ctx;if(g.dir==="next"&&po(g,!0)&&0<g.limit){var y=g.valueMapper,b=rs(g,g.table.core.schema);return g.table.core.query({trans:d,limit:g.limit,values:!0,query:{index:b,range:g.range}}).then(function(O){return O=O.result,y?O.map(y):O})}var I=[];return os(g,function(O){return I.push(O)},d,g.table.core).then(function(){return I})},a)},dt.prototype.offset=function(a){var l=this._ctx;return a<=0||(l.offset+=a,po(l)?fu(l,function(){var d=a;return function(g,y){return d===0||(d===1?--d:y(function(){g.advance(d),d=0}),!1)}}):fu(l,function(){var d=a;return function(){return--d<0}})),this},dt.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),fu(this._ctx,function(){var l=a;return function(d,g,y){return--l<=0&&g(y),0<=l}},!0),this},dt.prototype.until=function(a,l){return cu(this._ctx,function(d,g,y){return!a(d.value)||(g(y),l)}),this},dt.prototype.first=function(a){return this.limit(1).toArray(function(l){return l[0]}).then(a)},dt.prototype.last=function(a){return this.reverse().first(a)},dt.prototype.filter=function(a){var l;return cu(this._ctx,function(d){return a(d.value)}),(l=this._ctx).isMatch=Br(l.isMatch,a),this},dt.prototype.and=function(a){return this.filter(a)},dt.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},dt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},dt.prototype.desc=function(){return this.reverse()},dt.prototype.eachKey=function(a){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(d,g){a(g.key,g)})},dt.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},dt.prototype.eachPrimaryKey=function(a){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(d,g){a(g.primaryKey,g)})},dt.prototype.keys=function(a){var l=this._ctx;l.keysOnly=!l.isMatch;var d=[];return this.each(function(g,y){d.push(y.key)}).then(function(){return d}).then(a)},dt.prototype.primaryKeys=function(a){var l=this._ctx;if(l.dir==="next"&&po(l,!0)&&0<l.limit)return this._read(function(g){var y=rs(l,l.table.core.schema);return l.table.core.query({trans:g,values:!1,limit:l.limit,query:{index:y,range:l.range}})}).then(function(g){return g.result}).then(a);l.keysOnly=!l.isMatch;var d=[];return this.each(function(g,y){d.push(y.primaryKey)}).then(function(){return d}).then(a)},dt.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},dt.prototype.firstKey=function(a){return this.limit(1).keys(function(l){return l[0]}).then(a)},dt.prototype.lastKey=function(a){return this.reverse().firstKey(a)},dt.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var l={};return cu(this._ctx,function(y){var g=y.primaryKey.toString(),y=p(l,g);return l[g]=!0,!y}),this},dt.prototype.modify=function(a){var l=this,d=this._ctx;return this._write(function(g){var y,b,I;I=typeof a=="function"?a:(y=s(a),b=y.length,function(Y){for(var oe=!1,ue=0;ue<b;++ue){var le=y[ue],be=a[le],Te=ce(Y,le);be instanceof Go?(q(Y,le,be.execute(Te)),oe=!0):Te!==be&&(q(Y,le,be),oe=!0)}return oe});var O=d.table.core,D=O.schema.primaryKey,z=D.outbound,F=D.extractKey,Z=200,D=l.db._options.modifyChunkSize;D&&(Z=typeof D=="object"?D[O.name]||D["*"]||200:D);function G(Y,le){var ue=le.failures,le=le.numFailures;L+=Y-le;for(var be=0,Te=s(ue);be<Te.length;be++){var Ee=Te[be];B.push(ue[Ee])}}var B=[],L=0,K=[],U=a===Gc;return l.clone().primaryKeys().then(function(Y){function oe(le){var be=Math.min(Z,Y.length-le),Te=Y.slice(le,le+be);return(U?Promise.resolve([]):O.getMany({trans:g,keys:Te,cache:"immutable"})).then(function(Ee){var Ce=[],Re=[],Me=z?[]:null,Be=U?Te:[];if(!U)for(var Qe=0;Qe<be;++Qe){var ct=Ee[Qe],Je={value:Ie(ct),primKey:Y[le+Qe]};I.call(Je,Je.value,Je)!==!1&&(Je.value==null?Be.push(Y[le+Qe]):z||lt(F(ct),F(Je.value))===0?(Re.push(Je.value),z&&Me.push(Y[le+Qe])):(Be.push(Y[le+Qe]),Ce.push(Je.value)))}return Promise.resolve(0<Ce.length&&O.mutate({trans:g,type:"add",values:Ce}).then(function(Nt){for(var Ye in Nt.failures)Be.splice(parseInt(Ye),1);G(Ce.length,Nt)})).then(function(){return(0<Re.length||ue&&typeof a=="object")&&O.mutate({trans:g,type:"put",keys:Me,values:Re,criteria:ue,changeSpec:typeof a!="function"&&a,isAdditionalChunk:0<le}).then(function(Nt){return G(Re.length,Nt)})}).then(function(){return(0<Be.length||ue&&U)&&O.mutate({trans:g,type:"delete",keys:Be,criteria:ue,isAdditionalChunk:0<le}).then(function(Nt){return ns(d.table,Be,Nt)}).then(function(Nt){return G(Be.length,Nt)})}).then(function(){return Y.length>le+be&&oe(le+Z)})})}var ue=po(d)&&d.limit===1/0&&(typeof a!="function"||U)&&{index:d.index,range:d.range};return oe(0).then(function(){if(0<B.length)throw new Le("Error modifying one or more objects",B,L,K);return Y.length})})})},dt.prototype.delete=function(){var a=this._ctx,l=a.range;return!po(a)||a.table.schema.yProps||!a.isPrimKey&&l.type!==3?this.modify(Gc):this._write(function(d){var g=a.table.core.schema.primaryKey,y=l;return a.table.core.count({trans:d,query:{index:g,range:y}}).then(function(b){return a.table.core.mutate({trans:d,type:"deleteRange",range:y}).then(function(z){var O=z.failures,z=z.numFailures;if(z)throw new Le("Could not delete some values",Object.keys(O).map(function(F){return O[F]}),b-z);return b-z})})})},dt);function dt(){}var Gc=function(a,l){return l.value=null};function nv(a,l){return a<l?-1:a===l?0:1}function rv(a,l){return l<a?-1:a===l?0:1}function mn(a,l,d){return a=a instanceof Yc?new a.Collection(a):a,a._ctx.error=new(d||TypeError)(l),a}function go(a){return new a.Collection(a,function(){return Wc("")}).limit(0)}function is(a,l,d,g){var y,b,I,O,z,F,Z,D=d.length;if(!d.every(function(L){return typeof L=="string"}))return mn(a,Fc);function G(L){y=L==="next"?function(U){return U.toUpperCase()}:function(U){return U.toLowerCase()},b=L==="next"?function(U){return U.toLowerCase()}:function(U){return U.toUpperCase()},I=L==="next"?nv:rv;var K=d.map(function(U){return{lower:b(U),upper:y(U)}}).sort(function(U,Y){return I(U.lower,Y.lower)});O=K.map(function(U){return U.upper}),z=K.map(function(U){return U.lower}),Z=(F=L)==="next"?"":g}G("next"),a=new a.Collection(a,function(){return yr(O[0],z[D-1]+g)}),a._ondirectionchange=function(L){G(L)};var B=0;return a._addAlgorithm(function(L,K,U){var Y=L.key;if(typeof Y!="string")return!1;var oe=b(Y);if(l(oe,z,B))return!0;for(var ue=null,le=B;le<D;++le){var be=(function(Te,Ee,Ce,Re,Me,Be){for(var Qe=Math.min(Te.length,Re.length),ct=-1,Je=0;Je<Qe;++Je){var Nt=Ee[Je];if(Nt!==Re[Je])return Me(Te[Je],Ce[Je])<0?Te.substr(0,Je)+Ce[Je]+Ce.substr(Je+1):Me(Te[Je],Re[Je])<0?Te.substr(0,Je)+Re[Je]+Ce.substr(Je+1):0<=ct?Te.substr(0,ct)+Ee[ct]+Ce.substr(ct+1):null;Me(Te[Je],Nt)<0&&(ct=Je)}return Qe<Re.length&&Be==="next"?Te+Ce.substr(Te.length):Qe<Te.length&&Be==="prev"?Te.substr(0,Ce.length):ct<0?null:Te.substr(0,ct)+Re[ct]+Ce.substr(ct+1)})(Y,oe,O[le],z[le],I,F);be===null&&ue===null?B=le+1:(ue===null||0<I(ue,be))&&(ue=be)}return K(ue!==null?function(){L.continue(ue+Z)}:U),!1}),a}function yr(a,l,d,g){return{type:2,lower:a,upper:l,lowerOpen:d,upperOpen:g}}function Wc(a){return{type:1,lower:a,upper:a}}var Yc=(Object.defineProperty(Kt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Kt.prototype.between=function(a,l,d,g){d=d!==!1,g=g===!0;try{return 0<this._cmp(a,l)||this._cmp(a,l)===0&&(d||g)&&(!d||!g)?go(this):new this.Collection(this,function(){return yr(a,l,!d,!g)})}catch{return mn(this,Wn)}},Kt.prototype.equals=function(a){return a==null?mn(this,Wn):new this.Collection(this,function(){return Wc(a)})},Kt.prototype.above=function(a){return a==null?mn(this,Wn):new this.Collection(this,function(){return yr(a,void 0,!0)})},Kt.prototype.aboveOrEqual=function(a){return a==null?mn(this,Wn):new this.Collection(this,function(){return yr(a,void 0,!1)})},Kt.prototype.below=function(a){return a==null?mn(this,Wn):new this.Collection(this,function(){return yr(void 0,a,!1,!0)})},Kt.prototype.belowOrEqual=function(a){return a==null?mn(this,Wn):new this.Collection(this,function(){return yr(void 0,a)})},Kt.prototype.startsWith=function(a){return typeof a!="string"?mn(this,Fc):this.between(a,a+zr,!0,!0)},Kt.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):is(this,function(l,d){return l.indexOf(d[0])===0},[a],zr)},Kt.prototype.equalsIgnoreCase=function(a){return is(this,function(l,d){return l===d[0]},[a],"")},Kt.prototype.anyOfIgnoreCase=function(){var a=xe.apply(ke,arguments);return a.length===0?go(this):is(this,function(l,d){return d.indexOf(l)!==-1},a,"")},Kt.prototype.startsWithAnyOfIgnoreCase=function(){var a=xe.apply(ke,arguments);return a.length===0?go(this):is(this,function(l,d){return d.some(function(g){return l.indexOf(g)===0})},a,zr)},Kt.prototype.anyOf=function(){var a=this,l=xe.apply(ke,arguments),d=this._cmp;try{l.sort(d)}catch{return mn(this,Wn)}if(l.length===0)return go(this);var g=new this.Collection(this,function(){return yr(l[0],l[l.length-1])});g._ondirectionchange=function(b){d=b==="next"?a._ascending:a._descending,l.sort(d)};var y=0;return g._addAlgorithm(function(b,I,O){for(var z=b.key;0<d(z,l[y]);)if(++y===l.length)return I(O),!1;return d(z,l[y])===0||(I(function(){b.continue(l[y])}),!1)}),g},Kt.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Kt.prototype.noneOf=function(){var a=xe.apply(ke,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return mn(this,Wn)}var l=a.reduce(function(d,g){return d?d.concat([[d[d.length-1][1],g]]):[[-1/0,g]]},null);return l.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},Kt.prototype.inAnyRange=function(Y,l){var d=this,g=this._cmp,y=this._ascending,b=this._descending,I=this._min,O=this._max;if(Y.length===0)return go(this);if(!Y.every(function(oe){return oe[0]!==void 0&&oe[1]!==void 0&&y(oe[0],oe[1])<=0}))return mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",J.InvalidArgument);var z=!l||l.includeLowers!==!1,F=l&&l.includeUppers===!0,Z,D=y;function G(oe,ue){return D(oe[0],ue[0])}try{(Z=Y.reduce(function(oe,ue){for(var le=0,be=oe.length;le<be;++le){var Te=oe[le];if(g(ue[0],Te[1])<0&&0<g(ue[1],Te[0])){Te[0]=I(Te[0],ue[0]),Te[1]=O(Te[1],ue[1]);break}}return le===be&&oe.push(ue),oe},[])).sort(G)}catch{return mn(this,Wn)}var B=0,L=F?function(oe){return 0<y(oe,Z[B][1])}:function(oe){return 0<=y(oe,Z[B][1])},K=z?function(oe){return 0<b(oe,Z[B][0])}:function(oe){return 0<=b(oe,Z[B][0])},U=L,Y=new this.Collection(this,function(){return yr(Z[0][0],Z[Z.length-1][1],!z,!F)});return Y._ondirectionchange=function(oe){D=oe==="next"?(U=L,y):(U=K,b),Z.sort(G)},Y._addAlgorithm(function(oe,ue,le){for(var be,Te=oe.key;U(Te);)if(++B===Z.length)return ue(le),!1;return!L(be=Te)&&!K(be)||(d._cmp(Te,Z[B][1])===0||d._cmp(Te,Z[B][0])===0||ue(function(){D===y?oe.continue(Z[B][0]):oe.continue(Z[B][1])}),!1)}),Y},Kt.prototype.startsWithAnyOf=function(){var a=xe.apply(ke,arguments);return a.every(function(l){return typeof l=="string"})?a.length===0?go(this):this.inAnyRange(a.map(function(l){return[l,l+zr]})):mn(this,"startsWithAnyOf() only works with strings")},Kt);function Kt(){}function Mn(a){return kt(function(l){return Wo(l),a(l.target.error),!1})}function Wo(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var Yo="storagemutated",du="x-storagemutated-1",_r=Ko(null,Yo),ov=(Dn.prototype._lock=function(){return N(!He.global),++this._reculock,this._reculock!==1||He.global||(He.lockOwnerFor=this),this},Dn.prototype._unlock=function(){if(N(!He.global),--this._reculock==0)for(He.global||(He.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{Rr(a[1],a[0])}catch{}}return this},Dn.prototype._locked=function(){return this._reculock&&He.lockOwnerFor!==this},Dn.prototype.create=function(a){var l=this;if(!this.mode)return this;var d=this.db.idbdb,g=this.db._state.dbOpenError;if(N(!this.idbtrans),!a&&!d)switch(g&&g.name){case"DatabaseClosedError":throw new J.DatabaseClosed(g);case"MissingAPIError":throw new J.MissingAPI(g.message,g);default:throw new J.OpenFailed(g)}if(!this.active)throw new J.TransactionInactive;return N(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||d).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=kt(function(y){Wo(y),l._reject(a.error)}),a.onabort=kt(function(y){Wo(y),l.active&&l._reject(new J.Abort(a.error)),l.active=!1,l.on("abort").fire(y)}),a.oncomplete=kt(function(){l.active=!1,l._resolve(),"mutatedParts"in a&&_r.storagemutated.fire(a.mutatedParts)}),this},Dn.prototype._promise=function(a,l,d){var g=this;if(a==="readwrite"&&this.mode!=="readwrite")return Mt(new J.ReadOnly("Transaction is readonly"));if(!this.active)return Mt(new J.TransactionInactive);if(this._locked())return new ze(function(b,I){g._blockedFuncs.push([function(){g._promise(a,l,d).then(b,I)},He])});if(d)return gr(function(){var b=new ze(function(I,O){g._lock();var z=l(I,O,g);z&&z.then&&z.then(I,O)});return b.finally(function(){return g._unlock()}),b._lib=!0,b});var y=new ze(function(b,I){var O=l(b,I,g);O&&O.then&&O.then(b,I)});return y._lib=!0,y},Dn.prototype._root=function(){return this.parent?this.parent._root():this},Dn.prototype.waitFor=function(a){var l,d=this._root(),g=ze.resolve(a);d._waitingFor?d._waitingFor=d._waitingFor.then(function(){return g}):(d._waitingFor=g,d._waitingQueue=[],l=d.idbtrans.objectStore(d.storeNames[0]),(function b(){for(++d._spinCount;d._waitingQueue.length;)d._waitingQueue.shift()();d._waitingFor&&(l.get(-1/0).onsuccess=b)})());var y=d._waitingFor;return new ze(function(b,I){g.then(function(O){return d._waitingQueue.push(kt(b.bind(null,O)))},function(O){return d._waitingQueue.push(kt(I.bind(null,O)))}).finally(function(){d._waitingFor===y&&(d._waitingFor=null)})})},Dn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new J.Abort))},Dn.prototype.table=function(a){var l=this._memoizedTables||(this._memoizedTables={});if(p(l,a))return l[a];var d=this.schema[a];if(!d)throw new J.NotFound("Table "+a+" not part of transaction");return d=new this.db.Table(a,d,this),d.core=this.db.core.table(a),l[a]=d},Dn);function Dn(){}function hu(a,l,d,g,y,b,I,O){return{name:a,keyPath:l,unique:d,multi:g,auto:y,compound:b,src:(d&&!I?"&":"")+(g?"*":"")+(y?"++":"")+Xc(l),type:O}}function Xc(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function pu(a,l,d){return{name:a,primKey:l,indexes:d,mappedClass:null,idxByName:(g=function(y){return[y.name,y]},d.reduce(function(y,b,I){return I=g(b,I),I&&(y[I[0]]=I[1]),y},{}))};var g}var Xo=function(a){try{return a.only([[]]),Xo=function(){return[[]]},[[]]}catch{return Xo=function(){return zr},zr}};function gu(a){return a==null?function(){}:typeof a=="string"?(l=a).split(".").length===1?function(d){return d[l]}:function(d){return ce(d,l)}:function(d){return ce(d,a)};var l}function Jc(a){return[].slice.call(a)}var iv=0;function Jo(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function sv(a,l,z){function g(U){if(U.type===3)return null;if(U.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var B=U.lower,L=U.upper,K=U.lowerOpen,U=U.upperOpen;return B===void 0?L===void 0?null:l.upperBound(L,!!U):L===void 0?l.lowerBound(B,!!K):l.bound(B,L,!!K,!!U)}function y(G){var B,L=G.name;return{name:L,schema:G,mutate:function(K){var U=K.trans,Y=K.type,oe=K.keys,ue=K.values,le=K.range;return new Promise(function(be,Te){be=kt(be);var Ee=U.objectStore(L),Ce=Ee.keyPath==null,Re=Y==="put"||Y==="add";if(!Re&&Y!=="delete"&&Y!=="deleteRange")throw new Error("Invalid operation type: "+Y);var Me,Be=(oe||ue||{length:1}).length;if(oe&&ue&&oe.length!==ue.length)throw new Error("Given keys array must have same length as given values array.");if(Be===0)return be({numFailures:0,failures:{},results:[],lastResult:void 0});function Qe(un){++Nt,Wo(un)}var ct=[],Je=[],Nt=0;if(Y==="deleteRange"){if(le.type===4)return be({numFailures:Nt,failures:Je,results:[],lastResult:void 0});le.type===3?ct.push(Me=Ee.clear()):ct.push(Me=Ee.delete(g(le)))}else{var Ce=Re?Ce?[ue,oe]:[ue,null]:[oe,null],Ye=Ce[0],Xt=Ce[1];if(Re)for(var Jt=0;Jt<Be;++Jt)ct.push(Me=Xt&&Xt[Jt]!==void 0?Ee[Y](Ye[Jt],Xt[Jt]):Ee[Y](Ye[Jt])),Me.onerror=Qe;else for(Jt=0;Jt<Be;++Jt)ct.push(Me=Ee[Y](Ye[Jt])),Me.onerror=Qe}function vs(un){un=un.target.result,ct.forEach(function(Vr,Au){return Vr.error!=null&&(Je[Au]=Vr.error)}),be({numFailures:Nt,failures:Je,results:Y==="delete"?oe:ct.map(function(Vr){return Vr.result}),lastResult:un})}Me.onerror=function(un){Qe(un),vs(un)},Me.onsuccess=vs})},getMany:function(K){var U=K.trans,Y=K.keys;return new Promise(function(oe,ue){oe=kt(oe);for(var le,be=U.objectStore(L),Te=Y.length,Ee=new Array(Te),Ce=0,Re=0,Me=function(ct){ct=ct.target,Ee[ct._pos]=ct.result,++Re===Ce&&oe(Ee)},Be=Mn(ue),Qe=0;Qe<Te;++Qe)Y[Qe]!=null&&((le=be.get(Y[Qe]))._pos=Qe,le.onsuccess=Me,le.onerror=Be,++Ce);Ce===0&&oe(Ee)})},get:function(K){var U=K.trans,Y=K.key;return new Promise(function(oe,ue){oe=kt(oe);var le=U.objectStore(L).get(Y);le.onsuccess=function(be){return oe(be.target.result)},le.onerror=Mn(ue)})},query:(B=F,function(K){return new Promise(function(U,Y){U=kt(U);var oe,ue,le,Ce=K.trans,be=K.values,Te=K.limit,Me=K.query,Ee=Te===1/0?void 0:Te,Re=Me.index,Me=Me.range,Ce=Ce.objectStore(L),Re=Re.isPrimaryKey?Ce:Ce.index(Re.name),Me=g(Me);if(Te===0)return U({result:[]});B?((Ee=be?Re.getAll(Me,Ee):Re.getAllKeys(Me,Ee)).onsuccess=function(Be){return U({result:Be.target.result})},Ee.onerror=Mn(Y)):(oe=0,ue=!be&&"openKeyCursor"in Re?Re.openKeyCursor(Me):Re.openCursor(Me),le=[],ue.onsuccess=function(Be){var Qe=ue.result;return Qe?(le.push(be?Qe.value:Qe.primaryKey),++oe===Te?U({result:le}):void Qe.continue()):U({result:le})},ue.onerror=Mn(Y))})}),openCursor:function(K){var U=K.trans,Y=K.values,oe=K.query,ue=K.reverse,le=K.unique;return new Promise(function(be,Te){be=kt(be);var Re=oe.index,Ee=oe.range,Ce=U.objectStore(L),Ce=Re.isPrimaryKey?Ce:Ce.index(Re.name),Re=ue?le?"prevunique":"prev":le?"nextunique":"next",Me=!Y&&"openKeyCursor"in Ce?Ce.openKeyCursor(g(Ee),Re):Ce.openCursor(g(Ee),Re);Me.onerror=Mn(Te),Me.onsuccess=kt(function(Be){var Qe,ct,Je,Nt,Ye=Me.result;Ye?(Ye.___id=++iv,Ye.done=!1,Qe=Ye.continue.bind(Ye),ct=(ct=Ye.continuePrimaryKey)&&ct.bind(Ye),Je=Ye.advance.bind(Ye),Nt=function(){throw new Error("Cursor not stopped")},Ye.trans=U,Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=function(){throw new Error("Cursor not started")},Ye.fail=kt(Te),Ye.next=function(){var Xt=this,Jt=1;return this.start(function(){return Jt--?Xt.continue():Xt.stop()}).then(function(){return Xt})},Ye.start=function(Xt){function Jt(){if(Me.result)try{Xt()}catch(un){Ye.fail(un)}else Ye.done=!0,Ye.start=function(){throw new Error("Cursor behind last entry")},Ye.stop()}var vs=new Promise(function(un,Vr){un=kt(un),Me.onerror=Mn(Vr),Ye.fail=Vr,Ye.stop=function(Au){Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=Nt,un(Au)}});return Me.onsuccess=kt(function(un){Me.onsuccess=Jt,Jt()}),Ye.continue=Qe,Ye.continuePrimaryKey=ct,Ye.advance=Je,Jt(),vs},be(Ye)):be(null)},Te)})},count:function(K){var U=K.query,Y=K.trans,oe=U.index,ue=U.range;return new Promise(function(le,be){var Te=Y.objectStore(L),Ee=oe.isPrimaryKey?Te:Te.index(oe.name),Te=g(ue),Ee=Te?Ee.count(Te):Ee.count();Ee.onsuccess=kt(function(Ce){return le(Ce.target.result)}),Ee.onerror=Mn(be)})}}}var b,I,O,Z=(I=z,O=Jc((b=a).objectStoreNames),{schema:{name:b.name,tables:O.map(function(G){return I.objectStore(G)}).map(function(G){var B=G.keyPath,U=G.autoIncrement,L=u(B),K={},U={name:G.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:B==null,compound:L,keyPath:B,autoIncrement:U,unique:!0,extractKey:gu(B)},indexes:Jc(G.indexNames).map(function(Y){return G.index(Y)}).map(function(le){var oe=le.name,ue=le.unique,be=le.multiEntry,le=le.keyPath,be={name:oe,compound:u(le),keyPath:le,unique:ue,multiEntry:be,extractKey:gu(le)};return K[Jo(le)]=be}),getIndexByKeyPath:function(Y){return K[Jo(Y)]}};return K[":id"]=U.primaryKey,B!=null&&(K[Jo(B)]=U.primaryKey),U})},hasGetAll:0<O.length&&"getAll"in I.objectStore(O[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),z=Z.schema,F=Z.hasGetAll,Z=z.tables.map(y),D={};return Z.forEach(function(G){return D[G.name]=G}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(G){if(!D[G])throw new Error("Table '".concat(G,"' not found"));return D[G]},MIN_KEY:-1/0,MAX_KEY:Xo(l),schema:z}}function av(a,l,d,g){var y=d.IDBKeyRange;return d.indexedDB,{dbcore:(g=sv(l,y,g),a.dbcore.reduce(function(b,I){return I=I.create,r(r({},b),I(b))},g))}}function ss(a,g){var d=g.db,g=av(a._middlewares,d,a._deps,g);a.core=g.dbcore,a.tables.forEach(function(y){var b=y.name;a.core.schema.tables.some(function(I){return I.name===b})&&(y.core=a.core.table(b),a[b]instanceof a.Table&&(a[b].core=y.core))})}function as(a,l,d,g){d.forEach(function(y){var b=g[y];l.forEach(function(I){var O=(function z(F,Z){return M(F,Z)||(F=f(F))&&z(F,Z)})(I,y);(!O||"value"in O&&O.value===void 0)&&(I===a.Transaction.prototype||I instanceof a.Transaction?E(I,y,{get:function(){return this.table(y)},set:function(z){m(this,y,{value:z,writable:!0,configurable:!0,enumerable:!0})}}):I[y]=new a.Table(y,b))})})}function mu(a,l){l.forEach(function(d){for(var g in d)d[g]instanceof a.Table&&delete d[g]})}function uv(a,l){return a._cfg.version-l._cfg.version}function lv(a,l,d,g){var y=a._dbSchema;d.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=pu("$meta",ef("")[0],[]),a._storeNames.push("$meta"));var b=a._createTransaction("readwrite",a._storeNames,y);b.create(d),b._completion.catch(g);var I=b._reject.bind(b),O=He.transless||He;gr(function(){return He.trans=b,He.transless=O,l!==0?(ss(a,d),F=l,((z=b).storeNames.includes("$meta")?z.table("$meta").get("version").then(function(Z){return Z??F}):ze.resolve(F)).then(function(Z){return G=Z,B=b,L=d,K=[],Z=(D=a)._versions,U=D._dbSchema=ls(0,D.idbdb,L),(Z=Z.filter(function(Y){return Y._cfg.version>=G})).length!==0?(Z.forEach(function(Y){K.push(function(){var oe=U,ue=Y._cfg.dbschema;cs(D,oe,L),cs(D,ue,L),U=D._dbSchema=ue;var le=vu(oe,ue);le.add.forEach(function(Re){yu(L,Re[0],Re[1].primKey,Re[1].indexes)}),le.change.forEach(function(Re){if(Re.recreate)throw new J.Upgrade("Not yet support for changing primary key");var Me=L.objectStore(Re.name);Re.add.forEach(function(Be){return us(Me,Be)}),Re.change.forEach(function(Be){Me.deleteIndex(Be.name),us(Me,Be)}),Re.del.forEach(function(Be){return Me.deleteIndex(Be)})});var be=Y._cfg.contentUpgrade;if(be&&Y._cfg.version>G){ss(D,L),B._memoizedTables={};var Te=W(ue);le.del.forEach(function(Re){Te[Re]=oe[Re]}),mu(D,[D.Transaction.prototype]),as(D,[D.Transaction.prototype],s(Te),Te),B.schema=Te;var Ee,Ce=Ae(be);return Ce&&fo(),le=ze.follow(function(){var Re;(Ee=be(B))&&Ce&&(Re=mr.bind(null,null),Ee.then(Re,Re))}),Ee&&typeof Ee.then=="function"?ze.resolve(Ee):le.then(function(){return Ee})}}),K.push(function(oe){var ue,le,be=Y._cfg.dbschema;ue=be,le=oe,[].slice.call(le.db.objectStoreNames).forEach(function(Te){return ue[Te]==null&&le.db.deleteObjectStore(Te)}),mu(D,[D.Transaction.prototype]),as(D,[D.Transaction.prototype],D._storeNames,D._dbSchema),B.schema=D._dbSchema}),K.push(function(oe){D.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(D.idbdb.version/10)===Y._cfg.version?(D.idbdb.deleteObjectStore("$meta"),delete D._dbSchema.$meta,D._storeNames=D._storeNames.filter(function(ue){return ue!=="$meta"})):oe.objectStore("$meta").put(Y._cfg.version,"version"))})}),(function Y(){return K.length?ze.resolve(K.shift()(B.idbtrans)).then(Y):ze.resolve()})().then(function(){Qc(U,L)})):ze.resolve();var D,G,B,L,K,U}).catch(I)):(s(y).forEach(function(Z){yu(d,Z,y[Z].primKey,y[Z].indexes)}),ss(a,d),void ze.follow(function(){return a.on.populate.fire(b)}).catch(I));var z,F})}function cv(a,l){Qc(a._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var d=ls(0,a.idbdb,l);cs(a,a._dbSchema,l);for(var g=0,y=vu(d,a._dbSchema).change;g<y.length;g++){var b=(function(I){if(I.change.length||I.recreate)return console.warn("Unable to patch indexes of table ".concat(I.name," because it has changes on the type of index or primary key.")),{value:void 0};var O=l.objectStore(I.name);I.add.forEach(function(z){X&&console.debug("Dexie upgrade patch: Creating missing index ".concat(I.name,".").concat(z.src)),us(O,z)})})(y[g]);if(typeof b=="object")return b.value}}function vu(a,l){var d,g={del:[],add:[],change:[]};for(d in a)l[d]||g.del.push(d);for(d in l){var y=a[d],b=l[d];if(y){var I={name:d,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||y.primKey.auto!==b.primKey.auto)I.recreate=!0,g.change.push(I);else{var O=y.idxByName,z=b.idxByName,F=void 0;for(F in O)z[F]||I.del.push(F);for(F in z){var Z=O[F],D=z[F];Z?Z.src!==D.src&&I.change.push(D):I.add.push(D)}(0<I.del.length||0<I.add.length||0<I.change.length)&&g.change.push(I)}}else g.add.push([d,b])}return g}function yu(a,l,d,g){var y=a.db.createObjectStore(l,d.keyPath?{keyPath:d.keyPath,autoIncrement:d.auto}:{autoIncrement:d.auto});return g.forEach(function(b){return us(y,b)}),y}function Qc(a,l){s(a).forEach(function(d){l.db.objectStoreNames.contains(d)||(X&&console.debug("Dexie: Creating missing table",d),yu(l,d,a[d].primKey,a[d].indexes))})}function us(a,l){a.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function ls(a,l,d){var g={};return $(l.objectStoreNames,0).forEach(function(y){for(var b=d.objectStore(y),I=hu(Xc(F=b.keyPath),F||"",!0,!1,!!b.autoIncrement,F&&typeof F!="string",!0),O=[],z=0;z<b.indexNames.length;++z){var Z=b.index(b.indexNames[z]),F=Z.keyPath,Z=hu(Z.name,F,!!Z.unique,!!Z.multiEntry,!1,F&&typeof F!="string",!1);O.push(Z)}g[y]=pu(y,I,O)}),g}function cs(a,l,d){for(var g=d.db.objectStoreNames,y=0;y<g.length;++y){var b=g[y],I=d.objectStore(b);a._hasGetAll="getAll"in I;for(var O=0;O<I.indexNames.length;++O){var z=I.indexNames[O],F=I.index(z).keyPath,Z=typeof F=="string"?F:"["+$(F).join("+")+"]";!l[b]||(F=l[b].idxByName[Z])&&(F.name=z,delete l[b].idxByName[Z],l[b].idxByName[z]=F)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function ef(a){return a.split(",").map(function(l,d){var b=l.split(":"),g=(y=b[1])===null||y===void 0?void 0:y.trim(),y=(l=b[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return hu(y,b||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),u(b),d===0,g)})}var fv=(mo.prototype._createTableSchema=pu,mo.prototype._parseIndexSyntax=ef,mo.prototype._parseStoresSpec=function(a,l){var d=this;s(a).forEach(function(g){if(a[g]!==null){var y=d._parseIndexSyntax(a[g]),b=y.shift();if(!b)throw new J.Schema("Invalid schema for table "+g+": "+a[g]);if(b.unique=!0,b.multi)throw new J.Schema("Primary key cannot be multiEntry*");y.forEach(function(I){if(I.auto)throw new J.Schema("Only primary key can be marked as autoIncrement (++)");if(!I.keyPath)throw new J.Schema("Index must have a name and cannot be an empty string")}),y=d._createTableSchema(g,b,y),l[g]=y}})},mo.prototype.stores=function(d){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,d):d;var d=l._versions,g={},y={};return d.forEach(function(b){c(g,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(g,y)}),l._dbSchema=y,mu(l,[l._allTables,l,l.Transaction.prototype]),as(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],s(y),y),l._storeNames=s(y),this},mo.prototype.upgrade=function(a){return this._cfg.contentUpgrade=te(this._cfg.contentUpgrade||S,a),this},mo);function mo(){}function _u(a,l){var d=a._dbNamesDB;return d||(d=a._dbNamesDB=new Yn(es,{addons:[],indexedDB:a,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),d.table("dbnames")}function bu(a){return a&&typeof a.databases=="function"}function wu(a){return gr(function(){return He.letThrough=!0,a()})}function xu(a){return!("from"in a)}var Yt=function(a,l){if(!this){var d=new Yt;return a&&"d"in a&&c(d,a),d}c(this,arguments.length?{d:1,from:a,to:1<arguments.length?l:a}:{d:0})};function Qo(a,l,d){var g=lt(l,d);if(!isNaN(g)){if(0<g)throw RangeError();if(xu(a))return c(a,{from:l,to:d,d:1});var y=a.l,g=a.r;if(lt(d,a.from)<0)return y?Qo(y,l,d):a.l={from:l,to:d,d:1,l:null,r:null},nf(a);if(0<lt(l,a.to))return g?Qo(g,l,d):a.r={from:l,to:d,d:1,l:null,r:null},nf(a);lt(l,a.from)<0&&(a.from=l,a.l=null,a.d=g?g.d+1:1),0<lt(d,a.to)&&(a.to=d,a.r=null,a.d=a.l?a.l.d+1:1),d=!a.r,y&&!a.l&&ei(a,y),g&&d&&ei(a,g)}}function ei(a,l){xu(l)||(function d(g,z){var b=z.from,I=z.to,O=z.l,z=z.r;Qo(g,b,I),O&&d(g,O),z&&d(g,z)})(a,l)}function tf(a,l){var d=fs(l),g=d.next();if(g.done)return!1;for(var y=g.value,b=fs(a),I=b.next(y.from),O=I.value;!g.done&&!I.done;){if(lt(O.from,y.to)<=0&&0<=lt(O.to,y.from))return!0;lt(y.from,O.from)<0?y=(g=d.next(O.from)).value:O=(I=b.next(y.from)).value}return!1}function fs(a){var l=xu(a)?null:{s:0,n:a};return{next:function(d){for(var g=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,g)for(;l.n.l&&lt(d,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!g||lt(d,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function nf(a){var l,d,g=(((l=a.r)===null||l===void 0?void 0:l.d)||0)-(((d=a.l)===null||d===void 0?void 0:d.d)||0),y=1<g?"r":g<-1?"l":"";y&&(l=y=="r"?"l":"r",d=r({},a),g=a[y],a.from=g.from,a.to=g.to,a[y]=g[y],d[y]=g[l],(a[l]=d).d=rf(d)),a.d=rf(a)}function rf(d){var l=d.r,d=d.l;return(l?d?Math.max(l.d,d.d):l.d:d?d.d:0)+1}function ds(a,l){return s(l).forEach(function(d){a[d]?ei(a[d],l[d]):a[d]=(function g(y){var b,I,O={};for(b in y)p(y,b)&&(I=y[b],O[b]=!I||typeof I!="object"||ae.has(I.constructor)?I:g(I));return O})(l[d])}),a}function Su(a,l){return a.all||l.all||Object.keys(a).some(function(d){return l[d]&&tf(l[d],a[d])})}v(Yt.prototype,((_n={add:function(a){return ei(this,a),this},addKey:function(a){return Qo(this,a,a),this},addKeys:function(a){var l=this;return a.forEach(function(d){return Qo(l,d,d)}),this},hasKey:function(a){var l=fs(this).next(a).value;return l&&lt(l.from,a)<=0&&0<=lt(l.to,a)}})[H]=function(){return fs(this)},_n));var Fr={},Eu={},ku=!1;function hs(a){ds(Eu,a),ku||(ku=!0,setTimeout(function(){ku=!1,Cu(Eu,!(Eu={}))},0))}function Cu(a,l){l===void 0&&(l=!1);var d=new Set;if(a.all)for(var g=0,y=Object.values(Fr);g<y.length;g++)of(I=y[g],a,d,l);else for(var b in a){var I,O=/^idb\:\/\/(.*)\/(.*)\//.exec(b);O&&(b=O[1],O=O[2],(I=Fr["idb://".concat(b,"/").concat(O)])&&of(I,a,d,l))}d.forEach(function(z){return z()})}function of(a,l,d,g){for(var y=[],b=0,I=Object.entries(a.queries.query);b<I.length;b++){for(var O=I[b],z=O[0],F=[],Z=0,D=O[1];Z<D.length;Z++){var G=D[Z];Su(l,G.obsSet)?G.subscribers.forEach(function(U){return d.add(U)}):g&&F.push(G)}g&&y.push([z,F])}if(g)for(var B=0,L=y;B<L.length;B++){var K=L[B],z=K[0],F=K[1];a.queries.query[z]=F}}function dv(a){var l=a._state,d=a._deps.indexedDB;if(l.isBeingOpened||a.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?Mt(l.dbOpenError):a});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var g=l.openCanceller,y=Math.round(10*a.verno),b=!1;function I(){if(l.openCanceller!==g)throw new J.DatabaseClosed("db.open() was cancelled")}function O(){return new ze(function(G,B){if(I(),!d)throw new J.MissingAPI;var L=a.name,K=l.autoSchema||!y?d.open(L):d.open(L,y);if(!K)throw new J.MissingAPI;K.onerror=Mn(B),K.onblocked=kt(a._fireOnBlocked),K.onupgradeneeded=kt(function(U){var Y;Z=K.transaction,l.autoSchema&&!a._options.allowEmptyDB?(K.onerror=Wo,Z.abort(),K.result.close(),(Y=d.deleteDatabase(L)).onsuccess=Y.onerror=kt(function(){B(new J.NoSuchDatabase("Database ".concat(L," doesnt exist")))})):(Z.onerror=Mn(B),U=U.oldVersion>Math.pow(2,62)?0:U.oldVersion,D=U<1,a.idbdb=K.result,b&&cv(a,Z),lv(a,U/10,Z,B))},B),K.onsuccess=kt(function(){Z=null;var U,Y,oe,ue,le,be=a.idbdb=K.result,Te=$(be.objectStoreNames);if(0<Te.length)try{var Ee=be.transaction((ue=Te).length===1?ue[0]:ue,"readonly");if(l.autoSchema)Y=be,oe=Ee,(U=a).verno=Y.version/10,oe=U._dbSchema=ls(0,Y,oe),U._storeNames=$(Y.objectStoreNames,0),as(U,[U._allTables],s(oe),oe);else if(cs(a,a._dbSchema,Ee),((le=vu(ls(0,(le=a).idbdb,Ee),le._dbSchema)).add.length||le.change.some(function(Ce){return Ce.add.length||Ce.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),be.close(),y=be.version+1,b=!0,G(O());ss(a,Ee)}catch{}ho.push(a),be.onversionchange=kt(function(Ce){l.vcFired=!0,a.on("versionchange").fire(Ce)}),be.onclose=kt(function(Ce){a.on("close").fire(Ce)}),D&&(le=a._deps,Ee=L,be=le.indexedDB,le=le.IDBKeyRange,bu(be)||Ee===es||_u(be,le).put({name:Ee}).catch(S)),G()},B)}).catch(function(G){switch(G?.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),O();break;case"VersionError":if(0<y)return y=0,O()}return ze.reject(G)})}var z,F=l.dbReadyResolve,Z=null,D=!1;return ze.race([g,(typeof navigator>"u"?ze.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(G){function B(){return indexedDB.databases().finally(G)}z=setInterval(B,100),B()}).finally(function(){return clearInterval(z)}):Promise.resolve()).then(O)]).then(function(){return I(),l.onReadyBeingFired=[],ze.resolve(wu(function(){return a.on.ready.fire(a.vip)})).then(function G(){if(0<l.onReadyBeingFired.length){var B=l.onReadyBeingFired.reduce(te,S);return l.onReadyBeingFired=[],ze.resolve(wu(function(){return B(a.vip)})).then(G)}})}).finally(function(){l.openCanceller===g&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(G){l.dbOpenError=G;try{Z&&Z.abort()}catch{}return g===l.openCanceller&&a._close(),Mt(G)}).finally(function(){l.openComplete=!0,F()}).then(function(){var G;return D&&(G={},a.tables.forEach(function(B){B.schema.indexes.forEach(function(L){L.name&&(G["idb://".concat(a.name,"/").concat(B.name,"/").concat(L.name)]=new Yt(-1/0,[[[]]]))}),G["idb://".concat(a.name,"/").concat(B.name,"/")]=G["idb://".concat(a.name,"/").concat(B.name,"/:dels")]=new Yt(-1/0,[[[]]])}),_r(Yo).fire(G),Cu(G,!0)),a})}function Iu(a){function l(b){return a.next(b)}var d=y(l),g=y(function(b){return a.throw(b)});function y(b){return function(z){var O=b(z),z=O.value;return O.done?z:z&&typeof z.then=="function"?z.then(d,g):u(z)?Promise.all(z).then(d,g):d(z)}}return y(l)()}function ps(a,l,d){for(var g=u(a)?a.slice():[a],y=0;y<d;++y)g.push(l);return g}var hv={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return r(r({},a),{table:function(l){var d=a.table(l),g=d.schema,y={},b=[];function I(D,G,B){var L=Jo(D),K=y[L]=y[L]||[],U=D==null?0:typeof D=="string"?1:D.length,Y=0<G,Y=r(r({},B),{name:Y?"".concat(L,"(virtual-from:").concat(B.name,")"):B.name,lowLevelIndex:B,isVirtual:Y,keyTail:G,keyLength:U,extractKey:gu(D),unique:!Y&&B.unique});return K.push(Y),Y.isPrimaryKey||b.push(Y),1<U&&I(U===2?D[0]:D.slice(0,U-1),G+1,B),K.sort(function(oe,ue){return oe.keyTail-ue.keyTail}),Y}l=I(g.primaryKey.keyPath,0,g.primaryKey),y[":id"]=[l];for(var O=0,z=g.indexes;O<z.length;O++){var F=z[O];I(F.keyPath,0,F)}function Z(D){var G,B=D.query.index;return B.isVirtual?r(r({},D),{query:{index:B.lowLevelIndex,range:(G=D.query.range,B=B.keyTail,{type:G.type===1?2:G.type,lower:ps(G.lower,G.lowerOpen?a.MAX_KEY:a.MIN_KEY,B),lowerOpen:!0,upper:ps(G.upper,G.upperOpen?a.MIN_KEY:a.MAX_KEY,B),upperOpen:!0})}}):D}return r(r({},d),{schema:r(r({},g),{primaryKey:l,indexes:b,getIndexByKeyPath:function(D){return(D=y[Jo(D)])&&D[0]}}),count:function(D){return d.count(Z(D))},query:function(D){return d.query(Z(D))},openCursor:function(D){var G=D.query.index,B=G.keyTail,L=G.isVirtual,K=G.keyLength;return L?d.openCursor(Z(D)).then(function(Y){return Y&&U(Y)}):d.openCursor(D);function U(Y){return Object.create(Y,{continue:{value:function(oe){oe!=null?Y.continue(ps(oe,D.reverse?a.MAX_KEY:a.MIN_KEY,B)):D.unique?Y.continue(Y.key.slice(0,K).concat(D.reverse?a.MIN_KEY:a.MAX_KEY,B)):Y.continue()}},continuePrimaryKey:{value:function(oe,ue){Y.continuePrimaryKey(ps(oe,a.MAX_KEY,B),ue)}},primaryKey:{get:function(){return Y.primaryKey}},key:{get:function(){var oe=Y.key;return K===1?oe[0]:oe.slice(0,K)}},value:{get:function(){return Y.value}}})}}})}})}};function Pu(a,l,d,g){return d=d||{},g=g||"",s(a).forEach(function(y){var b,I,O;p(l,y)?(b=a[y],I=l[y],typeof b=="object"&&typeof I=="object"&&b&&I?(O=he(b))!==he(I)?d[g+y]=l[y]:O==="Object"?Pu(b,I,d,g+y+"."):b!==I&&(d[g+y]=l[y]):b!==I&&(d[g+y]=l[y])):d[g+y]=void 0}),s(l).forEach(function(y){p(a,y)||(d[g+y]=l[y])}),d}function Tu(a,l){return l.type==="delete"?l.keys:l.keys||l.values.map(a.extractKey)}var pv={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return r(r({},a),{table:function(l){var d=a.table(l),g=d.schema.primaryKey;return r(r({},d),{mutate:function(y){var b=He.trans,I=b.table(l).hook,O=I.deleting,z=I.creating,F=I.updating;switch(y.type){case"add":if(z.fire===S)break;return b._promise("readwrite",function(){return Z(y)},!0);case"put":if(z.fire===S&&F.fire===S)break;return b._promise("readwrite",function(){return Z(y)},!0);case"delete":if(O.fire===S)break;return b._promise("readwrite",function(){return Z(y)},!0);case"deleteRange":if(O.fire===S)break;return b._promise("readwrite",function(){return(function D(G,B,L){return d.query({trans:G,values:!1,query:{index:g,range:B},limit:L}).then(function(K){var U=K.result;return Z({type:"delete",keys:U,trans:G}).then(function(Y){return 0<Y.numFailures?Promise.reject(Y.failures[0]):U.length<L?{failures:[],numFailures:0,lastResult:void 0}:D(G,r(r({},B),{lower:U[U.length-1],lowerOpen:!0}),L)})})})(y.trans,y.range,1e4)},!0)}return d.mutate(y);function Z(D){var G,B,L,K=He.trans,U=D.keys||Tu(g,D);if(!U)throw new Error("Keys missing");return(D=D.type==="add"||D.type==="put"?r(r({},D),{keys:U}):r({},D)).type!=="delete"&&(D.values=o([],D.values)),D.keys&&(D.keys=o([],D.keys)),G=d,L=U,((B=D).type==="add"?Promise.resolve([]):G.getMany({trans:B.trans,keys:L,cache:"immutable"})).then(function(Y){var oe=U.map(function(ue,le){var be,Te,Ee,Ce=Y[le],Re={onerror:null,onsuccess:null};return D.type==="delete"?O.fire.call(Re,ue,Ce,K):D.type==="add"||Ce===void 0?(be=z.fire.call(Re,ue,D.values[le],K),ue==null&&be!=null&&(D.keys[le]=ue=be,g.outbound||q(D.values[le],g.keyPath,ue))):(be=Pu(Ce,D.values[le]),(Te=F.fire.call(Re,be,ue,Ce,K))&&(Ee=D.values[le],Object.keys(Te).forEach(function(Me){p(Ee,Me)?Ee[Me]=Te[Me]:q(Ee,Me,Te[Me])}))),Re});return d.mutate(D).then(function(ue){for(var le=ue.failures,be=ue.results,Te=ue.numFailures,ue=ue.lastResult,Ee=0;Ee<U.length;++Ee){var Ce=(be||U)[Ee],Re=oe[Ee];Ce==null?Re.onerror&&Re.onerror(le[Ee]):Re.onsuccess&&Re.onsuccess(D.type==="put"&&Y[Ee]?D.values[Ee]:Ce)}return{failures:le,results:be,numFailures:Te,lastResult:ue}}).catch(function(ue){return oe.forEach(function(le){return le.onerror&&le.onerror(ue)}),Promise.reject(ue)})})}}})}})}};function sf(a,l,d){try{if(!l||l.keys.length<a.length)return null;for(var g=[],y=0,b=0;y<l.keys.length&&b<a.length;++y)lt(l.keys[y],a[b])===0&&(g.push(d?Ie(l.values[y]):l.values[y]),++b);return g.length===a.length?g:null}catch{return null}}var gv={stack:"dbcore",level:-1,create:function(a){return{table:function(l){var d=a.table(l);return r(r({},d),{getMany:function(g){if(!g.cache)return d.getMany(g);var y=sf(g.keys,g.trans._cache,g.cache==="clone");return y?ze.resolve(y):d.getMany(g).then(function(b){return g.trans._cache={keys:g.keys,values:g.cache==="clone"?Ie(b):b},b})},mutate:function(g){return g.type!=="add"&&(g.trans._cache=null),d.mutate(g)}})}}}};function af(a,l){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function uf(a,l){switch(a){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var mv={stack:"dbcore",level:0,name:"Observability",create:function(a){var l=a.schema.name,d=new Yt(a.MIN_KEY,a.MAX_KEY);return r(r({},a),{transaction:function(g,y,b){if(He.subscr&&y!=="readonly")throw new J.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(He.querier));return a.transaction(g,y,b)},table:function(g){var y=a.table(g),b=y.schema,I=b.primaryKey,D=b.indexes,O=I.extractKey,z=I.outbound,F=I.autoIncrement&&D.filter(function(B){return B.compound&&B.keyPath.includes(I.keyPath)}),Z=r(r({},y),{mutate:function(B){function L(Me){return Me="idb://".concat(l,"/").concat(g,"/").concat(Me),ue[Me]||(ue[Me]=new Yt)}var K,U,Y,oe=B.trans,ue=B.mutatedParts||(B.mutatedParts={}),le=L(""),be=L(":dels"),Te=B.type,Re=B.type==="deleteRange"?[B.range]:B.type==="delete"?[B.keys]:B.values.length<50?[Tu(I,B).filter(function(Me){return Me}),B.values]:[],Ee=Re[0],Ce=Re[1],Re=B.trans._cache;return u(Ee)?(le.addKeys(Ee),(Re=Te==="delete"||Ee.length===Ce.length?sf(Ee,Re):null)||be.addKeys(Ee),(Re||Ce)&&(K=L,U=Re,Y=Ce,b.indexes.forEach(function(Me){var Be=K(Me.name||"");function Qe(Je){return Je!=null?Me.extractKey(Je):null}function ct(Je){return Me.multiEntry&&u(Je)?Je.forEach(function(Nt){return Be.addKey(Nt)}):Be.addKey(Je)}(U||Y).forEach(function(Je,Xt){var Ye=U&&Qe(U[Xt]),Xt=Y&&Qe(Y[Xt]);lt(Ye,Xt)!==0&&(Ye!=null&&ct(Ye),Xt!=null&&ct(Xt))})}))):Ee?(Ce={from:(Ce=Ee.lower)!==null&&Ce!==void 0?Ce:a.MIN_KEY,to:(Ce=Ee.upper)!==null&&Ce!==void 0?Ce:a.MAX_KEY},be.add(Ce),le.add(Ce)):(le.add(d),be.add(d),b.indexes.forEach(function(Me){return L(Me.name).add(d)})),y.mutate(B).then(function(Me){return!Ee||B.type!=="add"&&B.type!=="put"||(le.addKeys(Me.results),F&&F.forEach(function(Be){for(var Qe=B.values.map(function(Ye){return Be.extractKey(Ye)}),ct=Be.keyPath.findIndex(function(Ye){return Ye===I.keyPath}),Je=0,Nt=Me.results.length;Je<Nt;++Je)Qe[Je][ct]=Me.results[Je];L(Be.name).addKeys(Qe)})),oe.mutatedParts=ds(oe.mutatedParts||{},ue),Me})}}),D=function(L){var K=L.query,L=K.index,K=K.range;return[L,new Yt((L=K.lower)!==null&&L!==void 0?L:a.MIN_KEY,(K=K.upper)!==null&&K!==void 0?K:a.MAX_KEY)]},G={get:function(B){return[I,new Yt(B.key)]},getMany:function(B){return[I,new Yt().addKeys(B.keys)]},count:D,query:D,openCursor:D};return s(G).forEach(function(B){Z[B]=function(L){var K=He.subscr,U=!!K,Y=af(He,y)&&uf(B,L)?L.obsSet={}:K;if(U){var oe=function(Ce){return Ce="idb://".concat(l,"/").concat(g,"/").concat(Ce),Y[Ce]||(Y[Ce]=new Yt)},ue=oe(""),le=oe(":dels"),K=G[B](L),U=K[0],K=K[1];if((B==="query"&&U.isPrimaryKey&&!L.values?le:oe(U.name||"")).add(K),!U.isPrimaryKey){if(B!=="count"){var be=B==="query"&&z&&L.values&&y.query(r(r({},L),{values:!1}));return y[B].apply(this,arguments).then(function(Ce){if(B==="query"){if(z&&L.values)return be.then(function(Qe){return Qe=Qe.result,ue.addKeys(Qe),Ce});var Re=L.values?Ce.result.map(O):Ce.result;(L.values?ue:le).addKeys(Re)}else if(B==="openCursor"){var Me=Ce,Be=L.values;return Me&&Object.create(Me,{key:{get:function(){return le.addKey(Me.primaryKey),Me.key}},primaryKey:{get:function(){var Qe=Me.primaryKey;return le.addKey(Qe),Qe}},value:{get:function(){return Be&&ue.addKey(Me.primaryKey),Me.value}}})}return Ce})}le.add(d)}}return y[B].apply(this,arguments)}}),Z}})}};function lf(a,l,d){if(d.numFailures===0)return l;if(l.type==="deleteRange")return null;var g=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return d.numFailures===g?null:(l=r({},l),u(l.keys)&&(l.keys=l.keys.filter(function(y,b){return!(b in d.failures)})),"values"in l&&u(l.values)&&(l.values=l.values.filter(function(y,b){return!(b in d.failures)})),l)}function Nu(a,l){return d=a,((g=l).lower===void 0||(g.lowerOpen?0<lt(d,g.lower):0<=lt(d,g.lower)))&&(a=a,(l=l).upper===void 0||(l.upperOpen?lt(a,l.upper)<0:lt(a,l.upper)<=0));var d,g}function cf(a,l,G,g,y,b){if(!G||G.length===0)return a;var I=l.query.index,O=I.multiEntry,z=l.query.range,F=g.schema.primaryKey.extractKey,Z=I.extractKey,D=(I.lowLevelIndex||I).extractKey,G=G.reduce(function(B,L){var K=B,U=[];if(L.type==="add"||L.type==="put")for(var Y=new Yt,oe=L.values.length-1;0<=oe;--oe){var ue,le=L.values[oe],be=F(le);Y.hasKey(be)||(ue=Z(le),(O&&u(ue)?ue.some(function(Me){return Nu(Me,z)}):Nu(ue,z))&&(Y.addKey(be),U.push(le)))}switch(L.type){case"add":var Te=new Yt().addKeys(l.values?B.map(function(Be){return F(Be)}):B),K=B.concat(l.values?U.filter(function(Be){return Be=F(Be),!Te.hasKey(Be)&&(Te.addKey(Be),!0)}):U.map(function(Be){return F(Be)}).filter(function(Be){return!Te.hasKey(Be)&&(Te.addKey(Be),!0)}));break;case"put":var Ee=new Yt().addKeys(L.values.map(function(Be){return F(Be)}));K=B.filter(function(Be){return!Ee.hasKey(l.values?F(Be):Be)}).concat(l.values?U:U.map(function(Be){return F(Be)}));break;case"delete":var Ce=new Yt().addKeys(L.keys);K=B.filter(function(Be){return!Ce.hasKey(l.values?F(Be):Be)});break;case"deleteRange":var Re=L.range;K=B.filter(function(Be){return!Nu(F(Be),Re)})}return K},a);return G===a?a:(G.sort(function(B,L){return lt(D(B),D(L))||lt(F(B),F(L))}),l.limit&&l.limit<1/0&&(G.length>l.limit?G.length=l.limit:a.length===l.limit&&G.length<l.limit&&(y.dirty=!0)),b?Object.freeze(G):G)}function ff(a,l){return lt(a.lower,l.lower)===0&&lt(a.upper,l.upper)===0&&!!a.lowerOpen==!!l.lowerOpen&&!!a.upperOpen==!!l.upperOpen}function vv(a,l){return(function(d,g,y,b){if(d===void 0)return g!==void 0?-1:0;if(g===void 0)return 1;if((g=lt(d,g))===0){if(y&&b)return 0;if(y)return 1;if(b)return-1}return g})(a.lower,l.lower,a.lowerOpen,l.lowerOpen)<=0&&0<=(function(d,g,y,b){if(d===void 0)return g!==void 0?1:0;if(g===void 0)return-1;if((g=lt(d,g))===0){if(y&&b)return 0;if(y)return-1;if(b)return 1}return g})(a.upper,l.upper,a.upperOpen,l.upperOpen)}function yv(a,l,d,g){a.subscribers.add(d),g.addEventListener("abort",function(){var y,b;a.subscribers.delete(d),a.subscribers.size===0&&(y=a,b=l,setTimeout(function(){y.subscribers.size===0&&fe(b,y)},3e3))})}var _v={stack:"dbcore",level:0,name:"Cache",create:function(a){var l=a.schema.name;return r(r({},a),{transaction:function(d,g,y){var b,I,O=a.transaction(d,g,y);return g==="readwrite"&&(I=(b=new AbortController).signal,y=function(z){return function(){if(b.abort(),g==="readwrite"){for(var F=new Set,Z=0,D=d;Z<D.length;Z++){var G=D[Z],B=Fr["idb://".concat(l,"/").concat(G)];if(B){var L=a.table(G),K=B.optimisticOps.filter(function(Be){return Be.trans===O});if(O._explicit&&z&&O.mutatedParts)for(var U=0,Y=Object.values(B.queries.query);U<Y.length;U++)for(var oe=0,ue=(Te=Y[U]).slice();oe<ue.length;oe++)Su((Ee=ue[oe]).obsSet,O.mutatedParts)&&(fe(Te,Ee),Ee.subscribers.forEach(function(Be){return F.add(Be)}));else if(0<K.length){B.optimisticOps=B.optimisticOps.filter(function(Be){return Be.trans!==O});for(var le=0,be=Object.values(B.queries.query);le<be.length;le++)for(var Te,Ee,Ce,Re=0,Me=(Te=be[le]).slice();Re<Me.length;Re++)(Ee=Me[Re]).res!=null&&O.mutatedParts&&(z&&!Ee.dirty?(Ce=Object.isFrozen(Ee.res),Ce=cf(Ee.res,Ee.req,K,L,Ee,Ce),Ee.dirty?(fe(Te,Ee),Ee.subscribers.forEach(function(Be){return F.add(Be)})):Ce!==Ee.res&&(Ee.res=Ce,Ee.promise=ze.resolve({result:Ce}))):(Ee.dirty&&fe(Te,Ee),Ee.subscribers.forEach(function(Be){return F.add(Be)})))}}}F.forEach(function(Be){return Be()})}}},O.addEventListener("abort",y(!1),{signal:I}),O.addEventListener("error",y(!1),{signal:I}),O.addEventListener("complete",y(!0),{signal:I})),O},table:function(d){var g=a.table(d),y=g.schema.primaryKey;return r(r({},g),{mutate:function(b){var I=He.trans;if(y.outbound||I.db._options.cache==="disabled"||I.explicit||I.idbtrans.mode!=="readwrite")return g.mutate(b);var O=Fr["idb://".concat(l,"/").concat(d)];return O?(I=g.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||Tu(y,b).some(function(z){return z==null}))?(O.optimisticOps.push(b),b.mutatedParts&&hs(b.mutatedParts),I.then(function(z){0<z.numFailures&&(fe(O.optimisticOps,b),(z=lf(0,b,z))&&O.optimisticOps.push(z),b.mutatedParts&&hs(b.mutatedParts))}),I.catch(function(){fe(O.optimisticOps,b),b.mutatedParts&&hs(b.mutatedParts)})):I.then(function(z){var F=lf(0,r(r({},b),{values:b.values.map(function(Z,D){var G;return z.failures[D]?Z:(Z=(G=y.keyPath)!==null&&G!==void 0&&G.includes(".")?Ie(Z):r({},Z),q(Z,y.keyPath,z.results[D]),Z)})}),z);O.optimisticOps.push(F),queueMicrotask(function(){return b.mutatedParts&&hs(b.mutatedParts)})}),I):g.mutate(b)},query:function(b){if(!af(He,g)||!uf("query",b))return g.query(b);var I=((F=He.trans)===null||F===void 0?void 0:F.db._options.cache)==="immutable",D=He,O=D.requery,z=D.signal,F=(function(L,K,U,Y){var oe=Fr["idb://".concat(L,"/").concat(K)];if(!oe)return[];if(!(K=oe.queries[U]))return[null,!1,oe,null];var ue=K[(Y.query?Y.query.index.name:null)||""];if(!ue)return[null,!1,oe,null];switch(U){case"query":var le=ue.find(function(be){return be.req.limit===Y.limit&&be.req.values===Y.values&&ff(be.req.query.range,Y.query.range)});return le?[le,!0,oe,ue]:[ue.find(function(be){return("limit"in be.req?be.req.limit:1/0)>=Y.limit&&(!Y.values||be.req.values)&&vv(be.req.query.range,Y.query.range)}),!1,oe,ue];case"count":return le=ue.find(function(be){return ff(be.req.query.range,Y.query.range)}),[le,!!le,oe,ue]}})(l,d,"query",b),Z=F[0],D=F[1],G=F[2],B=F[3];return Z&&D?Z.obsSet=b.obsSet:(D=g.query(b).then(function(L){var K=L.result;if(Z&&(Z.res=K),I){for(var U=0,Y=K.length;U<Y;++U)Object.freeze(K[U]);Object.freeze(K)}else L.result=Ie(K);return L}).catch(function(L){return B&&Z&&fe(B,Z),Promise.reject(L)}),Z={obsSet:b.obsSet,promise:D,subscribers:new Set,type:"query",req:b,dirty:!1},B?B.push(Z):(B=[Z],(G=G||(Fr["idb://".concat(l,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=B)),yv(Z,B,O,z),Z.promise.then(function(L){return{result:cf(L.result,b,G?.optimisticOps,g,Z,I)}})}})}})}};function gs(a,l){return new Proxy(a,{get:function(d,g,y){return g==="db"?l:Reflect.get(d,g,y)}})}var Yn=(Dt.prototype.version=function(a){if(isNaN(a)||a<.1)throw new J.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new J.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var l=this._versions,d=l.filter(function(g){return g._cfg.version===a})[0];return d||(d=new this.Version(a),l.push(d),l.sort(uv),d.stores({}),this._state.autoSchema=!1,d)},Dt.prototype._whenReady=function(a){var l=this;return this.idbdb&&(this._state.openComplete||He.letThrough||this._vip)?a():new ze(function(d,g){if(l._state.openComplete)return g(new J.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void g(new J.DatabaseClosed);l.open().catch(S)}l._state.dbReadyPromise.then(d,g)}).then(a)},Dt.prototype.use=function(a){var l=a.stack,d=a.create,g=a.level,y=a.name;return y&&this.unuse({stack:l,name:y}),a=this._middlewares[l]||(this._middlewares[l]=[]),a.push({stack:l,create:d,level:g??10,name:y}),a.sort(function(b,I){return b.level-I.level}),this},Dt.prototype.unuse=function(a){var l=a.stack,d=a.name,g=a.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(y){return g?y.create!==g:!!d&&y.name!==d})),this},Dt.prototype.open=function(){var a=this;return Rr(Tt,function(){return dv(a)})},Dt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var a=this._state,l=ho.indexOf(this);if(0<=l&&ho.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new ze(function(d){a.dbReadyResolve=d}),a.openCanceller=new ze(function(d,g){a.cancelOpen=g}))},Dt.prototype.close=function(d){var l=(d===void 0?{disableAutoOpen:!0}:d).disableAutoOpen,d=this._state;l?(d.isBeingOpened&&d.cancelOpen(new J.DatabaseClosed),this._close(),d.autoOpen=!1,d.dbOpenError=new J.DatabaseClosed):(this._close(),d.autoOpen=this._options.autoOpen||d.isBeingOpened,d.openComplete=!1,d.dbOpenError=null)},Dt.prototype.delete=function(a){var l=this;a===void 0&&(a={disableAutoOpen:!0});var d=0<arguments.length&&typeof arguments[0]!="object",g=this._state;return new ze(function(y,b){function I(){l.close(a);var O=l._deps.indexedDB.deleteDatabase(l.name);O.onsuccess=kt(function(){var z,F,Z;z=l._deps,F=l.name,Z=z.indexedDB,z=z.IDBKeyRange,bu(Z)||F===es||_u(Z,z).delete(F).catch(S),y()}),O.onerror=Mn(b),O.onblocked=l._fireOnBlocked}if(d)throw new J.InvalidArgument("Invalid closeOptions argument to db.delete()");g.isBeingOpened?g.dbReadyPromise.then(I):I()})},Dt.prototype.backendDB=function(){return this.idbdb},Dt.prototype.isOpen=function(){return this.idbdb!==null},Dt.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},Dt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Dt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Dt.prototype,"tables",{get:function(){var a=this;return s(this._allTables).map(function(l){return a._allTables[l]})},enumerable:!1,configurable:!0}),Dt.prototype.transaction=function(){var a=(function(l,d,g){var y=arguments.length;if(y<2)throw new J.InvalidArgument("Too few arguments");for(var b=new Array(y-1);--y;)b[y-1]=arguments[y];return g=b.pop(),[l,ie(b),g]}).apply(this,arguments);return this._transaction.apply(this,a)},Dt.prototype._transaction=function(a,l,d){var g=this,y=He.trans;y&&y.db===this&&a.indexOf("!")===-1||(y=null);var b,I,O=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(I=l.map(function(F){if(F=F instanceof g.Table?F.name:F,typeof F!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return F}),a=="r"||a===uu)b=uu;else{if(a!="rw"&&a!=lu)throw new J.InvalidArgument("Invalid transaction mode: "+a);b=lu}if(y){if(y.mode===uu&&b===lu){if(!O)throw new J.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");y=null}y&&I.forEach(function(F){if(y&&y.storeNames.indexOf(F)===-1){if(!O)throw new J.SubTransaction("Table "+F+" not included in parent transaction.");y=null}}),O&&y&&!y.active&&(y=null)}}catch(F){return y?y._promise(null,function(Z,D){D(F)}):Mt(F)}var z=(function F(Z,D,G,B,L){return ze.resolve().then(function(){var K=He.transless||He,U=Z._createTransaction(D,G,Z._dbSchema,B);if(U.explicit=!0,K={trans:U,transless:K},B)U.idbtrans=B.idbtrans;else try{U.create(),U.idbtrans._explicit=!0,Z._state.PR1398_maxLoop=3}catch(ue){return ue.name===ee.InvalidState&&Z.isOpen()&&0<--Z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Z.close({disableAutoOpen:!1}),Z.open().then(function(){return F(Z,D,G,null,L)})):Mt(ue)}var Y,oe=Ae(L);return oe&&fo(),K=ze.follow(function(){var ue;(Y=L.call(U,U))&&(oe?(ue=mr.bind(null,null),Y.then(ue,ue)):typeof Y.next=="function"&&typeof Y.throw=="function"&&(Y=Iu(Y)))},K),(Y&&typeof Y.then=="function"?ze.resolve(Y).then(function(ue){return U.active?ue:Mt(new J.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):K.then(function(){return Y})).then(function(ue){return B&&U._resolve(),U._completion.then(function(){return ue})}).catch(function(ue){return U._reject(ue),Mt(ue)})})}).bind(null,this,b,I,y,d);return y?y._promise(b,z,"lock"):He.trans?Rr(He.transless,function(){return g._whenReady(z)}):this._whenReady(z)},Dt.prototype.table=function(a){if(!p(this._allTables,a))throw new J.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},Dt);function Dt(a,l){var d=this;this._middlewares={},this.verno=0;var g=Dt.dependencies;this._options=l=r({addons:Dt.addons,autoOpen:!0,indexedDB:g.indexedDB,IDBKeyRange:g.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},g=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var y,b,I,O,z,F={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:S,dbReadyPromise:null,cancelOpen:S,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};F.dbReadyPromise=new ze(function(D){F.dbReadyResolve=D}),F.openCanceller=new ze(function(D,G){F.cancelOpen=G}),this._state=F,this.name=a,this.on=Ko(this,"populate","blocked","versionchange","close",{ready:[te,S]}),this.once=function(D,G){var B=function(){for(var L=[],K=0;K<arguments.length;K++)L[K]=arguments[K];d.on(D).unsubscribe(B),G.apply(d,L)};return d.on(D,B)},this.on.ready.subscribe=P(this.on.ready.subscribe,function(D){return function(G,B){Dt.vip(function(){var L,K=d._state;K.openComplete?(K.dbOpenError||ze.resolve().then(G),B&&D(G)):K.onReadyBeingFired?(K.onReadyBeingFired.push(G),B&&D(G)):(D(G),L=d,B||D(function U(){L.on.ready.unsubscribe(G),L.on.ready.unsubscribe(U)}))})}}),this.Collection=(y=this,qo(tv.prototype,function(Y,U){this.db=y;var B=jc,L=null;if(U)try{B=U()}catch(oe){L=oe}var K=Y._ctx,U=K.table,Y=U.hook.reading.fire;this._ctx={table:U,index:K.index,isPrimKey:!K.index||U.schema.primKey.keyPath&&K.index===U.schema.primKey.name,range:B,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:L,or:K.or,valueMapper:Y!==T?Y:null}})),this.Table=(b=this,qo(Zc.prototype,function(D,G,B){this.db=b,this._tx=B,this.name=D,this.schema=G,this.hook=b._allTables[D]?b._allTables[D].hook:Ko(null,{creating:[C,S],reading:[_,T],updating:[V,S],deleting:[x,S]})})),this.Transaction=(I=this,qo(ov.prototype,function(D,G,B,L,K){var U=this;D!=="readonly"&&G.forEach(function(Y){Y=(Y=B[Y])===null||Y===void 0?void 0:Y.yProps,Y&&(G=G.concat(Y.map(function(oe){return oe.updatesTable})))}),this.db=I,this.mode=D,this.storeNames=G,this.schema=B,this.chromeTransactionDurability=L,this.idbtrans=null,this.on=Ko(this,"complete","error","abort"),this.parent=K||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ze(function(Y,oe){U._resolve=Y,U._reject=oe}),this._completion.then(function(){U.active=!1,U.on.complete.fire()},function(Y){var oe=U.active;return U.active=!1,U.on.error.fire(Y),U.parent?U.parent._reject(Y):oe&&U.idbtrans&&U.idbtrans.abort(),Mt(Y)})})),this.Version=(O=this,qo(fv.prototype,function(D){this.db=O,this._cfg={version:D,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(z=this,qo(Yc.prototype,function(D,G,B){if(this.db=z,this._ctx={table:D,index:G===":id"?null:G,or:B},this._cmp=this._ascending=lt,this._descending=function(L,K){return lt(K,L)},this._max=function(L,K){return 0<lt(L,K)?L:K},this._min=function(L,K){return lt(L,K)<0?L:K},this._IDBKeyRange=z._deps.IDBKeyRange,!this._IDBKeyRange)throw new J.MissingAPI})),this.on("versionchange",function(D){0<D.newVersion?console.warn("Another connection wants to upgrade database '".concat(d.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(d.name,"'. Closing db now to resume the delete request.")),d.close({disableAutoOpen:!1})}),this.on("blocked",function(D){!D.newVersion||D.newVersion<D.oldVersion?console.warn("Dexie.delete('".concat(d.name,"') was blocked")):console.warn("Upgrade '".concat(d.name,"' blocked by other connection holding version ").concat(D.oldVersion/10))}),this._maxKey=Xo(l.IDBKeyRange),this._createTransaction=function(D,G,B,L){return new d.Transaction(D,G,B,d._options.chromeTransactionDurability,L)},this._fireOnBlocked=function(D){d.on("blocked").fire(D),ho.filter(function(G){return G.name===d.name&&G!==d&&!G._state.vcFired}).map(function(G){return G.on("versionchange").fire(D)})},this.use(gv),this.use(_v),this.use(mv),this.use(hv),this.use(pv);var Z=new Proxy(this,{get:function(D,G,B){if(G==="_vip")return!0;if(G==="table")return function(K){return gs(d.table(K),Z)};var L=Reflect.get(D,G,B);return L instanceof Zc?gs(L,Z):G==="tables"?L.map(function(K){return gs(K,Z)}):G==="_createTransaction"?function(){return gs(L.apply(this,arguments),Z)}:L}});this.vip=Z,g.forEach(function(D){return D(d)})}var ms,_n=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",bv=($u.prototype.subscribe=function(a,l,d){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:l,complete:d})},$u.prototype[_n]=function(){return this},$u);function $u(a){this._subscribe=a}try{ms={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{ms={indexedDB:null,IDBKeyRange:null}}function df(a){var l,d=!1,g=new bv(function(y){var b=Ae(a),I,O=!1,z={},F={},Z={get closed(){return O},unsubscribe:function(){O||(O=!0,I&&I.abort(),D&&_r.storagemutated.unsubscribe(B))}};y.start&&y.start(Z);var D=!1,G=function(){return au(L)},B=function(K){ds(z,K),Su(F,z)&&G()},L=function(){var K,U,Y;!O&&ms.indexedDB&&(z={},K={},I&&I.abort(),I=new AbortController,Y=(function(oe){var ue=lo();try{b&&fo();var le=gr(a,oe);return le=b?le.finally(mr):le}finally{ue&&co()}})(U={subscr:K,signal:I.signal,requery:G,querier:a,trans:null}),Promise.resolve(Y).then(function(oe){d=!0,l=oe,O||U.signal.aborted||(z={},(function(ue){for(var le in ue)if(p(ue,le))return;return 1})(F=K)||D||(_r(Yo,B),D=!0),au(function(){return!O&&y.next&&y.next(oe)}))},function(oe){d=!1,["DatabaseClosedError","AbortError"].includes(oe?.name)||O||au(function(){O||y.error&&y.error(oe)})}))};return setTimeout(G,0),Z});return g.hasValue=function(){return d},g.getValue=function(){return l},g}var jr=Yn;function Ou(a){var l=br;try{br=!0,_r.storagemutated.fire(a),Cu(a,!0)}finally{br=l}}v(jr,r(r({},Ze),{delete:function(a){return new jr(a,{addons:[]}).delete()},exists:function(a){return new jr(a,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return l=jr.dependencies,d=l.indexedDB,l=l.IDBKeyRange,(bu(d)?Promise.resolve(d.databases()).then(function(g){return g.map(function(y){return y.name}).filter(function(y){return y!==es})}):_u(d,l).toCollection().primaryKeys()).then(a)}catch{return Mt(new J.MissingAPI)}var l,d},defineClass:function(){return function(a){c(this,a)}},ignoreTransaction:function(a){return He.trans?Rr(He.transless,a):a()},vip:wu,async:function(a){return function(){try{var l=Iu(a.apply(this,arguments));return l&&typeof l.then=="function"?l:ze.resolve(l)}catch(d){return Mt(d)}}},spawn:function(a,l,d){try{var g=Iu(a.apply(d,l||[]));return g&&typeof g.then=="function"?g:ze.resolve(g)}catch(y){return Mt(y)}},currentTransaction:{get:function(){return He.trans||null}},waitFor:function(a,l){return l=ze.resolve(typeof a=="function"?jr.ignoreTransaction(a):a).timeout(l||6e4),He.trans?He.trans.waitFor(l):l},Promise:ze,debug:{get:function(){return X},set:function(a){ge(a)}},derive:k,extend:c,props:v,override:P,Events:Ko,on:_r,liveQuery:df,extendObservabilitySet:ds,getByKeyPath:ce,setByKeyPath:q,delByKeyPath:function(a,l){typeof l=="string"?q(a,l,void 0):"length"in l&&[].map.call(l,function(d){q(a,d,void 0)})},shallowClone:W,deepClone:Ie,getObjectDiff:Pu,cmp:lt,asap:re,minKey:-1/0,addons:[],connections:ho,errnames:ee,dependencies:ms,cache:Fr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(a){return parseInt(a)}).reduce(function(a,l,d){return a+l/Math.pow(10,2*d)})})),jr.maxKey=Xo(jr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(_r(Yo,function(a){br||(a=new CustomEvent(du,{detail:a}),br=!0,dispatchEvent(a),br=!1)}),addEventListener(du,function(a){a=a.detail,br||Ou(a)}));var vo,br=!1,hf=function(){};return typeof BroadcastChannel<"u"&&((hf=function(){(vo=new BroadcastChannel(du)).onmessage=function(a){return a.data&&Ou(a.data)}})(),typeof vo.unref=="function"&&vo.unref(),_r(Yo,function(a){br||vo.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!Yn.disableBfCache&&a.persisted){X&&console.debug("Dexie: handling persisted pagehide"),vo?.close();for(var l=0,d=ho;l<d.length;l++)d[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!Yn.disableBfCache&&a.persisted&&(X&&console.debug("Dexie: handling persisted pageshow"),hf(),Ou({all:new Yt(-1/0,[[]])}))})),ze.rejectionMapper=function(a,l){return!a||a instanceof Ue||a instanceof TypeError||a instanceof SyntaxError||!a.name||!we[a.name]?a:(l=new we[a.name](l||a.message,a),"stack"in a&&E(l,"stack",{get:function(){return this.inner.stack}}),l)},ge(X),r(Yn,Object.freeze({__proto__:null,Dexie:Yn,liveQuery:df,Entity:Vc,cmp:lt,PropModification:Go,replacePrefix:function(a,l){return new Go({replacePrefix:[a,l]})},add:function(a){return new Go({add:a})},remove:function(a){return new Go({remove:a})},default:Yn,RangeSet:Yt,mergeRanges:ei,rangesOverlap:tf}),{default:Yn}),Yn})})(Hs)),Hs.exports}var qk=Kk();const Ll=Zk(qk),uh=Symbol.for("Dexie"),ga=globalThis[uh]||(globalThis[uh]=Ll);if(Ll.semVer!==ga.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ll.semVer} and ${ga.semVer}`);const{liveQuery:pO,mergeRanges:gO,rangesOverlap:mO,RangeSet:vO,cmp:yO,Entity:_O,PropModification:bO,replacePrefix:wO,add:xO,remove:SO,DexieYProvider:EO}=ga;class Gk extends ga{projects;constructor(){super("streamline-flow-db"),this.version(1).stores({projects:"id, schemaVersion, updatedAt"})}}const ma=new Gk;function pe(e,t,n){function r(u,c){var f;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(f=u._zod).traits??(f.traits=new Set),u._zod.traits.add(e),t(u,c);for(const h in s.prototype)h in u||Object.defineProperty(u,h,{value:s.prototype[h].bind(u)});u._zod.constr=s,u._zod.def=c}const o=n?.Parent??Object;class i extends o{}Object.defineProperty(i,"name",{value:e});function s(u){var c;const f=n?.Parent?new i:this;r(f,u),(c=f._zod).deferred??(c.deferred=[]);for(const h of f._zod.deferred)h();return f}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:u=>n?.Parent&&u instanceof n.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class Ao extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Em extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const km={};function Ar(e){return km}function Wk(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function Hl(e,t){return typeof t=="bigint"?t.toString():t}function Pc(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Tc(e){return e==null}function Nc(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function Yk(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c?.[1]&&(o=Number.parseInt(c[1]))}const i=n>o?n:o,s=Number.parseInt(e.toFixed(i).replace(".","")),u=Number.parseInt(t.toFixed(i).replace(".",""));return s%u/10**i}const lh=Symbol("evaluating");function wt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==lh)return r===void 0&&(r=lh,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function so(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ao(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function ch(e){return JSON.stringify(e)}const Cm="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function va(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Xk=Pc(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ho(e){if(va(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(va(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Im(e){return Ho(e)?{...e}:Array.isArray(e)?[...e]:e}const Jk=new Set(["string","number","symbol"]);function Qa(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Dr(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function Ke(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Qk(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const eC={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function tC(e,t){const n=e._zod.def,r=ao(e._zod.def,{get shape(){const o={};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(o[i]=n.shape[i])}return so(this,"shape",o),o},checks:[]});return Dr(e,r)}function nC(e,t){const n=e._zod.def,r=ao(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete o[i]}return so(this,"shape",o),o},checks:[]});return Dr(e,r)}function rC(e,t){if(!Ho(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=ao(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return so(this,"shape",i),i},checks:[]});return Dr(e,o)}function oC(e,t){if(!Ho(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return so(this,"shape",r),r},checks:e._zod.def.checks};return Dr(e,n)}function iC(e,t){const n=ao(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return so(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Dr(e,n)}function sC(e,t,n){const r=ao(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const s in n){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(i[s]=e?new e({type:"optional",innerType:o[s]}):o[s])}else for(const s in o)i[s]=e?new e({type:"optional",innerType:o[s]}):o[s];return so(this,"shape",i),i},checks:[]});return Dr(t,r)}function aC(e,t,n){const r=ao(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const s in n){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(i[s]=new e({type:"nonoptional",innerType:o[s]}))}else for(const s in o)i[s]=new e({type:"nonoptional",innerType:o[s]});return so(this,"shape",i),i},checks:[]});return Dr(t,r)}function So(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Eo(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ns(e){return typeof e=="string"?e:e?.message}function Mr(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=Ns(e.inst?._zod.def?.error?.(e))??Ns(t?.error?.(e))??Ns(n.customError?.(e))??Ns(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function $c(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Vi(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Pm=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Hl,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Tm=pe("$ZodError",Pm),Nm=pe("$ZodError",Pm,{Parent:Error});function uC(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function lC(e,t){const n=t||function(i){return i.message},r={_errors:[]},o=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(u=>o({issues:u}));else if(s.code==="invalid_key")o({issues:s.issues});else if(s.code==="invalid_element")o({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let u=r,c=0;for(;c<s.path.length;){const f=s.path[c];c===s.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(s))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return o(e),r}const Oc=e=>(t,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new Ao;if(s.issues.length){const u=new(o?.Err??e)(s.issues.map(c=>Mr(c,i,Ar())));throw Cm(u,o?.callee),u}return s.value},Ac=e=>async(t,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){const u=new(o?.Err??e)(s.issues.map(c=>Mr(c,i,Ar())));throw Cm(u,o?.callee),u}return s.value},eu=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new Ao;return i.issues.length?{success:!1,error:new(e??Tm)(i.issues.map(s=>Mr(s,o,Ar())))}:{success:!0,data:i.value}},cC=eu(Nm),tu=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(s=>Mr(s,o,Ar())))}:{success:!0,data:i.value}},fC=tu(Nm),dC=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Oc(e)(t,n,o)},hC=e=>(t,n,r)=>Oc(e)(t,n,r),pC=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ac(e)(t,n,o)},gC=e=>async(t,n,r)=>Ac(e)(t,n,r),mC=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return eu(e)(t,n,o)},vC=e=>(t,n,r)=>eu(e)(t,n,r),yC=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return tu(e)(t,n,o)},_C=e=>async(t,n,r)=>tu(e)(t,n,r),bC=/^[cC][^\s-]{8,}$/,wC=/^[0-9a-z]+$/,xC=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,SC=/^[0-9a-vA-V]{20}$/,EC=/^[A-Za-z0-9]{27}$/,kC=/^[a-zA-Z0-9_-]{21}$/,CC=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,IC=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,fh=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,PC=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,TC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function NC(){return new RegExp(TC,"u")}const $C=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,AC=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,MC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,DC=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,$m=/^[A-Za-z0-9_-]*$/,RC=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,zC=/^\+(?:[0-9]){6,14}[0-9]$/,Om="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",BC=new RegExp(`^${Om}$`);function Am(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function FC(e){return new RegExp(`^${Am(e)}$`)}function jC(e){const t=Am({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Om}T(?:${r})$`)}const VC=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},LC=/^-?\d+$/,HC=/^-?\d+(?:\.\d+)?/,ZC=/^(?:true|false)$/i,UC=/^[^A-Z]*$/,KC=/^[^a-z]*$/,gn=pe("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Mm={number:"number",bigint:"bigint",object:"date"},Dm=pe("$ZodCheckLessThan",(e,t)=>{gn.init(e,t);const n=Mm[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Rm=pe("$ZodCheckGreaterThan",(e,t)=>{gn.init(e,t);const n=Mm[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),qC=pe("$ZodCheckMultipleOf",(e,t)=>{gn.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):Yk(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),GC=pe("$ZodCheckNumberFormat",(e,t)=>{gn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[o,i]=eC[t.format];e._zod.onattach.push(s=>{const u=s._zod.bag;u.format=t.format,u.minimum=o,u.maximum=i,n&&(u.pattern=LC)}),e._zod.check=s=>{const u=s.value;if(n){if(!Number.isInteger(u)){s.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?s.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):s.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}u<o&&s.issues.push({origin:"number",input:u,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),u>i&&s.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:e})}}),WC=pe("$ZodCheckMaxLength",(e,t)=>{var n;gn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Tc(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const s=$c(o);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),YC=pe("$ZodCheckMinLength",(e,t)=>{var n;gn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Tc(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const s=$c(o);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),XC=pe("$ZodCheckLengthEquals",(e,t)=>{var n;gn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Tc(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,i=o.length;if(i===t.length)return;const s=$c(o),u=i>t.length;r.issues.push({origin:s,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),nu=pe("$ZodCheckStringFormat",(e,t)=>{var n,r;gn.init(e,t),e._zod.onattach.push(o=>{const i=o._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),JC=pe("$ZodCheckRegex",(e,t)=>{nu.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),QC=pe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=UC),nu.init(e,t)}),eI=pe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=KC),nu.init(e,t)}),tI=pe("$ZodCheckIncludes",(e,t)=>{gn.init(e,t);const n=Qa(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),nI=pe("$ZodCheckStartsWith",(e,t)=>{gn.init(e,t);const n=new RegExp(`^${Qa(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),rI=pe("$ZodCheckEndsWith",(e,t)=>{gn.init(e,t);const n=new RegExp(`.*${Qa(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),oI=pe("$ZodCheckOverwrite",(e,t)=>{gn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class iI{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),o=Math.min(...r.map(s=>s.length-s.trimStart().length)),i=r.map(s=>s.slice(o)).map(s=>" ".repeat(this.indent*2)+s);for(const s of i)this.content.push(s)}compile(){const t=Function,n=this?.args,o=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...n,o.join(`
`))}}const sI={major:4,minor:1,patch:11},At=pe("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=sI;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const i of o._zod.onattach)i(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,u,c)=>{let f=So(s),h;for(const p of u){if(p._zod.def.when){if(!p._zod.def.when(s))continue}else if(f)continue;const v=s.issues.length,m=p._zod.check(s);if(m instanceof Promise&&c?.async===!1)throw new Ao;if(h||m instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await m,s.issues.length!==v&&(f||(f=So(s,v)))});else{if(s.issues.length===v)continue;f||(f=So(s,v))}}return h?h.then(()=>s):s},i=(s,u,c)=>{if(So(s))return s.aborted=!0,s;const f=o(u,r,c);if(f instanceof Promise){if(c.async===!1)throw new Ao;return f.then(h=>e._zod.parse(h,c))}return e._zod.parse(f,c)};e._zod.run=(s,u)=>{if(u.skipChecks)return e._zod.parse(s,u);if(u.direction==="backward"){const f=e._zod.parse({value:s.value,issues:[]},{...u,skipChecks:!0});return f instanceof Promise?f.then(h=>i(h,s,u)):i(f,s,u)}const c=e._zod.parse(s,u);if(c instanceof Promise){if(u.async===!1)throw new Ao;return c.then(f=>o(f,r,u))}return o(c,r,u)}}e["~standard"]={validate:o=>{try{const i=cC(e,o);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return fC(e,o).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),Mc=pe("$ZodString",(e,t)=>{At.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??VC(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Ct=pe("$ZodStringFormat",(e,t)=>{nu.init(e,t),Mc.init(e,t)}),aI=pe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=IC),Ct.init(e,t)}),uI=pe("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=fh(r))}else t.pattern??(t.pattern=fh());Ct.init(e,t)}),lI=pe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=PC),Ct.init(e,t)}),cI=pe("$ZodURL",(e,t)=>{Ct.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:RC.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),fI=pe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=NC()),Ct.init(e,t)}),dI=pe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=kC),Ct.init(e,t)}),hI=pe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=bC),Ct.init(e,t)}),pI=pe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=wC),Ct.init(e,t)}),gI=pe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=xC),Ct.init(e,t)}),mI=pe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=SC),Ct.init(e,t)}),vI=pe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=EC),Ct.init(e,t)}),yI=pe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=jC(t)),Ct.init(e,t)}),_I=pe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=BC),Ct.init(e,t)}),bI=pe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=FC(t)),Ct.init(e,t)}),wI=pe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=CC),Ct.init(e,t)}),xI=pe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=$C),Ct.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),SI=pe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=OC),Ct.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),EI=pe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=AC),Ct.init(e,t)}),kI=pe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=MC),Ct.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,i]=r;if(!i)throw new Error;const s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function zm(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const CI=pe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=DC),Ct.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{zm(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function II(e){if(!$m.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return zm(n)}const PI=pe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=$m),Ct.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{II(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),TI=pe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=zC),Ct.init(e,t)});function NI(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const $I=pe("$ZodJWT",(e,t)=>{Ct.init(e,t),e._zod.check=n=>{NI(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Bm=pe("$ZodNumber",(e,t)=>{At.init(e,t),e._zod.pattern=e._zod.bag.pattern??HC,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),n}}),OI=pe("$ZodNumber",(e,t)=>{GC.init(e,t),Bm.init(e,t)}),AI=pe("$ZodBoolean",(e,t)=>{At.init(e,t),e._zod.pattern=ZC,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),MI=pe("$ZodUnknown",(e,t)=>{At.init(e,t),e._zod.parse=n=>n}),DI=pe("$ZodNever",(e,t)=>{At.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function dh(e,t,n){e.issues.length&&t.issues.push(...Eo(n,e.issues)),t.value[n]=e.value}const RI=pe("$ZodArray",(e,t)=>{At.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const i=[];for(let s=0;s<o.length;s++){const u=o[s],c=t.element._zod.run({value:u,issues:[]},r);c instanceof Promise?i.push(c.then(f=>dh(f,n,s))):dh(c,n,s)}return i.length?Promise.all(i).then(()=>n):n}});function ya(e,t,n,r){e.issues.length&&t.issues.push(...Eo(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Fm(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=Qk(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function jm(e,t,n,r,o,i){const s=[],u=o.keySet,c=o.catchall._zod,f=c.def.type;for(const h of Object.keys(t)){if(u.has(h))continue;if(f==="never"){s.push(h);continue}const p=c.run({value:t[h],issues:[]},r);p instanceof Promise?e.push(p.then(v=>ya(v,n,h,t))):ya(p,n,h,t)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const zI=pe("$ZodObject",(e,t)=>{if(At.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...u};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=Pc(()=>Fm(t));wt(e._zod,"propValues",()=>{const u=t.shape,c={};for(const f in u){const h=u[f]._zod;if(h.values){c[f]??(c[f]=new Set);for(const p of h.values)c[f].add(p)}}return c});const o=va,i=t.catchall;let s;e._zod.parse=(u,c)=>{s??(s=r.value);const f=u.value;if(!o(f))return u.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),u;u.value={};const h=[],p=s.shape;for(const v of s.keys){const E=p[v]._zod.run({value:f[v],issues:[]},c);E instanceof Promise?h.push(E.then(k=>ya(k,u,v,f))):ya(E,u,v,f)}return i?jm(h,f,u,c,r.value,e):h.length?Promise.all(h).then(()=>u):u}}),BI=pe("$ZodObjectJIT",(e,t)=>{zI.init(e,t);const n=e._zod.parse,r=Pc(()=>Fm(t)),o=v=>{const m=new iI(["shape","payload","ctx"]),E=r.value,k=P=>{const N=ch(P);return`shape[${N}]._zod.run({ value: input[${N}], issues: [] }, ctx)`};m.write("const input = payload.value;");const M=Object.create(null);let A=0;for(const P of E.keys)M[P]=`key_${A++}`;m.write("const newResult = {};");for(const P of E.keys){const N=M[P],re=ch(P);m.write(`const ${N} = ${k(P)};`),m.write(`
        if (${N}.issues.length) {
          payload.issues = payload.issues.concat(${N}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${re}, ...iss.path] : [${re}]
          })));
        }
        
        
        if (${N}.value === undefined) {
          if (${re} in input) {
            newResult[${re}] = undefined;
          }
        } else {
          newResult[${re}] = ${N}.value;
        }
        
      `)}m.write("payload.value = newResult;"),m.write("return payload;");const $=m.compile();return(P,N)=>$(v,P,N)};let i;const s=va,u=!km.jitless,f=u&&Xk.value,h=t.catchall;let p;e._zod.parse=(v,m)=>{p??(p=r.value);const E=v.value;return s(E)?u&&f&&m?.async===!1&&m.jitless!==!0?(i||(i=o(t.shape)),v=i(v,m),h?jm([],E,v,m,p,e):v):n(v,m):(v.issues.push({expected:"object",code:"invalid_type",input:E,inst:e}),v)}});function hh(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const o=e.filter(i=>!So(i));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(s=>Mr(s,r,Ar())))}),t)}const FI=pe("$ZodUnion",(e,t)=>{At.init(e,t),wt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),wt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),wt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),wt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>Nc(i.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let s=!1;const u=[];for(const c of t.options){const f=c._zod.run({value:o.value,issues:[]},i);if(f instanceof Promise)u.push(f),s=!0;else{if(f.issues.length===0)return f;u.push(f)}}return s?Promise.all(u).then(c=>hh(c,o,e,i)):hh(u,o,e,i)}}),jI=pe("$ZodIntersection",(e,t)=>{At.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,i=t.left._zod.run({value:o,issues:[]},r),s=t.right._zod.run({value:o,issues:[]},r);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([c,f])=>ph(n,c,f)):ph(n,i,s)}});function Zl(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ho(e)&&Ho(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),o={...e,...t};for(const i of r){const s=Zl(e[i],t[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};o[i]=s.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=t[r],s=Zl(o,i);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function ph(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),So(e))return e;const r=Zl(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const VI=pe("$ZodRecord",(e,t)=>{At.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Ho(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const i=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;n.value={};for(const c of s)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){const f=t.valueType._zod.run({value:o[c],issues:[]},r);f instanceof Promise?i.push(f.then(h=>{h.issues.length&&n.issues.push(...Eo(c,h.issues)),n.value[c]=h.value})):(f.issues.length&&n.issues.push(...Eo(c,f.issues)),n.value[c]=f.value)}let u;for(const c in o)s.has(c)||(u=u??[],u.push(c));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:u})}else{n.value={};for(const s of Reflect.ownKeys(o)){if(s==="__proto__")continue;const u=t.keyType._zod.run({value:s,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(f=>Mr(f,r,Ar())),input:s,path:[s],inst:e}),n.value[u.value]=u.value;continue}const c=t.valueType._zod.run({value:o[s],issues:[]},r);c instanceof Promise?i.push(c.then(f=>{f.issues.length&&n.issues.push(...Eo(s,f.issues)),n.value[u.value]=f.value})):(c.issues.length&&n.issues.push(...Eo(s,c.issues)),n.value[u.value]=c.value)}}return i.length?Promise.all(i).then(()=>n):n}}),LI=pe("$ZodEnum",(e,t)=>{At.init(e,t);const n=Wk(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>Jk.has(typeof o)).map(o=>typeof o=="string"?Qa(o):o.toString()).join("|")})$`),e._zod.parse=(o,i)=>{const s=o.value;return r.has(s)||o.issues.push({code:"invalid_value",values:n,input:s,inst:e}),o}}),HI=pe("$ZodTransform",(e,t)=>{At.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Em(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(s=>(n.value=s,n));if(o instanceof Promise)throw new Ao;return n.value=o,n}});function gh(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const ZI=pe("$ZodOptional",(e,t)=>{At.init(e,t),e._zod.optin="optional",e._zod.optout="optional",wt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),wt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Nc(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>gh(i,n.value)):gh(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),UI=pe("$ZodNullable",(e,t)=>{At.init(e,t),wt(e._zod,"optin",()=>t.innerType._zod.optin),wt(e._zod,"optout",()=>t.innerType._zod.optout),wt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Nc(n.source)}|null)$`):void 0}),wt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),KI=pe("$ZodDefault",(e,t)=>{At.init(e,t),e._zod.optin="optional",wt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>mh(i,t)):mh(o,t)}});function mh(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const qI=pe("$ZodPrefault",(e,t)=>{At.init(e,t),e._zod.optin="optional",wt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),GI=pe("$ZodNonOptional",(e,t)=>{At.init(e,t),wt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>vh(i,e)):vh(o,e)}});function vh(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const WI=pe("$ZodCatch",(e,t)=>{At.init(e,t),wt(e._zod,"optin",()=>t.innerType._zod.optin),wt(e._zod,"optout",()=>t.innerType._zod.optout),wt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>Mr(s,r,Ar()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>Mr(i,r,Ar()))},input:n.value}),n.issues=[]),n)}}),YI=pe("$ZodPipe",(e,t)=>{At.init(e,t),wt(e._zod,"values",()=>t.in._zod.values),wt(e._zod,"optin",()=>t.in._zod.optin),wt(e._zod,"optout",()=>t.out._zod.optout),wt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=t.out._zod.run(n,r);return i instanceof Promise?i.then(s=>$s(s,t.in,r)):$s(i,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(i=>$s(i,t.out,r)):$s(o,t.out,r)}});function $s(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const XI=pe("$ZodReadonly",(e,t)=>{At.init(e,t),wt(e._zod,"propValues",()=>t.innerType._zod.propValues),wt(e._zod,"values",()=>t.innerType._zod.values),wt(e._zod,"optin",()=>t.innerType._zod.optin),wt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(yh):yh(o)}});function yh(e){return e.value=Object.freeze(e.value),e}const JI=pe("$ZodCustom",(e,t)=>{gn.init(e,t),At.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(i=>_h(i,n,r,e));_h(o,n,r,e)}});function _h(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(Vi(o))}}class QI{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function eP(){return new QI}const Os=eP();function tP(e,t){return new e({type:"string",...Ke(t)})}function nP(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ke(t)})}function bh(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ke(t)})}function rP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ke(t)})}function oP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ke(t)})}function iP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ke(t)})}function sP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ke(t)})}function aP(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ke(t)})}function uP(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ke(t)})}function lP(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ke(t)})}function cP(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ke(t)})}function fP(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ke(t)})}function dP(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ke(t)})}function hP(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ke(t)})}function pP(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ke(t)})}function gP(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ke(t)})}function mP(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ke(t)})}function vP(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ke(t)})}function yP(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ke(t)})}function _P(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ke(t)})}function bP(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ke(t)})}function wP(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ke(t)})}function xP(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ke(t)})}function SP(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ke(t)})}function EP(e,t){return new e({type:"string",format:"date",check:"string_format",...Ke(t)})}function kP(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ke(t)})}function CP(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ke(t)})}function IP(e,t){return new e({type:"number",checks:[],...Ke(t)})}function PP(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ke(t)})}function TP(e,t){return new e({type:"boolean",...Ke(t)})}function NP(e){return new e({type:"unknown"})}function $P(e,t){return new e({type:"never",...Ke(t)})}function wh(e,t){return new Dm({check:"less_than",...Ke(t),value:e,inclusive:!1})}function al(e,t){return new Dm({check:"less_than",...Ke(t),value:e,inclusive:!0})}function xh(e,t){return new Rm({check:"greater_than",...Ke(t),value:e,inclusive:!1})}function ul(e,t){return new Rm({check:"greater_than",...Ke(t),value:e,inclusive:!0})}function Sh(e,t){return new qC({check:"multiple_of",...Ke(t),value:e})}function Vm(e,t){return new WC({check:"max_length",...Ke(t),maximum:e})}function _a(e,t){return new YC({check:"min_length",...Ke(t),minimum:e})}function Lm(e,t){return new XC({check:"length_equals",...Ke(t),length:e})}function OP(e,t){return new JC({check:"string_format",format:"regex",...Ke(t),pattern:e})}function AP(e){return new QC({check:"string_format",format:"lowercase",...Ke(e)})}function MP(e){return new eI({check:"string_format",format:"uppercase",...Ke(e)})}function DP(e,t){return new tI({check:"string_format",format:"includes",...Ke(t),includes:e})}function RP(e,t){return new nI({check:"string_format",format:"starts_with",...Ke(t),prefix:e})}function zP(e,t){return new rI({check:"string_format",format:"ends_with",...Ke(t),suffix:e})}function qi(e){return new oI({check:"overwrite",tx:e})}function BP(e){return qi(t=>t.normalize(e))}function FP(){return qi(e=>e.trim())}function jP(){return qi(e=>e.toLowerCase())}function VP(){return qi(e=>e.toUpperCase())}function LP(e,t,n){return new e({type:"array",element:t,...Ke(n)})}function HP(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Ke(n)})}function ZP(e){const t=UP(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Vi(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(Vi(o))}},e(n.value,n)));return t}function UP(e,t){const n=new gn({check:"custom",...Ke(t)});return n._zod.check=e,n}const KP=pe("ZodISODateTime",(e,t)=>{yI.init(e,t),It.init(e,t)});function qP(e){return SP(KP,e)}const GP=pe("ZodISODate",(e,t)=>{_I.init(e,t),It.init(e,t)});function WP(e){return EP(GP,e)}const YP=pe("ZodISOTime",(e,t)=>{bI.init(e,t),It.init(e,t)});function XP(e){return kP(YP,e)}const JP=pe("ZodISODuration",(e,t)=>{wI.init(e,t),It.init(e,t)});function QP(e){return CP(JP,e)}const eT=(e,t)=>{Tm.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>lC(e,n)},flatten:{value:n=>uC(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Hl,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Hl,2)}},isEmpty:{get(){return e.issues.length===0}}})},En=pe("ZodError",eT,{Parent:Error}),tT=Oc(En),nT=Ac(En),rT=eu(En),oT=tu(En),iT=dC(En),sT=hC(En),aT=pC(En),uT=gC(En),lT=mC(En),cT=vC(En),fT=yC(En),dT=_C(En),Ft=pe("ZodType",(e,t)=>(At.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(ao(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>Dr(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>tT(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>rT(e,n,r),e.parseAsync=async(n,r)=>nT(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>oT(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>iT(e,n,r),e.decode=(n,r)=>sT(e,n,r),e.encodeAsync=async(n,r)=>aT(e,n,r),e.decodeAsync=async(n,r)=>uT(e,n,r),e.safeEncode=(n,r)=>lT(e,n,r),e.safeDecode=(n,r)=>cT(e,n,r),e.safeEncodeAsync=async(n,r)=>fT(e,n,r),e.safeDecodeAsync=async(n,r)=>dT(e,n,r),e.refine=(n,r)=>e.check(rN(n,r)),e.superRefine=n=>e.check(oN(n)),e.overwrite=n=>e.check(qi(n)),e.optional=()=>Ch(e),e.nullable=()=>Ih(e),e.nullish=()=>Ch(Ih(e)),e.nonoptional=n=>YT(e,n),e.array=()=>nn(e),e.or=n=>FT([e,n]),e.and=n=>VT(e,n),e.transform=n=>Ph(e,ZT(n)),e.default=n=>qT(e,n),e.prefault=n=>WT(e,n),e.catch=n=>JT(e,n),e.pipe=n=>Ph(e,n),e.readonly=()=>tN(e),e.describe=n=>{const r=e.clone();return Os.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return Os.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Os.get(e);const r=e.clone();return Os.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Hm=pe("_ZodString",(e,t)=>{Mc.init(e,t),Ft.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(OP(...r)),e.includes=(...r)=>e.check(DP(...r)),e.startsWith=(...r)=>e.check(RP(...r)),e.endsWith=(...r)=>e.check(zP(...r)),e.min=(...r)=>e.check(_a(...r)),e.max=(...r)=>e.check(Vm(...r)),e.length=(...r)=>e.check(Lm(...r)),e.nonempty=(...r)=>e.check(_a(1,...r)),e.lowercase=r=>e.check(AP(r)),e.uppercase=r=>e.check(MP(r)),e.trim=()=>e.check(FP()),e.normalize=(...r)=>e.check(BP(...r)),e.toLowerCase=()=>e.check(jP()),e.toUpperCase=()=>e.check(VP())}),hT=pe("ZodString",(e,t)=>{Mc.init(e,t),Hm.init(e,t),e.email=n=>e.check(nP(pT,n)),e.url=n=>e.check(aP(gT,n)),e.jwt=n=>e.check(xP(NT,n)),e.emoji=n=>e.check(uP(mT,n)),e.guid=n=>e.check(bh(Eh,n)),e.uuid=n=>e.check(rP(As,n)),e.uuidv4=n=>e.check(oP(As,n)),e.uuidv6=n=>e.check(iP(As,n)),e.uuidv7=n=>e.check(sP(As,n)),e.nanoid=n=>e.check(lP(vT,n)),e.guid=n=>e.check(bh(Eh,n)),e.cuid=n=>e.check(cP(yT,n)),e.cuid2=n=>e.check(fP(_T,n)),e.ulid=n=>e.check(dP(bT,n)),e.base64=n=>e.check(_P(IT,n)),e.base64url=n=>e.check(bP(PT,n)),e.xid=n=>e.check(hP(wT,n)),e.ksuid=n=>e.check(pP(xT,n)),e.ipv4=n=>e.check(gP(ST,n)),e.ipv6=n=>e.check(mP(ET,n)),e.cidrv4=n=>e.check(vP(kT,n)),e.cidrv6=n=>e.check(yP(CT,n)),e.e164=n=>e.check(wP(TT,n)),e.datetime=n=>e.check(qP(n)),e.date=n=>e.check(WP(n)),e.time=n=>e.check(XP(n)),e.duration=n=>e.check(QP(n))});function Ge(e){return tP(hT,e)}const It=pe("ZodStringFormat",(e,t)=>{Ct.init(e,t),Hm.init(e,t)}),pT=pe("ZodEmail",(e,t)=>{lI.init(e,t),It.init(e,t)}),Eh=pe("ZodGUID",(e,t)=>{aI.init(e,t),It.init(e,t)}),As=pe("ZodUUID",(e,t)=>{uI.init(e,t),It.init(e,t)}),gT=pe("ZodURL",(e,t)=>{cI.init(e,t),It.init(e,t)}),mT=pe("ZodEmoji",(e,t)=>{fI.init(e,t),It.init(e,t)}),vT=pe("ZodNanoID",(e,t)=>{dI.init(e,t),It.init(e,t)}),yT=pe("ZodCUID",(e,t)=>{hI.init(e,t),It.init(e,t)}),_T=pe("ZodCUID2",(e,t)=>{pI.init(e,t),It.init(e,t)}),bT=pe("ZodULID",(e,t)=>{gI.init(e,t),It.init(e,t)}),wT=pe("ZodXID",(e,t)=>{mI.init(e,t),It.init(e,t)}),xT=pe("ZodKSUID",(e,t)=>{vI.init(e,t),It.init(e,t)}),ST=pe("ZodIPv4",(e,t)=>{xI.init(e,t),It.init(e,t)}),ET=pe("ZodIPv6",(e,t)=>{SI.init(e,t),It.init(e,t)}),kT=pe("ZodCIDRv4",(e,t)=>{EI.init(e,t),It.init(e,t)}),CT=pe("ZodCIDRv6",(e,t)=>{kI.init(e,t),It.init(e,t)}),IT=pe("ZodBase64",(e,t)=>{CI.init(e,t),It.init(e,t)}),PT=pe("ZodBase64URL",(e,t)=>{PI.init(e,t),It.init(e,t)}),TT=pe("ZodE164",(e,t)=>{TI.init(e,t),It.init(e,t)}),NT=pe("ZodJWT",(e,t)=>{$I.init(e,t),It.init(e,t)}),Zm=pe("ZodNumber",(e,t)=>{Bm.init(e,t),Ft.init(e,t),e.gt=(r,o)=>e.check(xh(r,o)),e.gte=(r,o)=>e.check(ul(r,o)),e.min=(r,o)=>e.check(ul(r,o)),e.lt=(r,o)=>e.check(wh(r,o)),e.lte=(r,o)=>e.check(al(r,o)),e.max=(r,o)=>e.check(al(r,o)),e.int=r=>e.check(kh(r)),e.safe=r=>e.check(kh(r)),e.positive=r=>e.check(xh(0,r)),e.nonnegative=r=>e.check(ul(0,r)),e.negative=r=>e.check(wh(0,r)),e.nonpositive=r=>e.check(al(0,r)),e.multipleOf=(r,o)=>e.check(Sh(r,o)),e.step=(r,o)=>e.check(Sh(r,o)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function $t(e){return IP(Zm,e)}const $T=pe("ZodNumberFormat",(e,t)=>{OI.init(e,t),Zm.init(e,t)});function kh(e){return PP($T,e)}const OT=pe("ZodBoolean",(e,t)=>{AI.init(e,t),Ft.init(e,t)});function ba(e){return TP(OT,e)}const AT=pe("ZodUnknown",(e,t)=>{MI.init(e,t),Ft.init(e,t)});function Ul(){return NP(AT)}const MT=pe("ZodNever",(e,t)=>{DI.init(e,t),Ft.init(e,t)});function DT(e){return $P(MT,e)}const RT=pe("ZodArray",(e,t)=>{RI.init(e,t),Ft.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(_a(n,r)),e.nonempty=n=>e.check(_a(1,n)),e.max=(n,r)=>e.check(Vm(n,r)),e.length=(n,r)=>e.check(Lm(n,r)),e.unwrap=()=>e.element});function nn(e,t){return LP(RT,e,t)}const zT=pe("ZodObject",(e,t)=>{BI.init(e,t),Ft.init(e,t),wt(e,"shape",()=>t.shape),e.keyof=()=>ro(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Ul()}),e.loose=()=>e.clone({...e._zod.def,catchall:Ul()}),e.strict=()=>e.clone({...e._zod.def,catchall:DT()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>rC(e,n),e.safeExtend=n=>oC(e,n),e.merge=n=>iC(e,n),e.pick=n=>tC(e,n),e.omit=n=>nC(e,n),e.partial=(...n)=>sC(Km,e,n[0]),e.required=(...n)=>aC(qm,e,n[0])});function zt(e,t){const n={type:"object",shape:e??{},...Ke(t)};return new zT(n)}const BT=pe("ZodUnion",(e,t)=>{FI.init(e,t),Ft.init(e,t),e.options=t.options});function FT(e,t){return new BT({type:"union",options:e,...Ke(t)})}const jT=pe("ZodIntersection",(e,t)=>{jI.init(e,t),Ft.init(e,t)});function VT(e,t){return new jT({type:"intersection",left:e,right:t})}const LT=pe("ZodRecord",(e,t)=>{VI.init(e,t),Ft.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Um(e,t,n){return new LT({type:"record",keyType:e,valueType:t,...Ke(n)})}const Kl=pe("ZodEnum",(e,t)=>{LI.init(e,t),Ft.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const i={};for(const s of r)if(n.has(s))i[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Kl({...t,checks:[],...Ke(o),entries:i})},e.exclude=(r,o)=>{const i={...t.entries};for(const s of r)if(n.has(s))delete i[s];else throw new Error(`Key ${s} not found in enum`);return new Kl({...t,checks:[],...Ke(o),entries:i})}});function ro(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Kl({type:"enum",entries:n,...Ke(t)})}const HT=pe("ZodTransform",(e,t)=>{HI.init(e,t),Ft.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Em(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Vi(i,n.value,t));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),n.issues.push(Vi(s))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function ZT(e){return new HT({type:"transform",transform:e})}const Km=pe("ZodOptional",(e,t)=>{ZI.init(e,t),Ft.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ch(e){return new Km({type:"optional",innerType:e})}const UT=pe("ZodNullable",(e,t)=>{UI.init(e,t),Ft.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ih(e){return new UT({type:"nullable",innerType:e})}const KT=pe("ZodDefault",(e,t)=>{KI.init(e,t),Ft.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function qT(e,t){return new KT({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Im(t)}})}const GT=pe("ZodPrefault",(e,t)=>{qI.init(e,t),Ft.init(e,t),e.unwrap=()=>e._zod.def.innerType});function WT(e,t){return new GT({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Im(t)}})}const qm=pe("ZodNonOptional",(e,t)=>{GI.init(e,t),Ft.init(e,t),e.unwrap=()=>e._zod.def.innerType});function YT(e,t){return new qm({type:"nonoptional",innerType:e,...Ke(t)})}const XT=pe("ZodCatch",(e,t)=>{WI.init(e,t),Ft.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function JT(e,t){return new XT({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const QT=pe("ZodPipe",(e,t)=>{YI.init(e,t),Ft.init(e,t),e.in=t.in,e.out=t.out});function Ph(e,t){return new QT({type:"pipe",in:e,out:t})}const eN=pe("ZodReadonly",(e,t)=>{XI.init(e,t),Ft.init(e,t),e.unwrap=()=>e._zod.def.innerType});function tN(e){return new eN({type:"readonly",innerType:e})}const nN=pe("ZodCustom",(e,t)=>{JI.init(e,t),Ft.init(e,t)});function rN(e,t={}){return HP(nN,e,t)}function oN(e){return ZP(e)}const iN=zt({id:Ge().min(1),name:Ge().min(1),symbol:Ge(),baseUnit:Ge().min(1),factor:$t().positive(),dimension:Ge().min(1),aliases:nn(Ge()).optional()}),sN=zt({id:Ge().min(1),name:Ge().min(1),defaultUnitId:Ge().min(1).optional(),category:Ge().optional(),precision:$t().int().nonnegative().optional(),aliases:nn(Ge()).optional()});zt({id:Ge().min(1),label:Ge().optional(),perCycle:$t(),consumptionChance:$t().min(0).max(1).default(1),unitId:Ge().min(1).optional()});const aN=zt({id:Ge().min(1),type:ro(["smart"]),name:Ge().min(1),enabled:ba().default(!0),position:zt({x:$t(),y:$t()}),count:$t().int().min(1).default(1),cycleTime:$t().positive(),mode:ro(["producer","consumer","transformer"]),inputs:nn(zt({resourceId:Ge().min(1),unitId:Ge().min(1),perCycle:$t().positive()})),outputs:nn(zt({id:Ge().min(1),resourceId:Ge().min(1),unitId:Ge().min(1),perCycle:$t().positive()})),tags:nn(Ge()).optional(),ui:zt({width:$t().positive().optional(),height:$t().positive().optional(),zIndex:$t().optional()}).optional(),templateId:Ge().optional(),data:zt({resources:nn(zt({id:Ge().min(1),name:Ge().min(1),defaultUnitId:Ge().min(1)})).optional()}).optional()}),uN=zt({id:Ge().min(1),enabled:ba(),type:Ge().optional(),label:Ge().optional(),source:Ge().min(1),target:Ge().min(1),sourceHandle:Ge().min(1),targetHandle:Ge().min(1),waypoints:nn(zt({x:$t(),y:$t()})).optional(),data:Um(Ge(),Ul()).optional()}),lN=zt({mode:ro(["per_cycle","per_time"]),targetTimeUnitId:Ge().min(1),tolerance:$t().positive()}),cN=zt({baseTimeUnitId:Ge().min(1),defaultRateDisplay:ro(["per_s","per_min","per_hr"]),resourceDefaultUnits:Um(Ge(),Ge()).default({}),balancing:lN,ui:zt({snapToGrid:ba().optional(),gridSize:$t().int().positive().optional(),minimap:ba().optional()}).optional()}),Th=zt({id:Ge().min(1),name:Ge().min(1),schemaVersion:$t().int(),createdAt:Ge(),updatedAt:Ge(),settings:cN,units:nn(iN),resources:nn(sN),nodes:nn(aN),edges:nn(uN)});function fN(){return{id:"new-project",name:"Untitled Project",schemaVersion:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),settings:{baseTimeUnitId:"s",defaultRateDisplay:"per_s",resourceDefaultUnits:{},balancing:{mode:"per_cycle",targetTimeUnitId:"s",tolerance:.01},ui:{snapToGrid:!0,gridSize:20,minimap:!0}},nodes:[],edges:[],resources:[],units:[]}}function Nh(e){const n={producer:"producer",consumer:"consumer",source:"producer",sink:"consumer",machine:"transformer"}[e.type]??"transformer";return{id:e.id,type:"smart",mode:n,name:e.data?.label??e.name??"Smart Node",enabled:e.enabled??!0,position:e.position??{x:0,y:0},count:e.count??1,cycleTime:e.data?.cycleTime??e.cycleTime??1,inputs:e.data?.inputs??e.inputs??[],outputs:e.data?.outputs??e.outputs??[],tags:e.tags??[],ui:e.ui??{},templateId:e.templateId??void 0,data:{resources:e.data?.resources??[]}}}const Uo=Jp("project",{state:()=>({current:fN(),projectLoaded:!1}),getters:{nodes:e=>e.current.nodes,edges:e=>e.current.edges,units:e=>e.current.units,resources:e=>e.current.resources,nodeById:e=>t=>e.current.nodes.find(n=>n.id===t)},actions:{async load(e){const t=await ma.projects.get(e);if(console.log("Fetched from Dexie:",t),!t)throw new Error("Project not found");const n={...t,nodes:(t.nodes??[]).map(Nh)},r=Th.parse(n);this.current=r,this.projectLoaded=!0},async save(){if(!this.current)return;const e=ft(this.current),t=typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e));t.updatedAt=new Date().toISOString(),Th.parse(t),await ma.projects.put(t),this.current=t},upsertNode(e){const t=this.current.nodes.findIndex(n=>n.id===e.id);t===-1?this.current.nodes.push(e):Object.assign(this.current.nodes[t],e)},removeNode(e){this.current.nodes=this.current.nodes.filter(t=>t.id!==e),this.current.edges=this.current.edges.filter(t=>t.source!==e&&t.target!==e)},upsertEdge(e){const t=this.current.edges.findIndex(n=>n.id===e.id);t===-1?this.current.edges.push(e):Object.assign(this.current.edges[t],e)},removeEdge(e){this.current.edges=this.current.edges.filter(t=>t.id!==e)},injectNodes(e){console.log("🔍 Raw injected nodes:",e);const t=e.map(Nh);console.log("🧠 Normalized nodes:",JSON.stringify(t,null,2)),this.current.nodes=t,this.current.edges=[];const n=t.flatMap(o=>o.data?.resources??[]),r=Array.from(new Map(n.map(o=>[o.id,o])).values());console.log("📦 Extracted resources:",r),this.current.resources=r,this.current.units=[],this.projectLoaded=!0,console.log("✅ Project loaded with",t.length,"nodes")},clearNodes(){this.current.nodes=[],this.current.edges=[],this.current.resources=[],this.current.units=[],this.projectLoaded=!1}}}),dN={key:0,class:"node-warning"},hN={class:"timing-section"},pN={key:0,class:"inputs-section"},gN={class:"input-list"},mN=["onUpdate:modelValue"],vN=["value"],yN=["onUpdate:modelValue"],_N={key:0,class:"validation-warning"},bN={key:1,class:"outputs-section"},wN={class:"output-list"},xN={key:0,class:"status-icon"},SN={key:1,class:"status-icon"},EN=["onUpdate:modelValue","onChange"],kN=["value"],CN=["onUpdate:modelValue","title"],IN=["value"],PN=["onUpdate:modelValue"],TN={key:0,class:"validation-warning"},NN=ot({__name:"ProducerNode",props:{data:{}},setup(e){const t=Uo(),r=e.data,o=rt(r.label);function i(){r.label=o.value}const s=rt(r.direction??"ltr"),u=De(()=>s.value==="rtl"?"←":"→"),c=De(()=>s.value==="rtl"?Fe.Right:Fe.Left),f=De(()=>s.value==="rtl"?Fe.Left:Fe.Right);function h(){s.value=s.value==="ltr"?"rtl":"ltr",r.direction=s.value}function p(){r.inputs.push({resourceId:"",perCycle:0})}function v(){return{id:crypto.randomUUID(),resourceId:"",unitId:"",perCycle:0}}function m(){r.outputs.push(v())}function E(q){return q.resourceId!==""&&q.perCycle>0}const k=De(()=>{const q=r.inputs.every(E),W=r.outputs.every(E);return q&&W}),M=rt([{resourceId:"power",required:5},{resourceId:"steel",required:10}]);function A(q){if(!q.resourceId||q.perCycle<=0)return"invalid";const Q=M.value.filter(ie=>ie.resourceId===q.resourceId).reduce((ie,ae)=>ie+ae.required,0);return q.perCycle>=Q?"valid":"invalid"}const $=De(()=>r.outputs.map(A));function P(q){if(!q.resourceId)return;const W=t.resources?.find(Q=>Q.id===q.resourceId);W&&!q.unitId&&(q.unitId=W.defaultUnitId??"")}function N(q){return t.resources?.find(Q=>Q.id===q.resourceId)?.defaultUnitId===q.unitId}const re=De(()=>(t.resources??[]).map(q=>({id:q.id,name:q.name}))),ce=De(()=>(t.units??[]).map(q=>({id:q.id,label:`${q.name} (${q.symbol})`})));return Ma(()=>{console.log("Project loaded?",!!t.current),console.log("Resources:",t.resources??[]),console.log("Units:",t.units??[])}),(q,W)=>(ve(),_e("div",{class:"producer-node",style:sn({borderColor:k.value?Pe(r).statusColor||"#ccc":"#f44336"})},[W[6]||(W[6]=me("div",{class:"header"},"Producer",-1)),Rt(me("input",{class:"label-input","onUpdate:modelValue":W[0]||(W[0]=Q=>o.value=Q),onBlur:i,placeholder:"Enter name"},null,544),[[In,o.value]]),me("button",{class:"direction-toggle",onClick:h}," Flow: "+st(s.value)+" "+st(u.value),1),k.value?pt("",!0):(ve(),_e("div",dN," ⚠️ This node has invalid inputs or outputs ")),me("div",hN,[W[2]||(W[2]=me("h3",null,"Timing",-1)),Rt(me("input",{"onUpdate:modelValue":W[1]||(W[1]=Q=>Pe(r).cycleTime=Q),type:"number",placeholder:"Cycle Time (s)",min:"0",step:"0.1"},null,512),[[In,Pe(r).cycleTime,void 0,{number:!0}]])]),me("div",{class:rn(["io-wrapper",s.value])},[Array.isArray(Pe(r).inputs)?(ve(),_e("div",pN,[me("h3",null,st(s.value==="rtl"?"Inputs →":"← Inputs"),1),me("div",gN,[(ve(!0),_e(et,null,Bt(Pe(r).inputs,(Q,ie)=>(ve(),_e("div",{key:ie,class:"input-row",style:{position:"relative"}},[me("label",null,"Input "+st(ie+1),1),tt(Pe(Or),{type:"target",position:c.value,id:`input-${ie}`,class:"row-handle"},null,8,["position","id"]),Rt(me("select",{"onUpdate:modelValue":ae=>Q.resourceId=ae},[W[3]||(W[3]=me("option",{value:""},"Select resource",-1)),(ve(!0),_e(et,null,Bt(re.value,ae=>(ve(),_e("option",{key:ae.id,value:ae.id},st(ae.name),9,vN))),128))],8,mN),[[or,Q.resourceId]]),Rt(me("input",{type:"number","onUpdate:modelValue":ae=>Q.perCycle=ae,min:"0",step:"0.1",placeholder:"perCycle"},null,8,yN),[[In,Q.perCycle,void 0,{number:!0}]]),!Q.resourceId||Q.perCycle<=0?(ve(),_e("div",_N," ⚠️ Resource and perCycle required ")):pt("",!0)]))),128))]),me("button",{onClick:p,class:"add-button"},"+ Add Input")])):pt("",!0),Array.isArray(Pe(r).outputs)?(ve(),_e("div",bN,[me("h3",null,st(s.value==="rtl"?"← Outputs":"Outputs →"),1),me("div",wN,[(ve(!0),_e(et,null,Bt(Pe(r).outputs,(Q,ie)=>(ve(),_e("div",{key:Q.id,class:"output-row",style:{position:"relative"}},[me("label",null,[za(" Output "+st(ie+1)+" ",1),$.value[ie]==="valid"?(ve(),_e("span",xN,"✅")):$.value[ie]==="invalid"?(ve(),_e("span",SN,"⚠️")):pt("",!0)]),tt(Pe(Or),{type:"source",position:f.value,id:`output-${Q.id}`,class:"row-handle"},null,8,["position","id"]),Rt(me("select",{"onUpdate:modelValue":ae=>Q.resourceId=ae,onChange:ae=>P(Q)},[W[4]||(W[4]=me("option",{value:""},"Select resource",-1)),(ve(!0),_e(et,null,Bt(re.value,ae=>(ve(),_e("option",{key:ae.id,value:ae.id},st(ae.name),9,kN))),128))],40,EN),[[or,Q.resourceId]]),Rt(me("select",{"onUpdate:modelValue":ae=>Q.unitId=ae,class:rn({"auto-filled":N(Q)}),title:N(Q)?"Default unit applied from resource":""},[W[5]||(W[5]=me("option",{value:""},"Select unit",-1)),(ve(!0),_e(et,null,Bt(ce.value,ae=>(ve(),_e("option",{key:ae.id,value:ae.id},st(ae.label),9,IN))),128))],10,CN),[[or,Q.unitId]]),Rt(me("input",{type:"number","onUpdate:modelValue":ae=>Q.perCycle=ae,min:"0",step:"0.1",placeholder:"perCycle"},null,8,PN),[[In,Q.perCycle,void 0,{number:!0}]]),!Q.resourceId||Q.perCycle<=0?(ve(),_e("div",TN," ⚠️ Resource and perCycle required ")):pt("",!0)]))),128))]),me("button",{onClick:m,class:"add-button"},"+ Add Output")])):pt("",!0)],2)],4))}}),$N=hn(NN,[["__scopeId","data-v-af3b6e9f"]]),ON={key:0,class:"status-section"},AN={key:1,class:"node-warning"},MN={class:"inputs-section"},DN={class:"input-list"},RN=["onUpdate:modelValue","onChange"],zN=["value"],BN=["onUpdate:modelValue"],FN=["value"],jN=["onUpdate:modelValue"],VN={key:0,class:"validation-warning"},LN=ot({__name:"ConsumerNode",props:{data:{}},setup(e){const t=Uo(),r=e.data,o=rt(r.label);function i(){r.label=o.value}function s(){r.inputs.push({resourceId:"",unitId:"",perCycle:0})}function u($){return $.resourceId!==""&&$.perCycle>0}const c=De(()=>r.inputs.every(u)),f=rt(r.direction||"ltr"),h=De(()=>f.value==="rtl"?"←":"→");function p(){f.value=f.value==="ltr"?"rtl":"ltr",r.direction=f.value}const v=De(()=>f.value==="rtl"?Fe.Right:Fe.Left),m=De(()=>f.value==="rtl"?Fe.Left:Fe.Right);function E($){if(!$.resourceId)return;const P=t.resources?.find(N=>N.id===$.resourceId);P&&!$.unitId&&($.unitId=P.defaultUnitId)}function k($){return t.resources?.find(N=>N.id===$.resourceId)?.defaultUnitId===$.unitId}const M=De(()=>(t.resources??[]).map($=>({id:$.id,name:$.name}))),A=De(()=>(t.units??[]).map($=>({id:$.id,label:`${$.name} (${$.symbol})`})));return($,P)=>(ve(),_e("div",{class:"consumer-node",style:sn({borderColor:c.value?Pe(r).statusColor||"#ccc":"#f44336"})},[P[4]||(P[4]=me("div",{class:"header"},"Consumer",-1)),Rt(me("input",{class:"label-input","onUpdate:modelValue":P[0]||(P[0]=N=>o.value=N),onBlur:i,placeholder:"Enter name"},null,544),[[In,o.value]]),me("button",{class:"direction-toggle",onClick:p}," Flow: "+st(f.value)+" "+st(h.value),1),Pe(r).statusMessages?.length?(ve(),_e("div",ON,[P[1]||(P[1]=me("h3",null,"Status",-1)),me("ul",null,[(ve(!0),_e(et,null,Bt(Pe(r).statusMessages,(N,re)=>(ve(),_e("li",{key:re},st(N),1))),128))])])):pt("",!0),c.value?pt("",!0):(ve(),_e("div",AN," ⚠️ This node has invalid inputs ")),me("div",{class:rn(["io-wrapper",f.value])},[me("div",MN,[me("h3",null,st(f.value==="rtl"?"Inputs →":"← Inputs"),1),me("div",DN,[(ve(!0),_e(et,null,Bt(Pe(r).inputs,(N,re)=>(ve(),_e("div",{key:re,class:"input-row"},[me("label",null,"Input "+st(re+1),1),Rt(me("select",{"onUpdate:modelValue":ce=>N.resourceId=ce,onChange:ce=>E(N)},[P[2]||(P[2]=me("option",{value:""},"Select resource",-1)),(ve(!0),_e(et,null,Bt(M.value,ce=>(ve(),_e("option",{key:ce.id,value:ce.id},st(ce.name),9,zN))),128))],40,RN),[[or,N.resourceId]]),Rt(me("select",{"onUpdate:modelValue":ce=>N.unitId=ce,class:rn({"auto-filled":k(N)})},[P[3]||(P[3]=me("option",{value:""},"Select unit",-1)),(ve(!0),_e(et,null,Bt(A.value,ce=>(ve(),_e("option",{key:ce.id,value:ce.id},st(ce.label),9,FN))),128))],10,BN),[[or,N.unitId]]),Rt(me("input",{type:"number","onUpdate:modelValue":ce=>N.perCycle=ce,min:"0",step:"0.1",placeholder:"perCycle"},null,8,jN),[[In,N.perCycle,void 0,{number:!0}]]),!N.resourceId||N.perCycle<=0?(ve(),_e("div",VN," ⚠️ Resource and perCycle required ")):pt("",!0)]))),128))]),me("button",{onClick:s,class:"add-button"},"+ Add Input")])],2),tt(Pe(Or),{type:"target",position:v.value},null,8,["position"]),tt(Pe(Or),{type:"source",position:m.value},null,8,["position"])],4))}}),HN=hn(LN,[["__scopeId","data-v-e388e0eb"]]),ZN={},UN={class:"logo-wrapper"};function KN(e,t){const n=Zo("RouterLink");return ve(),_e("div",UN,[tt(n,{to:"/",class:"logo-link"},{default:Mo(()=>[...t[0]||(t[0]=[me("h1",{class:"logo-text"},"Streamline Flow",-1)])]),_:1})])}const qN=hn(ZN,[["render",KN],["__scopeId","data-v-8c8ddcc4"]]),GN={class:"links-wrapper"},WN={class:"list"},YN={href:"https://github.com/dos54/Streamline",target:"_blank",rel:"noopener","aria-label":"GitHub (Opens in new tab)",class:"link"},XN=["src"],JN=ot({__name:"OverlayLinks",setup(e){const t="/Streamline/";return(n,r)=>(ve(),_e("div",GN,[me("ul",WN,[me("li",null,[me("a",YN,[me("img",{class:"github-link-image",src:Pe(t)+"images/icons/github/github-mark.svg",alt:""},null,8,XN)])])])]))}}),QN=hn(JN,[["__scopeId","data-v-c4a7cb59"]]),Gm=Jp("ui",()=>{const e=Zs.currentRoute,t=rt(!1);at(e,o=>{t.value=o.query.settings==="1"},{immediate:!0}),at(t,o=>{const i={...e.value.query};o?i.settings="1":delete i.settings,e.value.query.settings==="1"==o&&(o?Zs.push({query:i}):Zs.replace({query:i}))});function n(){t.value=!0}function r(){t.value=!1}return{openSettings:n,closeSettings:r,settingsOpen:t}}),e$={class:"toolbar"},t$=["src"],n$=ot({__name:"EditorToolbar",setup(e){const t=Gm(),n="/Streamline/";return(r,o)=>(ve(),_e("div",e$,[me("button",{class:"settings-button",onClick:o[0]||(o[0]=i=>Pe(t).openSettings())},[me("img",{src:Pe(n)+"images/icons/settings-icon.svg",class:"settings-icon",alt:""},null,8,t$)])]))}}),r$=hn(n$,[["__scopeId","data-v-1c56ad1e"]]),o$=[{id:"basic",name:"Basic Nodes",nodes:[{id:"producer",type:"producer",name:"Producer",description:"Generates resources with configurable outputs",icon:"⚙️",color:"#4caf50",defaultData:{label:"New Producer",direction:"ltr",cycleTime:1,inputs:[],outputs:[]}},{id:"consumer",type:"consumer",name:"Consumer",description:"Consumes resources with configurable inputs",icon:"🏭",color:"#ff9800",defaultData:{label:"New Consumer",direction:"ltr",inputs:[]}},{id:"smart-node",type:"smart",name:"Smart Node",description:"Handles inputs, outputs, and transformation logic",icon:"🧠",color:"#2196f3",defaultData:{label:"New Smart Node",direction:"ltr",mode:"transformer",cycleTime:1,inputs:[],outputs:[]}}]}],i$={categories:o$},s$={class:"node-sidebar"},a$={class:"node-categories"},u$={class:"node-icon"},l$={class:"node-info"},c$={class:"node-title"},f$={class:"node-description"},d$=ot({__name:"NodeSidebar",setup(e){const t=rt({categories:[]});return Sn(()=>{t.value=i$}),(n,r)=>(ve(),_e("div",s$,[r[0]||(r[0]=me("div",{class:"sidebar-header"},[me("h3",null,"Node Library")],-1)),me("div",a$,[(ve(!0),_e(et,null,Bt(t.value.categories,o=>(ve(),_e("div",{key:o.id,class:"category"},[me("h4",null,st(o.name),1),(ve(!0),_e(et,null,Bt(o.nodes,i=>(ve(),_e("div",{key:i.id,class:rn(["sidebar-node",i.type]),style:sn({borderLeftColor:i.color})},[me("div",u$,st(i.icon),1),me("div",l$,[me("div",c$,st(i.name),1),me("div",f$,st(i.description),1)])],6))),128))]))),128))])]))}}),h$=hn(d$,[["__scopeId","data-v-ccac0110"]]),p$=ot({__name:"CanvasOverlay",setup(e){const t={"--overlay-bg":"var(--on-bg)","--overlay-border-radius":"var(--radius-lg)","--overlay-border-settings":"var(--border-full-1)"};return(n,r)=>(ve(),_e("div",{class:"overlay-root",style:t},[tt(r$),tt(qN),tt(QN),tt(h$)]))}}),g$=hn(p$,[["__scopeId","data-v-fb74250f"]]),m$={key:0,class:"node-warning"},v$={class:"timing-section"},y$={key:0,class:"inputs-section"},_$={class:"input-list"},b$=["onUpdate:modelValue","onChange"],w$=["value"],x$=["onUpdate:modelValue","title"],S$=["value"],E$=["onUpdate:modelValue"],k$=["onClick"],C$={key:0,class:"validation-warning"},I$={key:1,class:"outputs-section"},P$={class:"output-list"},T$={key:0,class:"status-icon"},N$={key:1,class:"status-icon"},$$=["onUpdate:modelValue","onChange"],O$=["value"],A$=["onUpdate:modelValue","title"],M$=["value"],D$=["onUpdate:modelValue"],R$=["onClick"],z$={key:0,class:"validation-warning"},B$=ot({__name:"SmartNode",props:{id:{},data:{}},setup(e){const t=e,n=t.id,r=Uo(),o=io({label:t.data.label??"",direction:t.data.direction??"ltr",mode:t.data.mode??"producer",cycleTime:t.data.cycleTime??0,inputs:t.data.inputs??[],outputs:t.data.outputs??[],resources:t.data.resources??[],statusColor:t.data.statusColor}),i=rt(o.label);function s(){o.label=i.value}at(()=>o.label,q=>{i.value=q});const u=rt(o.direction??"ltr");function c(){u.value=u.value==="ltr"?"rtl":"ltr",o.direction=u.value}const f=De(()=>u.value==="ltr"?"→":"←"),h=De(()=>u.value==="rtl"?Fe.Right:Fe.Left),p=De(()=>u.value==="rtl"?Fe.Left:Fe.Right),v=De(()=>o.resources??[]),m=De(()=>v.value.map(q=>({id:q.defaultUnitId,label:q.defaultUnitId})));function E(q){return v.value.find(Q=>Q.id===q.resourceId)?.defaultUnitId===q.unitId}function k(q){const W=v.value.find(Q=>Q.id===q.resourceId);W&&!q.unitId&&(q.unitId=W.defaultUnitId)}function M(q){const W=v.value.find(Q=>Q.id===q.resourceId);W&&!q.unitId&&(q.unitId=W.defaultUnitId)}function A(){o.inputs.push({resourceId:"",unitId:"",perCycle:0})}function $(q){o.inputs.splice(q,1)}function P(){o.outputs.push({id:crypto.randomUUID(),resourceId:"",unitId:"",perCycle:0})}function N(q){o.outputs.splice(q,1)}const re=De(()=>o.outputs.map(q=>q.resourceId&&q.unitId&&q.perCycle>0?"valid":"invalid")),ce=De(()=>{const q=o.inputs.every(Q=>Q.resourceId&&Q.unitId&&Q.perCycle>0),W=o.outputs.every(Q=>Q.resourceId&&Q.unitId&&Q.perCycle>0);return q&&W});return at(()=>({label:o.label,cycleTime:o.cycleTime,direction:o.direction,inputs:o.inputs,outputs:o.outputs}),q=>{const W=r.nodes.findIndex(Q=>Q.id===n);W!==-1&&(r.nodes[W].data={...r.nodes[W].data,...q})},{deep:!0}),(q,W)=>{const Q=Zo("Handle");return ve(),_e("div",{class:"smart-node",style:sn({borderColor:ce.value?o.statusColor||"#ccc":"#f44336"})},[W[7]||(W[7]=me("div",{class:"header"},"Smart",-1)),Rt(me("input",{class:"label-input","onUpdate:modelValue":W[0]||(W[0]=ie=>i.value=ie),onBlur:s,placeholder:"Enter name"},null,544),[[In,i.value]]),me("button",{class:"direction-toggle",onClick:c}," Flow: "+st(u.value)+" "+st(f.value),1),ce.value?pt("",!0):(ve(),_e("div",m$," ⚠️ This node has invalid inputs or outputs ")),me("div",v$,[W[2]||(W[2]=me("h3",null,"Timing",-1)),Rt(me("input",{"onUpdate:modelValue":W[1]||(W[1]=ie=>o.cycleTime=ie),type:"number",placeholder:"Cycle Time (s)",min:"0",step:"0.1"},null,512),[[In,o.cycleTime,void 0,{number:!0}]])]),me("div",{class:rn(["io-wrapper",u.value])},[o.inputs?.length>=0?(ve(),_e("div",y$,[me("h3",null,st(u.value==="rtl"?"Inputs →":"← Inputs"),1),me("div",_$,[(ve(!0),_e(et,null,Bt(o.inputs,(ie,ae)=>(ve(),_e("div",{key:ae,class:"input-row"},[me("label",null,"Input "+st(ae+1),1),tt(Q,{type:"target",position:h.value,id:`input-${ae}`,class:"row-handle"},null,8,["position","id"]),Rt(me("select",{"onUpdate:modelValue":R=>ie.resourceId=R,onChange:R=>M(ie)},[W[3]||(W[3]=me("option",{value:""},"Select resource",-1)),(ve(!0),_e(et,null,Bt(v.value,R=>(ve(),_e("option",{key:R.id,value:R.id},st(R.name),9,w$))),128))],40,b$),[[or,ie.resourceId]]),Rt(me("select",{"onUpdate:modelValue":R=>ie.unitId=R,class:rn({"auto-filled":E(ie)}),title:E(ie)?"Default unit applied from resource":""},[W[4]||(W[4]=me("option",{value:""},"Select unit",-1)),(ve(!0),_e(et,null,Bt(m.value,R=>(ve(),_e("option",{key:R.id,value:R.id},st(R.label),9,S$))),128))],10,x$),[[or,ie.unitId]]),Rt(me("input",{type:"number","onUpdate:modelValue":R=>ie.perCycle=R,min:"0",step:"0.1",placeholder:"perCycle"},null,8,E$),[[In,ie.perCycle,void 0,{number:!0}]]),me("button",{onClick:R=>$(ae),class:"remove-button",title:"Remove input"},"✖️",8,k$),!ie.resourceId||!ie.unitId||ie.perCycle<=0?(ve(),_e("div",C$," ⚠️ Resource, unit, and perCycle required ")):pt("",!0)]))),128))]),me("button",{onClick:A,class:"add-button"},"+ Add Input")])):pt("",!0),o.outputs?.length>=0?(ve(),_e("div",I$,[me("h3",null,st(u.value==="rtl"?"← Outputs":"Outputs →"),1),me("div",P$,[(ve(!0),_e(et,null,Bt(o.outputs,(ie,ae)=>(ve(),_e("div",{key:ie.id||ae,class:"output-row"},[me("label",null,[za(" Output "+st(ae+1)+" ",1),re.value[ae]==="valid"?(ve(),_e("span",T$,"✅")):re.value[ae]==="invalid"?(ve(),_e("span",N$,"⚠️")):pt("",!0)]),tt(Q,{type:"source",position:p.value,id:`output-${ie.id||ae}`,class:"row-handle"},null,8,["position","id"]),Rt(me("select",{"onUpdate:modelValue":R=>ie.resourceId=R,onChange:R=>k(ie)},[W[5]||(W[5]=me("option",{value:""},"Select resource",-1)),(ve(!0),_e(et,null,Bt(v.value,R=>(ve(),_e("option",{key:R.id,value:R.id},st(R.name),9,O$))),128))],40,$$),[[or,ie.resourceId]]),Rt(me("select",{"onUpdate:modelValue":R=>ie.unitId=R,class:rn({"auto-filled":E(ie)}),title:E(ie)?"Default unit applied from resource":""},[W[6]||(W[6]=me("option",{value:""},"Select unit",-1)),(ve(!0),_e(et,null,Bt(m.value,R=>(ve(),_e("option",{key:R.id,value:R.id},st(R.label),9,M$))),128))],10,A$),[[or,ie.unitId]]),Rt(me("input",{type:"number","onUpdate:modelValue":R=>ie.perCycle=R,min:"0",step:"0.1",placeholder:"perCycle"},null,8,D$),[[In,ie.perCycle,void 0,{number:!0}]]),me("button",{onClick:R=>N(ae),class:"remove-button",title:"Remove output"},"✖️",8,R$),!ie.resourceId||ie.perCycle<=0?(ve(),_e("div",z$," ⚠️ Resource and perCycle required ")):pt("",!0)]))),128))]),me("button",{onClick:P,class:"add-button"},"+ Add Output")])):pt("",!0)],2)],4)}}}),F$=hn(B$,[["__scopeId","data-v-d8c3c181"]]),j$={class:"editor-layout"},V$={class:"canvas-wrapper"},L$=ot({__name:"CanvasView",setup(e){const t=Uo(),{fitView:n}=Et();function r(){requestAnimationFrame(()=>{n({padding:.2})})}const o={producer:$N,consumer:HN,smart:F$},i=De(()=>t.nodes),s=De(()=>t.edges);function u(f,h){const p=new Map(f.map(m=>[m.id,m])),v=[];for(const m of h){const E=p.get(m.source),k=p.get(m.target);if(!E||!k)continue;const M=E.data.outputs??[],A=k.data.inputs??[];for(const $ of A){const P=M.find(N=>N.resourceId===$.resourceId&&N.unitId===$.unitId&&N.perCycle>=$.perCycle);v.push({edgeId:m.id,target:m.target,resourceId:$.resourceId,valid:!!P,message:P?`✅ ${$.resourceId} is sufficiently supplied`:`⚠️ ${$.resourceId} is missing or under-supplied`})}}return v}const c=De(()=>u(i.value,s.value));return Ma(()=>{const f=c.value;for(const h of i.value)if(h.type==="consumer"){const p=f.filter(k=>k.target===h.id),v=p.map(k=>k.message),E=p.every(k=>k.valid)?"#4caf50":"#f44336";h.data.statusMessages=v,h.data.statusColor=E}for(const h of s.value){const v=f.filter(m=>m.edgeId===h.id).every(m=>m.valid);h.data=h.data||{},h.data.valid=v,h.style={stroke:v?"#4caf50":"#f44336",strokeWidth:2},h.labelStyle={fill:v?"#4caf50":"#f44336",fontWeight:"bold",fontSize:12}}}),(f,h)=>(ve(),_e("div",j$,[me("div",V$,[tt(Pe(Dk),{nodes:i.value,"onUpdate:nodes":h[0]||(h[0]=p=>i.value=p),edges:s.value,"onUpdate:edges":h[1]||(h[1]=p=>s.value=p),"node-types":o,"zoom-on-scroll":!0,"pan-on-drag":!0,onPaneReady:r,class:"fill"},{default:Mo(()=>[tt(Pe(Lk),{variant:"dots",gap:20,size:1})]),_:1},8,["nodes","edges"]),tt(g$)])]))}}),Wm=hn(L$,[["__scopeId","data-v-001e318f"]]),H$=ot({__name:"SettingsModal",setup(e){const t=Gm(),{settingsOpen:n}=e0(t);function r(){t.closeSettings()}function o(i){i.key==="Escape"&&r()}return Sn(()=>window.addEventListener("keydown",o)),sc(()=>window.removeEventListener("keydown",o)),(i,s)=>(ve(),xn(hy,{to:"body"},[Pe(n)?(ve(),_e("div",{key:0,onClick:R_(r,["self"]),class:"backdrop"},[me("div",{class:"modal",role:"dialog","aria-modal":"true","aria-label":"Settings"},[me("header",{class:"modal-header"},[s[0]||(s[0]=me("h2",null,"Settings",-1)),me("button",{class:"icon",onClick:r,"aria-label":"Close"},"✕")]),s[1]||(s[1]=me("section",{class:"modal-body"},[me("p",null,"Here are some settings for you to explore!")],-1)),me("footer",{class:"modal-footer"},[me("button",{class:"close-modal",onClick:r},"Close")])])])):pt("",!0)]))}}),Z$=hn(H$,[["__scopeId","data-v-9a8a13fd"]]),$h=zt({resourceId:Ge(),unitId:Ge(),perCycle:$t().nonnegative()}),U$=zt({id:Ge(),name:Ge(),defaultUnitId:Ge().optional()}),K$=zt({id:Ge(),type:ro(["producer","consumer","transformer"]),position:zt({x:$t(),y:$t()}),data:zt({label:Ge(),direction:ro(["ltr","rtl"]),cycleTime:$t().positive().optional(),inputs:nn($h).optional(),outputs:nn($h).optional(),resources:nn(U$)})});function q$(e){const t=nn(K$).safeParse(e);return{valid:t.success,errors:t.success?[]:t.error?.issues??[]}}const G$={class:"json-import-wrapper"},W$={class:"json-import"},Y$={key:0,style:{color:"green"}},X$={key:1},J$={style:{color:"red"}},Q$={key:2,style:{color:"red","margin-top":"0.5rem"}},eO=ot({__name:"JsonImport",emits:["inject","clear"],setup(e,{emit:t}){const n=t,{fitView:r}=Et(),o=rt(!1),i=rt(""),s=rt(""),u=rt(null);function c(){try{console.log("Raw input:",i.value);const p=JSON.parse(i.value),v=q$(p);u.value=v,v.valid?(s.value="",n("inject",p),setTimeout(()=>{r({padding:.2})},100)):s.value="Validation failed: "+v.errors.map(m=>m.message).join(", ")}catch{s.value="Invalid JSON format",u.value=null}}function f(){console.log("Clear button clicked"),n("clear")}function h(p){const v=p.target.files?.[0];if(!v)return;const m=new FileReader;m.onload=()=>{i.value=m.result},m.readAsText(v)}return(p,v)=>(ve(),_e(et,null,[me("button",{onClick:v[0]||(v[0]=m=>o.value=!o.value),class:"toggle-button"},st(o.value?"Hide Import Panel":"Show Import Panel"),1),Rt(me("div",G$,[me("div",W$,[v[2]||(v[2]=me("h2",null,"Import Node JSON",-1)),Rt(me("textarea",{"onUpdate:modelValue":v[1]||(v[1]=m=>i.value=m),placeholder:"Paste your JSON here",rows:"10",class:"json-textarea"},null,512),[[In,i.value]]),me("input",{type:"file",accept:".json",onChange:h},null,32),me("button",{onClick:c},"Validate"),me("button",{onClick:f,class:"btn danger"}," Clear Canvas "),u.value&&u.value.valid?(ve(),_e("div",Y$," ✅ JSON is valid! ")):pt("",!0),u.value&&!u.value.valid?(ve(),_e("div",X$,[me("ul",J$,[(ve(!0),_e(et,null,Bt(u.value.errors,(m,E)=>(ve(),_e("li",{key:E},st(m.message),1))),128))])])):pt("",!0),s.value&&(!u.value||!u.value.valid)?(ve(),_e("div",Q$,st(s.value),1)):pt("",!0)])],512),[[__,o.value]])],64))}}),tO=hn(eO,[["__scopeId","data-v-3d593583"]]),nO={class:"editor-layout"},rO=ot({__name:"EditorPage",setup(e){rg({title:"Editor"});const t=Uo();function n(o){t.injectNodes(o)}function r(){t.clearNodes()}return(o,i)=>{const s=Zo("NodeSidebar");return ve(),_e("div",nO,[tt(s),tt(Wm),tt(tO,{onInject:n,onClear:r}),tt(Z$)])}}}),oO=hn(rO,[["__scopeId","data-v-d7290a9f"]]),iO={class:"editor-root"},sO=ot({__name:"EditorLayout",setup(e){return rg({titleTemplate:t=>t?`${t} • Streamline Flow`:"Streamline Flow"}),(t,n)=>(ve(),_e("div",iO,[tt(Pe(mg))]))}}),aO=hn(sO,[["__scopeId","data-v-08dbd2dd"]]),uO={key:0},lO={key:1,class:"loading"},cO=ot({__name:"ProjectView",setup(e){const t=Nb(),n=Uo();return Sn(()=>{const r=typeof t.params.id=="string"?t.params.id:"";if(!r){console.warn("No project ID in route");return}console.log("Loading project with ID:",r),n.load(r)}),Ma(()=>{console.log("Project loaded?",!!n.current),console.log("Units:",n.units),console.log("Resources:",n.resources)}),(r,o)=>Pe(n).current?(ve(),_e("div",uO,[tt(Wm)])):(ve(),_e("div",lO,[...o[0]||(o[0]=[me("span",{class:"spinner"},null,-1),me("span",null,"Loading project...",-1)])]))}}),fO=hn(cO,[["__scopeId","data-v-8042a22e"]]),dO=[{path:"/",component:aO,children:[{path:"",name:"home",component:oO}]},{path:"/project/:id",component:fO}],Zs=Pb({history:ob("/Streamline/"),routes:dO}),hO=S0();(async()=>{await ma.projects.clear(),await ma.projects.put({id:"demo-project",name:"Demo Project",schemaVersion:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),settings:{baseTimeUnitId:"s",defaultRateDisplay:"per_s",resourceDefaultUnits:{r1:"u1",r2:"u2"},balancing:{mode:"per_time",targetTimeUnitId:"s",tolerance:.01},ui:{snapToGrid:!0,gridSize:16,minimap:!0}},units:[{id:"u1",name:"Liter",symbol:"L",baseUnit:"L",factor:1,dimension:"volume",aliases:["litre","ℓ"]},{id:"u2",name:"Kilowatt-hour",symbol:"kWh",baseUnit:"Wh",factor:1e3,dimension:"energy",aliases:["kW·h"]}],resources:[{id:"r1",name:"Water",defaultUnitId:"u1"},{id:"r2",name:"Electricity",defaultUnitId:"u2"}],nodes:[],edges:[]});const e=F_(I0);e.use(G_()),e.use(Zs),e.use(hO),e.mount("#app")})();
