(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wl(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const gt={},wo=[],Hn=()=>{},Dh=()=>!1,_a=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Yl=e=>e.startsWith("onUpdate:"),tn=Object.assign,Xl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Cv=Object.prototype.hasOwnProperty,pt=(e,t)=>Cv.call(e,t),We=Array.isArray,xo=e=>Fi(e)==="[object Map]",ba=e=>Fi(e)==="[object Set]",mf=e=>Fi(e)==="[object Date]",Xe=e=>typeof e=="function",$t=e=>typeof e=="string",In=e=>typeof e=="symbol",vt=e=>e!==null&&typeof e=="object",Rh=e=>(vt(e)||Xe(e))&&Xe(e.then)&&Xe(e.catch),zh=Object.prototype.toString,Fi=e=>zh.call(e),Iv=e=>Fi(e).slice(8,-1),Bh=e=>Fi(e)==="[object Object]",Jl=e=>$t(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,li=Wl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wa=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Pv=/-\w/g,xn=wa(e=>e.replace(Pv,t=>t.slice(1).toUpperCase())),Tv=/\B([A-Z])/g,to=wa(e=>e.replace(Tv,"-$1").toLowerCase()),xa=wa(e=>e.charAt(0).toUpperCase()+e.slice(1)),Au=wa(e=>e?`on${xa(e)}`:""),sr=(e,t)=>!Object.is(e,t),Os=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Fh=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Ls=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let vf;const Sa=()=>vf||(vf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fn(e){if(We(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=$t(r)?Av(r):fn(r);if(o)for(const i in o)t[i]=o[i]}return t}else if($t(e)||vt(e))return e}const Nv=/;(?![^(]*\))/g,$v=/:([^]+)/,Ov=/\/\*[^]*?\*\//g;function Av(e){const t={};return e.replace(Ov,"").split(Nv).forEach(n=>{if(n){const r=n.split($v);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function gn(e){let t="";if($t(e))t=e;else if(We(e))for(let n=0;n<e.length;n++){const r=gn(e[n]);r&&(t+=r+" ")}else if(vt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Mv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dv=Wl(Mv);function jh(e){return!!e||e===""}function Rv(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ea(e[r],t[r]);return n}function Ea(e,t){if(e===t)return!0;let n=mf(e),r=mf(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=In(e),r=In(t),n||r)return e===t;if(n=We(e),r=We(t),n||r)return n&&r?Rv(e,t):!1;if(n=vt(e),r=vt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const s in e){const u=e.hasOwnProperty(s),c=t.hasOwnProperty(s);if(u&&!c||!u&&c||!Ea(e[s],t[s]))return!1}}return String(e)===String(t)}function zv(e,t){return e.findIndex(n=>Ea(n,t))}const Hh=e=>!!(e&&e.__v_isRef===!0),_t=e=>$t(e)?e:e==null?"":We(e)||vt(e)&&(e.toString===zh||!Xe(e.toString))?Hh(e)?_t(e.value):JSON.stringify(e,Vh,2):String(e),Vh=(e,t)=>Hh(t)?Vh(e,t.value):xo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o],i)=>(n[Mu(r,i)+" =>"]=o,n),{})}:ba(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Mu(n))}:In(t)?Mu(t):vt(t)&&!We(t)&&!Bh(t)?String(t):t,Mu=(e,t="")=>{var n;return In(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jt;class Lh{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Jt,!t&&Jt&&(this.index=(Jt.scopes||(Jt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Jt;try{return Jt=this,t()}finally{Jt=n}}}on(){++this._on===1&&(this.prevScope=Jt,Jt=this)}off(){this._on>0&&--this._on===0&&(Jt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function ka(e){return new Lh(e)}function Ca(){return Jt}function ci(e,t=!1){Jt&&Jt.cleanups.push(e)}let bt;const Du=new WeakSet;class Zh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Jt&&Jt.active&&Jt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Du.has(this)&&(Du.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Uh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,yf(this),qh(this);const t=bt,n=Cn;bt=this,Cn=!0;try{return this.fn()}finally{Gh(this),bt=t,Cn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)tc(t);this.deps=this.depsTail=void 0,yf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Du.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fl(this)&&this.run()}get dirty(){return fl(this)}}let Kh=0,fi,di;function Uh(e,t=!1){if(e.flags|=8,t){e.next=di,di=e;return}e.next=fi,fi=e}function Ql(){Kh++}function ec(){if(--Kh>0)return;if(di){let t=di;for(di=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;fi;){let t=fi;for(fi=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function qh(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Gh(e){let t,n=e.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),tc(r),Bv(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=n}function fl(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Wh(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Wh(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Si)||(e.globalVersion=Si,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!fl(e))))return;e.flags|=2;const t=e.dep,n=bt,r=Cn;bt=e,Cn=!0;try{qh(e);const o=e.fn(e._value);(t.version===0||sr(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{bt=n,Cn=r,Gh(e),e.flags&=-3}}function tc(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)tc(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Bv(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Cn=!0;const Yh=[];function ur(){Yh.push(Cn),Cn=!1}function lr(){const e=Yh.pop();Cn=e===void 0?!0:e}function yf(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=bt;bt=void 0;try{t()}finally{bt=n}}}let Si=0;class Fv{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ia{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!bt||!Cn||bt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==bt)n=this.activeLink=new Fv(bt,this),bt.deps?(n.prevDep=bt.depsTail,bt.depsTail.nextDep=n,bt.depsTail=n):bt.deps=bt.depsTail=n,Xh(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=bt.depsTail,n.nextDep=void 0,bt.depsTail.nextDep=n,bt.depsTail=n,bt.deps===n&&(bt.deps=r)}return n}trigger(t){this.version++,Si++,this.notify(t)}notify(t){Ql();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ec()}}}function Xh(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Xh(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Zs=new WeakMap,qr=Symbol(""),dl=Symbol(""),Ei=Symbol("");function Qt(e,t,n){if(Cn&&bt){let r=Zs.get(e);r||Zs.set(e,r=new Map);let o=r.get(n);o||(r.set(n,o=new Ia),o.map=r,o.key=n),o.track()}}function tr(e,t,n,r,o,i){const s=Zs.get(e);if(!s){Si++;return}const u=c=>{c&&c.trigger()};if(Ql(),t==="clear")s.forEach(u);else{const c=We(e),f=c&&Jl(n);if(c&&n==="length"){const h=Number(r);s.forEach((p,v)=>{(v==="length"||v===Ei||!In(v)&&v>=h)&&u(p)})}else switch((n!==void 0||s.has(void 0))&&u(s.get(n)),f&&u(s.get(Ei)),t){case"add":c?f&&u(s.get("length")):(u(s.get(qr)),xo(e)&&u(s.get(dl)));break;case"delete":c||(u(s.get(qr)),xo(e)&&u(s.get(dl)));break;case"set":xo(e)&&u(s.get(qr));break}}ec()}function jv(e,t){const n=Zs.get(e);return n&&n.get(t)}function po(e){const t=ut(e);return t===e?t:(Qt(t,"iterate",Ei),wn(e)?t:t.map(qt))}function Pa(e){return Qt(e=ut(e),"iterate",Ei),e}const Hv={__proto__:null,[Symbol.iterator](){return Ru(this,Symbol.iterator,qt)},concat(...e){return po(this).concat(...e.map(t=>We(t)?po(t):t))},entries(){return Ru(this,"entries",e=>(e[1]=qt(e[1]),e))},every(e,t){return Xn(this,"every",e,t,void 0,arguments)},filter(e,t){return Xn(this,"filter",e,t,n=>n.map(qt),arguments)},find(e,t){return Xn(this,"find",e,t,qt,arguments)},findIndex(e,t){return Xn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Xn(this,"findLast",e,t,qt,arguments)},findLastIndex(e,t){return Xn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Xn(this,"forEach",e,t,void 0,arguments)},includes(...e){return zu(this,"includes",e)},indexOf(...e){return zu(this,"indexOf",e)},join(e){return po(this).join(e)},lastIndexOf(...e){return zu(this,"lastIndexOf",e)},map(e,t){return Xn(this,"map",e,t,void 0,arguments)},pop(){return Xo(this,"pop")},push(...e){return Xo(this,"push",e)},reduce(e,...t){return _f(this,"reduce",e,t)},reduceRight(e,...t){return _f(this,"reduceRight",e,t)},shift(){return Xo(this,"shift")},some(e,t){return Xn(this,"some",e,t,void 0,arguments)},splice(...e){return Xo(this,"splice",e)},toReversed(){return po(this).toReversed()},toSorted(e){return po(this).toSorted(e)},toSpliced(...e){return po(this).toSpliced(...e)},unshift(...e){return Xo(this,"unshift",e)},values(){return Ru(this,"values",qt)}};function Ru(e,t,n){const r=Pa(e),o=r[t]();return r!==e&&!wn(e)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=n(i.value)),i}),o}const Vv=Array.prototype;function Xn(e,t,n,r,o,i){const s=Pa(e),u=s!==e&&!wn(e),c=s[t];if(c!==Vv[t]){const p=c.apply(e,i);return u?qt(p):p}let f=n;s!==e&&(u?f=function(p,v){return n.call(this,qt(p),v,e)}:n.length>2&&(f=function(p,v){return n.call(this,p,v,e)}));const h=c.call(s,f,r);return u&&o?o(h):h}function _f(e,t,n,r){const o=Pa(e);let i=n;return o!==e&&(wn(e)?n.length>3&&(i=function(s,u,c){return n.call(this,s,u,c,e)}):i=function(s,u,c){return n.call(this,s,qt(u),c,e)}),o[t](i,...r)}function zu(e,t,n){const r=ut(e);Qt(r,"iterate",Ei);const o=r[t](...n);return(o===-1||o===!1)&&ic(n[0])?(n[0]=ut(n[0]),r[t](...n)):o}function Xo(e,t,n=[]){ur(),Ql();const r=ut(e)[t].apply(e,n);return ec(),lr(),r}const Lv=Wl("__proto__,__v_isRef,__isVue"),Jh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(In));function Zv(e){In(e)||(e=String(e));const t=ut(this);return Qt(t,"has",e),t.hasOwnProperty(e)}class Qh{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(o?i?ey:rp:i?np:tp).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=We(t);if(!o){let c;if(s&&(c=Hv[n]))return c;if(n==="hasOwnProperty")return Zv}const u=Reflect.get(t,n,mt(t)?t:r);return(In(n)?Jh.has(n):Lv(n))||(o||Qt(t,"get",n),i)?u:mt(u)?s&&Jl(n)?u:u.value:vt(u)?o?rc(u):Ho(u):u}}class ep extends Qh{constructor(t=!1){super(!1,t)}set(t,n,r,o){let i=t[n];if(!this._isShallow){const c=Pr(i);if(!wn(r)&&!Pr(r)&&(i=ut(i),r=ut(r)),!We(t)&&mt(i)&&!mt(r))return c||(i.value=r),!0}const s=We(t)&&Jl(n)?Number(n)<t.length:pt(t,n),u=Reflect.set(t,n,r,mt(t)?t:o);return t===ut(o)&&(s?sr(r,i)&&tr(t,"set",n,r):tr(t,"add",n,r)),u}deleteProperty(t,n){const r=pt(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&tr(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!In(n)||!Jh.has(n))&&Qt(t,"has",n),r}ownKeys(t){return Qt(t,"iterate",We(t)?"length":qr),Reflect.ownKeys(t)}}class Kv extends Qh{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Uv=new ep,qv=new Kv,Gv=new ep(!0);const hl=e=>e,gs=e=>Reflect.getPrototypeOf(e);function Wv(e,t,n){return function(...r){const o=this.__v_raw,i=ut(o),s=xo(i),u=e==="entries"||e===Symbol.iterator&&s,c=e==="keys"&&s,f=o[e](...r),h=n?hl:t?Ks:qt;return!t&&Qt(i,"iterate",c?dl:qr),{next(){const{value:p,done:v}=f.next();return v?{value:p,done:v}:{value:u?[h(p[0]),h(p[1])]:h(p),done:v}},[Symbol.iterator](){return this}}}}function ms(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Yv(e,t){const n={get(o){const i=this.__v_raw,s=ut(i),u=ut(o);e||(sr(o,u)&&Qt(s,"get",o),Qt(s,"get",u));const{has:c}=gs(s),f=t?hl:e?Ks:qt;if(c.call(s,o))return f(i.get(o));if(c.call(s,u))return f(i.get(u));i!==s&&i.get(o)},get size(){const o=this.__v_raw;return!e&&Qt(ut(o),"iterate",qr),o.size},has(o){const i=this.__v_raw,s=ut(i),u=ut(o);return e||(sr(o,u)&&Qt(s,"has",o),Qt(s,"has",u)),o===u?i.has(o):i.has(o)||i.has(u)},forEach(o,i){const s=this,u=s.__v_raw,c=ut(u),f=t?hl:e?Ks:qt;return!e&&Qt(c,"iterate",qr),u.forEach((h,p)=>o.call(i,f(h),f(p),s))}};return tn(n,e?{add:ms("add"),set:ms("set"),delete:ms("delete"),clear:ms("clear")}:{add(o){!t&&!wn(o)&&!Pr(o)&&(o=ut(o));const i=ut(this);return gs(i).has.call(i,o)||(i.add(o),tr(i,"add",o,o)),this},set(o,i){!t&&!wn(i)&&!Pr(i)&&(i=ut(i));const s=ut(this),{has:u,get:c}=gs(s);let f=u.call(s,o);f||(o=ut(o),f=u.call(s,o));const h=c.call(s,o);return s.set(o,i),f?sr(i,h)&&tr(s,"set",o,i):tr(s,"add",o,i),this},delete(o){const i=ut(this),{has:s,get:u}=gs(i);let c=s.call(i,o);c||(o=ut(o),c=s.call(i,o)),u&&u.call(i,o);const f=i.delete(o);return c&&tr(i,"delete",o,void 0),f},clear(){const o=ut(this),i=o.size!==0,s=o.clear();return i&&tr(o,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Wv(o,e,t)}),n}function nc(e,t){const n=Yv(e,t);return(r,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(pt(n,o)&&o in r?n:r,o,i)}const Xv={get:nc(!1,!1)},Jv={get:nc(!1,!0)},Qv={get:nc(!0,!1)};const tp=new WeakMap,np=new WeakMap,rp=new WeakMap,ey=new WeakMap;function ty(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ny(e){return e.__v_skip||!Object.isExtensible(e)?0:ty(Iv(e))}function Ho(e){return Pr(e)?e:oc(e,!1,Uv,Xv,tp)}function op(e){return oc(e,!1,Gv,Jv,np)}function rc(e){return oc(e,!0,qv,Qv,rp)}function oc(e,t,n,r,o){if(!vt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=ny(e);if(i===0)return e;const s=o.get(e);if(s)return s;const u=new Proxy(e,i===2?r:n);return o.set(e,u),u}function ar(e){return Pr(e)?ar(e.__v_raw):!!(e&&e.__v_isReactive)}function Pr(e){return!!(e&&e.__v_isReadonly)}function wn(e){return!!(e&&e.__v_isShallow)}function ic(e){return e?!!e.__v_raw:!1}function ut(e){const t=e&&e.__v_raw;return t?ut(t):e}function Vn(e){return!pt(e,"__v_skip")&&Object.isExtensible(e)&&Fh(e,"__v_skip",!0),e}const qt=e=>vt(e)?Ho(e):e,Ks=e=>vt(e)?rc(e):e;function mt(e){return e?e.__v_isRef===!0:!1}function lt(e){return ip(e,!1)}function ki(e){return ip(e,!0)}function ip(e,t){return mt(e)?e:new ry(e,t)}class ry{constructor(t,n){this.dep=new Ia,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ut(t),this._value=n?t:qt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||wn(t)||Pr(t);t=r?t:ut(t),sr(t,n)&&(this._rawValue=t,this._value=r?t:qt(t),this.dep.trigger())}}function Ce(e){return mt(e)?e.value:e}function tt(e){return Xe(e)?e():Ce(e)}const oy={get:(e,t,n)=>t==="__v_raw"?e:Ce(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return mt(o)&&!mt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function sp(e){return ar(e)?e:new Proxy(e,oy)}class iy{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ia,{get:r,set:o}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=o}get value(){return this._value=this._get()}set value(t){this._set(t)}}function sy(e){return new iy(e)}function ap(e){const t=We(e)?new Array(e.length):{};for(const n in e)t[n]=up(e,n);return t}class ay{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return jv(ut(this._object),this._key)}}class uy{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function St(e,t,n){return mt(e)?e:Xe(e)?new uy(e):vt(e)&&arguments.length>1?up(e,t,n):lt(e)}function up(e,t,n){const r=e[t];return mt(r)?r:new ay(e,t,n)}class ly{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ia(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Si-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&bt!==this)return Uh(this,!0),!0}get value(){const t=this.dep.track();return Wh(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function cy(e,t,n=!1){let r,o;return Xe(e)?r=e:(r=e.get,o=e.set),new ly(r,o,n)}const vs={},Us=new WeakMap;let Vr;function fy(e,t=!1,n=Vr){if(n){let r=Us.get(n);r||Us.set(n,r=[]),r.push(e)}}function dy(e,t,n=gt){const{immediate:r,deep:o,once:i,scheduler:s,augmentJob:u,call:c}=n,f=P=>o?P:wn(P)||o===!1||o===0?nr(P,1):nr(P);let h,p,v,m,w=!1,k=!1;if(mt(e)?(p=()=>e.value,w=wn(e)):ar(e)?(p=()=>f(e),w=!0):We(e)?(k=!0,w=e.some(P=>ar(P)||wn(P)),p=()=>e.map(P=>{if(mt(P))return P.value;if(ar(P))return f(P);if(Xe(P))return c?c(P,2):P()})):Xe(e)?t?p=c?()=>c(e,2):e:p=()=>{if(v){ur();try{v()}finally{lr()}}const P=Vr;Vr=h;try{return c?c(e,3,[m]):e(m)}finally{Vr=P}}:p=Hn,t&&o){const P=p,Q=o===!0?1/0:o;p=()=>nr(P(),Q)}const A=Ca(),O=()=>{h.stop(),A&&A.active&&Xl(A.effects,h)};if(i&&t){const P=t;t=(...Q)=>{P(...Q),O()}}let N=k?new Array(e.length).fill(vs):vs;const C=P=>{if(!(!(h.flags&1)||!h.dirty&&!P))if(t){const Q=h.run();if(o||w||(k?Q.some((re,ae)=>sr(re,N[ae])):sr(Q,N))){v&&v();const re=Vr;Vr=h;try{const ae=[Q,N===vs?void 0:k&&N[0]===vs?[]:N,m];N=Q,c?c(t,3,ae):t(...ae)}finally{Vr=re}}}else h.run()};return u&&u(C),h=new Zh(p),h.scheduler=s?()=>s(C,!1):C,m=P=>fy(P,!1,h),v=h.onStop=()=>{const P=Us.get(h);if(P){if(c)c(P,4);else for(const Q of P)Q();Us.delete(h)}},t?r?C(!0):N=h.run():s?s(C.bind(null,!0),!0):h.run(),O.pause=h.pause.bind(h),O.resume=h.resume.bind(h),O.stop=O,O}function nr(e,t=1/0,n){if(t<=0||!vt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,mt(e))nr(e.value,t,n);else if(We(e))for(let r=0;r<e.length;r++)nr(e[r],t,n);else if(ba(e)||xo(e))e.forEach(r=>{nr(r,t,n)});else if(Bh(e)){for(const r in e)nr(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&nr(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ji(e,t,n,r){try{return r?e(...r):e()}catch(o){Ta(o,t,n)}}function Un(e,t,n,r){if(Xe(e)){const o=ji(e,t,n,r);return o&&Rh(o)&&o.catch(i=>{Ta(i,t,n)}),o}if(We(e)){const o=[];for(let i=0;i<e.length;i++)o.push(Un(e[i],t,n,r));return o}}function Ta(e,t,n,r=!0){const o=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||gt;if(t){let u=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const h=u.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](e,c,f)===!1)return}u=u.parent}if(i){ur(),ji(i,null,10,[e,c,f]),lr();return}}hy(e,n,o,r,s)}function hy(e,t,n,r=!0,o=!1){if(o)throw e;console.error(e)}const an=[];let Dn=-1;const So=[];let Er=null,vo=0;const lp=Promise.resolve();let qs=null;function mn(e){const t=qs||lp;return e?t.then(this?e.bind(this):e):t}function py(e){let t=Dn+1,n=an.length;for(;t<n;){const r=t+n>>>1,o=an[r],i=Ci(o);i<e||i===e&&o.flags&2?t=r+1:n=r}return t}function sc(e){if(!(e.flags&1)){const t=Ci(e),n=an[an.length-1];!n||!(e.flags&2)&&t>=Ci(n)?an.push(e):an.splice(py(t),0,e),e.flags|=1,cp()}}function cp(){qs||(qs=lp.then(dp))}function gy(e){We(e)?So.push(...e):Er&&e.id===-1?Er.splice(vo+1,0,e):e.flags&1||(So.push(e),e.flags|=1),cp()}function bf(e,t,n=Dn+1){for(;n<an.length;n++){const r=an[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;an.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function fp(e){if(So.length){const t=[...new Set(So)].sort((n,r)=>Ci(n)-Ci(r));if(So.length=0,Er){Er.push(...t);return}for(Er=t,vo=0;vo<Er.length;vo++){const n=Er[vo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Er=null,vo=0}}const Ci=e=>e.id==null?e.flags&2?-1:1/0:e.id;function dp(e){try{for(Dn=0;Dn<an.length;Dn++){const t=an[Dn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ji(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Dn<an.length;Dn++){const t=an[Dn];t&&(t.flags&=-2)}Dn=-1,an.length=0,fp(),qs=null,(an.length||So.length)&&dp()}}let Gt=null,hp=null;function Gs(e){const t=Gt;return Gt=e,hp=e&&e.type.__scopeId||null,t}function No(e,t=Gt,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&Xs(-1);const i=Gs(t);let s;try{s=e(...o)}finally{Gs(i),r._d&&Xs(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Rn(e,t){if(Gt===null)return e;const n=Ra(Gt),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[i,s,u,c=gt]=t[o];i&&(Xe(i)&&(i={mounted:i,updated:i}),i.deep&&nr(s),r.push({dir:i,instance:n,value:s,oldValue:void 0,arg:u,modifiers:c}))}return e}function jr(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let s=0;s<o.length;s++){const u=o[s];i&&(u.oldValue=i[s].value);let c=u.dir[r];c&&(ur(),Un(c,n,8,[e.el,u,e,t]),lr())}}const pp=Symbol("_vte"),my=e=>e.__isTeleport,hi=e=>e&&(e.disabled||e.disabled===""),wf=e=>e&&(e.defer||e.defer===""),xf=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Sf=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,pl=(e,t)=>{const n=e&&e.to;return $t(n)?t?t(n):null:n},gp={name:"Teleport",__isTeleport:!0,process(e,t,n,r,o,i,s,u,c,f){const{mc:h,pc:p,pbc:v,o:{insert:m,querySelector:w,createText:k,createComment:A}}=f,O=hi(t.props);let{shapeFlag:N,children:C,dynamicChildren:P}=t;if(e==null){const Q=t.el=k(""),re=t.anchor=k("");m(Q,n,r),m(re,n,r);const ae=(pe,ve)=>{N&16&&(o&&o.isCE&&(o.ce._teleportTarget=pe),h(C,pe,ve,o,i,s,u,c))},ue=()=>{const pe=t.target=pl(t.props,w),ve=mp(pe,t,k,m);pe&&(s!=="svg"&&xf(pe)?s="svg":s!=="mathml"&&Sf(pe)&&(s="mathml"),O||(ae(pe,ve),As(t,!1)))};O&&(ae(n,re),As(t,!0)),wf(t.props)?(t.el.__isMounted=!1,sn(()=>{ue(),delete t.el.__isMounted},i)):ue()}else{if(wf(t.props)&&e.el.__isMounted===!1){sn(()=>{gp.process(e,t,n,r,o,i,s,u,c,f)},i);return}t.el=e.el,t.targetStart=e.targetStart;const Q=t.anchor=e.anchor,re=t.target=e.target,ae=t.targetAnchor=e.targetAnchor,ue=hi(e.props),pe=ue?n:re,ve=ue?Q:ae;if(s==="svg"||xf(re)?s="svg":(s==="mathml"||Sf(re))&&(s="mathml"),P?(v(e.dynamicChildren,P,pe,o,i,s,u),dc(e,t,!0)):c||p(e,t,pe,ve,o,i,s,u,!1),O)ue?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ys(t,n,Q,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ge=t.target=pl(t.props,w);ge&&ys(t,ge,null,f,0)}else ue&&ys(t,re,ae,f,1);As(t,O)}},remove(e,t,n,{um:r,o:{remove:o}},i){const{shapeFlag:s,children:u,anchor:c,targetStart:f,targetAnchor:h,target:p,props:v}=e;if(p&&(o(f),o(h)),i&&o(c),s&16){const m=i||!hi(v);for(let w=0;w<u.length;w++){const k=u[w];r(k,t,n,m,!!k.dynamicChildren)}}},move:ys,hydrate:vy};function ys(e,t,n,{o:{insert:r},m:o},i=2){i===0&&r(e.targetAnchor,t,n);const{el:s,anchor:u,shapeFlag:c,children:f,props:h}=e,p=i===2;if(p&&r(s,t,n),(!p||hi(h))&&c&16)for(let v=0;v<f.length;v++)o(f[v],t,n,2);p&&r(u,t,n)}function vy(e,t,n,r,o,i,{o:{nextSibling:s,parentNode:u,querySelector:c,insert:f,createText:h}},p){function v(k,A,O,N){A.anchor=p(s(k),A,u(k),n,r,o,i),A.targetStart=O,A.targetAnchor=N}const m=t.target=pl(t.props,c),w=hi(t.props);if(m){const k=m._lpa||m.firstChild;if(t.shapeFlag&16)if(w)v(e,t,k,k&&s(k));else{t.anchor=s(e);let A=k;for(;A;){if(A&&A.nodeType===8){if(A.data==="teleport start anchor")t.targetStart=A;else if(A.data==="teleport anchor"){t.targetAnchor=A,m._lpa=t.targetAnchor&&s(t.targetAnchor);break}}A=s(A)}t.targetAnchor||mp(m,t,h,f),p(k&&s(k),t,m,n,r,o,i)}As(t,w)}else w&&t.shapeFlag&16&&v(e,t,e,s(e));return t.anchor&&s(t.anchor)}const yy=gp;function As(e,t){const n=e.ctx;if(n&&n.ut){let r,o;for(t?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function mp(e,t,n,r){const o=t.targetStart=n(""),i=t.targetAnchor=n("");return o[pp]=i,e&&(r(o,e),r(i,e)),i}const _y=Symbol("_leaveCb");function ac(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ac(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function nt(e,t){return Xe(e)?tn({name:e.name},t,{setup:e}):e}function vp(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ws=new WeakMap;function pi(e,t,n,r,o=!1){if(We(e)){e.forEach((w,k)=>pi(w,t&&(We(t)?t[k]:t),n,r,o));return}if(Eo(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&pi(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Ra(r.component):r.el,s=o?null:i,{i:u,r:c}=e,f=t&&t.r,h=u.refs===gt?u.refs={}:u.refs,p=u.setupState,v=ut(p),m=p===gt?Dh:w=>pt(v,w);if(f!=null&&f!==c){if(Ef(t),$t(f))h[f]=null,m(f)&&(p[f]=null);else if(mt(f)){f.value=null;const w=t;w.k&&(h[w.k]=null)}}if(Xe(c))ji(c,u,12,[s,h]);else{const w=$t(c),k=mt(c);if(w||k){const A=()=>{if(e.f){const O=w?m(c)?p[c]:h[c]:c.value;if(o)We(O)&&Xl(O,i);else if(We(O))O.includes(i)||O.push(i);else if(w)h[c]=[i],m(c)&&(p[c]=h[c]);else{const N=[i];c.value=N,e.k&&(h[e.k]=N)}}else w?(h[c]=s,m(c)&&(p[c]=s)):k&&(c.value=s,e.k&&(h[e.k]=s))};if(s){const O=()=>{A(),Ws.delete(e)};O.id=-1,Ws.set(e,O),sn(O,n)}else Ef(e),A()}}}function Ef(e){const t=Ws.get(e);t&&(t.flags|=8,Ws.delete(e))}Sa().requestIdleCallback;Sa().cancelIdleCallback;const Eo=e=>!!e.type.__asyncLoader,yp=e=>e.type.__isKeepAlive;function _p(e,t){wp(e,"a",t)}function bp(e,t){wp(e,"da",t)}function wp(e,t,n=en){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Na(t,r,n),n){let o=n.parent;for(;o&&o.parent;)yp(o.parent.vnode)&&by(r,t,n,o),o=o.parent}}function by(e,t,n,r){const o=Na(t,e,r,!0);lc(()=>{Xl(r[t],o)},n)}function Na(e,t,n=en,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...s)=>{ur();const u=Hi(n),c=Un(t,n,e,s);return u(),lr(),c});return r?o.unshift(i):o.push(i),i}}const dr=e=>(t,n=en)=>{(!Pi||e==="sp")&&Na(e,(...r)=>t(...r),n)},uc=dr("bm"),ln=dr("m"),wy=dr("bu"),xy=dr("u"),$a=dr("bum"),lc=dr("um"),Sy=dr("sp"),Ey=dr("rtg"),ky=dr("rtc");function Cy(e,t=en){Na("ec",e,t)}const xp="components";function Oa(e,t){return Ep(xp,e,!0,t)||e}const Sp=Symbol.for("v-ndc");function Iy(e){return $t(e)?Ep(xp,e,!1)||e:e||Sp}function Ep(e,t,n=!0,r=!1){const o=Gt||en;if(o){const i=o.type;{const u=g_(i,!1);if(u&&(u===t||u===xn(t)||u===xa(xn(t))))return i}const s=kf(o[e]||i[e],t)||kf(o.appContext[e],t);return!s&&r?i:s}}function kf(e,t){return e&&(e[t]||e[xn(t)]||e[xa(xn(t))])}function bn(e,t,n,r){let o;const i=n&&n[r],s=We(e);if(s||$t(e)){const u=s&&ar(e);let c=!1,f=!1;u&&(c=!wn(e),f=Pr(e),e=Pa(e)),o=new Array(e.length);for(let h=0,p=e.length;h<p;h++)o[h]=t(c?f?Ks(qt(e[h])):qt(e[h]):e[h],h,void 0,i&&i[h])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,i&&i[u])}else if(vt(e))if(e[Symbol.iterator])o=Array.from(e,(u,c)=>t(u,c,void 0,i&&i[c]));else{const u=Object.keys(e);o=new Array(u.length);for(let c=0,f=u.length;c<f;c++){const h=u[c];o[c]=t(e[h],h,c,i&&i[c])}}else o=[];return n&&(n[r]=o),o}function Ln(e,t,n={},r,o){if(Gt.ce||Gt.parent&&Eo(Gt.parent)&&Gt.parent.ce)return t!=="default"&&(n.name=t),Te(),dn(ft,null,[st("slot",n,r&&r())],64);let i=e[t];i&&i._c&&(i._d=!1),Te();const s=i&&kp(i(n)),u=n.key||s&&s.key,c=dn(ft,{key:(u&&!In(u)?u:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&e._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function kp(e){return e.some(t=>Ii(t)?!(t.type===cr||t.type===ft&&!kp(t.children)):!0)?e:null}const gl=e=>e?Up(e)?Ra(e):gl(e.parent):null,gi=tn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gl(e.parent),$root:e=>gl(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Pp(e),$forceUpdate:e=>e.f||(e.f=()=>{sc(e.update)}),$nextTick:e=>e.n||(e.n=mn.bind(e.proxy)),$watch:e=>Xy.bind(e)}),Bu=(e,t)=>e!==gt&&!e.__isScriptSetup&&pt(e,t),Py={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:u,appContext:c}=e;let f;if(t[0]!=="$"){const m=s[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(Bu(r,t))return s[t]=1,r[t];if(o!==gt&&pt(o,t))return s[t]=2,o[t];if((f=e.propsOptions[0])&&pt(f,t))return s[t]=3,i[t];if(n!==gt&&pt(n,t))return s[t]=4,n[t];ml&&(s[t]=0)}}const h=gi[t];let p,v;if(h)return t==="$attrs"&&Qt(e.attrs,"get",""),h(e);if((p=u.__cssModules)&&(p=p[t]))return p;if(n!==gt&&pt(n,t))return s[t]=4,n[t];if(v=c.config.globalProperties,pt(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return Bu(o,t)?(o[t]=n,!0):r!==gt&&pt(r,t)?(r[t]=n,!0):pt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i,type:s}},u){let c,f;return!!(n[u]||e!==gt&&u[0]!=="$"&&pt(e,u)||Bu(t,u)||(c=i[0])&&pt(c,u)||pt(r,u)||pt(gi,u)||pt(o.config.globalProperties,u)||(f=s.__cssModules)&&f[u])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:pt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ty(){return Cp().slots}function Ny(){return Cp().attrs}function Cp(e){const t=qn();return t.setupContext||(t.setupContext=Gp(t))}function Cf(e){return We(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function $y(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}let ml=!0;function Oy(e){const t=Pp(e),n=e.proxy,r=e.ctx;ml=!1,t.beforeCreate&&If(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:s,watch:u,provide:c,inject:f,created:h,beforeMount:p,mounted:v,beforeUpdate:m,updated:w,activated:k,deactivated:A,beforeDestroy:O,beforeUnmount:N,destroyed:C,unmounted:P,render:Q,renderTracked:re,renderTriggered:ae,errorCaptured:ue,serverPrefetch:pe,expose:ve,inheritAttrs:ge,components:U,directives:ke,filters:F}=t;if(f&&Ay(f,r,null),s)for(const ne in s){const se=s[ne];Xe(se)&&(r[ne]=se.bind(n))}if(o){const ne=o.call(n,n);vt(ne)&&(e.data=Ho(ne))}if(ml=!0,i)for(const ne in i){const se=i[ne],Se=Xe(se)?se.bind(n,n):Xe(se.get)?se.get.bind(n,n):Hn,be=!Xe(se)&&Xe(se.set)?se.set.bind(n):Hn,Oe=Ve({get:Se,set:be});Object.defineProperty(r,ne,{enumerable:!0,configurable:!0,get:()=>Oe.value,set:Be=>Oe.value=Be})}if(u)for(const ne in u)Ip(u[ne],r,n,ne);if(c){const ne=Xe(c)?c.call(n):c;Reflect.ownKeys(ne).forEach(se=>{Zn(se,ne[se])})}h&&If(h,e,"c");function V(ne,se){We(se)?se.forEach(Se=>ne(Se.bind(n))):se&&ne(se.bind(n))}if(V(uc,p),V(ln,v),V(wy,m),V(xy,w),V(_p,k),V(bp,A),V(Cy,ue),V(ky,re),V(Ey,ae),V($a,N),V(lc,P),V(Sy,pe),We(ve))if(ve.length){const ne=e.exposed||(e.exposed={});ve.forEach(se=>{Object.defineProperty(ne,se,{get:()=>n[se],set:Se=>n[se]=Se,enumerable:!0})})}else e.exposed||(e.exposed={});Q&&e.render===Hn&&(e.render=Q),ge!=null&&(e.inheritAttrs=ge),U&&(e.components=U),ke&&(e.directives=ke),pe&&vp(e)}function Ay(e,t,n=Hn){We(e)&&(e=vl(e));for(const r in e){const o=e[r];let i;vt(o)?"default"in o?i=Ut(o.from||r,o.default,!0):i=Ut(o.from||r):i=Ut(o),mt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):t[r]=i}}function If(e,t,n){Un(We(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ip(e,t,n,r){let o=r.includes(".")?jp(n,r):()=>n[r];if($t(e)){const i=t[e];Xe(i)&&rt(o,i)}else if(Xe(e))rt(o,e.bind(n));else if(vt(e))if(We(e))e.forEach(i=>Ip(i,t,n,r));else{const i=Xe(e.handler)?e.handler.bind(n):t[e.handler];Xe(i)&&rt(o,i,e)}}function Pp(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,u=i.get(t);let c;return u?c=u:!o.length&&!n&&!r?c=t:(c={},o.length&&o.forEach(f=>Ys(c,f,s,!0)),Ys(c,t,s)),vt(t)&&i.set(t,c),c}function Ys(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&Ys(e,i,n,!0),o&&o.forEach(s=>Ys(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const u=My[s]||n&&n[s];e[s]=u?u(e[s],t[s]):t[s]}return e}const My={data:Pf,props:Tf,emits:Tf,methods:oi,computed:oi,beforeCreate:on,created:on,beforeMount:on,mounted:on,beforeUpdate:on,updated:on,beforeDestroy:on,beforeUnmount:on,destroyed:on,unmounted:on,activated:on,deactivated:on,errorCaptured:on,serverPrefetch:on,components:oi,directives:oi,watch:Ry,provide:Pf,inject:Dy};function Pf(e,t){return t?e?function(){return tn(Xe(e)?e.call(this,this):e,Xe(t)?t.call(this,this):t)}:t:e}function Dy(e,t){return oi(vl(e),vl(t))}function vl(e){if(We(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function on(e,t){return e?[...new Set([].concat(e,t))]:t}function oi(e,t){return e?tn(Object.create(null),e,t):t}function Tf(e,t){return e?We(e)&&We(t)?[...new Set([...e,...t])]:tn(Object.create(null),Cf(e),Cf(t??{})):t}function Ry(e,t){if(!e)return t;if(!t)return e;const n=tn(Object.create(null),e);for(const r in t)n[r]=on(e[r],t[r]);return n}function Tp(){return{app:null,config:{isNativeTag:Dh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zy=0;function By(e,t){return function(r,o=null){Xe(r)||(r=tn({},r)),o!=null&&!vt(o)&&(o=null);const i=Tp(),s=new WeakSet,u=[];let c=!1;const f=i.app={_uid:zy++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:y_,get config(){return i.config},set config(h){},use(h,...p){return s.has(h)||(h&&Xe(h.install)?(s.add(h),h.install(f,...p)):Xe(h)&&(s.add(h),h(f,...p))),f},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),f},component(h,p){return p?(i.components[h]=p,f):i.components[h]},directive(h,p){return p?(i.directives[h]=p,f):i.directives[h]},mount(h,p,v){if(!c){const m=f._ceVNode||st(r,o);return m.appContext=i,v===!0?v="svg":v===!1&&(v=void 0),e(m,h,v),c=!0,f._container=h,h.__vue_app__=f,Ra(m.component)}},onUnmount(h){u.push(h)},unmount(){c&&(Un(u,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(h,p){return i.provides[h]=p,f},runWithContext(h){const p=Gr;Gr=f;try{return h()}finally{Gr=p}}};return f}}let Gr=null;function Zn(e,t){if(en){let n=en.provides;const r=en.parent&&en.parent.provides;r===n&&(n=en.provides=Object.create(r)),n[e]=t}}function Ut(e,t,n=!1){const r=qn();if(r||Gr){let o=Gr?Gr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Xe(t)?t.call(r&&r.proxy):t}}function Np(){return!!(qn()||Gr)}const $p={},Op=()=>Object.create($p),Ap=e=>Object.getPrototypeOf(e)===$p;function Fy(e,t,n,r=!1){const o={},i=Op();e.propsDefaults=Object.create(null),Mp(e,t,o,i);for(const s in e.propsOptions[0])s in o||(o[s]=void 0);n?e.props=r?o:op(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function jy(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=e,u=ut(o),[c]=e.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const h=e.vnode.dynamicProps;for(let p=0;p<h.length;p++){let v=h[p];if(Ma(e.emitsOptions,v))continue;const m=t[v];if(c)if(pt(i,v))m!==i[v]&&(i[v]=m,f=!0);else{const w=xn(v);o[w]=yl(c,u,w,m,e,!1)}else m!==i[v]&&(i[v]=m,f=!0)}}}else{Mp(e,t,o,i)&&(f=!0);let h;for(const p in u)(!t||!pt(t,p)&&((h=to(p))===p||!pt(t,h)))&&(c?n&&(n[p]!==void 0||n[h]!==void 0)&&(o[p]=yl(c,u,p,void 0,e,!0)):delete o[p]);if(i!==u)for(const p in i)(!t||!pt(t,p))&&(delete i[p],f=!0)}f&&tr(e.attrs,"set","")}function Mp(e,t,n,r){const[o,i]=e.propsOptions;let s=!1,u;if(t)for(let c in t){if(li(c))continue;const f=t[c];let h;o&&pt(o,h=xn(c))?!i||!i.includes(h)?n[h]=f:(u||(u={}))[h]=f:Ma(e.emitsOptions,c)||(!(c in r)||f!==r[c])&&(r[c]=f,s=!0)}if(i){const c=ut(n),f=u||gt;for(let h=0;h<i.length;h++){const p=i[h];n[p]=yl(o,c,p,f[p],e,!pt(f,p))}}return s}function yl(e,t,n,r,o,i){const s=e[n];if(s!=null){const u=pt(s,"default");if(u&&r===void 0){const c=s.default;if(s.type!==Function&&!s.skipFactory&&Xe(c)){const{propsDefaults:f}=o;if(n in f)r=f[n];else{const h=Hi(o);r=f[n]=c.call(null,t),h()}}else r=c;o.ce&&o.ce._setProp(n,r)}s[0]&&(i&&!u?r=!1:s[1]&&(r===""||r===to(n))&&(r=!0))}return r}const Hy=new WeakMap;function Dp(e,t,n=!1){const r=n?Hy:t.propsCache,o=r.get(e);if(o)return o;const i=e.props,s={},u=[];let c=!1;if(!Xe(e)){const h=p=>{c=!0;const[v,m]=Dp(p,t,!0);tn(s,v),m&&u.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!c)return vt(e)&&r.set(e,wo),wo;if(We(i))for(let h=0;h<i.length;h++){const p=xn(i[h]);Nf(p)&&(s[p]=gt)}else if(i)for(const h in i){const p=xn(h);if(Nf(p)){const v=i[h],m=s[p]=We(v)||Xe(v)?{type:v}:tn({},v),w=m.type;let k=!1,A=!0;if(We(w))for(let O=0;O<w.length;++O){const N=w[O],C=Xe(N)&&N.name;if(C==="Boolean"){k=!0;break}else C==="String"&&(A=!1)}else k=Xe(w)&&w.name==="Boolean";m[0]=k,m[1]=A,(k||pt(m,"default"))&&u.push(p)}}const f=[s,u];return vt(e)&&r.set(e,f),f}function Nf(e){return e[0]!=="$"&&!li(e)}const cc=e=>e==="_"||e==="_ctx"||e==="$stable",fc=e=>We(e)?e.map(Bn):[Bn(e)],Vy=(e,t,n)=>{if(t._n)return t;const r=No((...o)=>fc(t(...o)),n);return r._c=!1,r},Rp=(e,t,n)=>{const r=e._ctx;for(const o in e){if(cc(o))continue;const i=e[o];if(Xe(i))t[o]=Vy(o,i,r);else if(i!=null){const s=fc(i);t[o]=()=>s}}},zp=(e,t)=>{const n=fc(t);e.slots.default=()=>n},Bp=(e,t,n)=>{for(const r in t)(n||!cc(r))&&(e[r]=t[r])},Ly=(e,t,n)=>{const r=e.slots=Op();if(e.vnode.shapeFlag&32){const o=t._;o?(Bp(r,t,n),n&&Fh(r,"_",o,!0)):Rp(t,r)}else t&&zp(e,t)},Zy=(e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,s=gt;if(r.shapeFlag&32){const u=t._;u?n&&u===1?i=!1:Bp(o,t,n):(i=!t.$stable,Rp(t,o)),s=t}else t&&(zp(e,t),s={default:1});if(i)for(const u in o)!cc(u)&&s[u]==null&&delete o[u]},sn=i_;function Ky(e){return Uy(e)}function Uy(e,t){const n=Sa();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:u,createComment:c,setText:f,setElementText:h,parentNode:p,nextSibling:v,setScopeId:m=Hn,insertStaticContent:w}=e,k=(E,$,_,x=null,I=null,S=null,j=void 0,ee=null,J=!!$.dynamicChildren)=>{if(E===$)return;E&&!Jo(E,$)&&(x=X(E),Be(E,I,S,!0),E=null),$.patchFlag===-2&&(J=!1,$.dynamicChildren=null);const{type:W,ref:de,shapeFlag:le}=$;switch(W){case Da:A(E,$,_,x);break;case cr:O(E,$,_,x);break;case ju:E==null&&N($,_,x,j);break;case ft:U(E,$,_,x,I,S,j,ee,J);break;default:le&1?Q(E,$,_,x,I,S,j,ee,J):le&6?ke(E,$,_,x,I,S,j,ee,J):(le&64||le&128)&&W.process(E,$,_,x,I,S,j,ee,J,_e)}de!=null&&I?pi(de,E&&E.ref,S,$||E,!$):de==null&&E&&E.ref!=null&&pi(E.ref,null,S,E,!0)},A=(E,$,_,x)=>{if(E==null)r($.el=u($.children),_,x);else{const I=$.el=E.el;$.children!==E.children&&f(I,$.children)}},O=(E,$,_,x)=>{E==null?r($.el=c($.children||""),_,x):$.el=E.el},N=(E,$,_,x)=>{[E.el,E.anchor]=w(E.children,$,_,x,E.el,E.anchor)},C=({el:E,anchor:$},_,x)=>{let I;for(;E&&E!==$;)I=v(E),r(E,_,x),E=I;r($,_,x)},P=({el:E,anchor:$})=>{let _;for(;E&&E!==$;)_=v(E),o(E),E=_;o($)},Q=(E,$,_,x,I,S,j,ee,J)=>{$.type==="svg"?j="svg":$.type==="math"&&(j="mathml"),E==null?re($,_,x,I,S,j,ee,J):pe(E,$,I,S,j,ee,J)},re=(E,$,_,x,I,S,j,ee)=>{let J,W;const{props:de,shapeFlag:le,transition:we,dirs:Pe}=E;if(J=E.el=s(E.type,S,de&&de.is,de),le&8?h(J,E.children):le&16&&ue(E.children,J,null,x,I,Fu(E,S),j,ee),Pe&&jr(E,null,x,"created"),ae(J,E,E.scopeId,j,x),de){for(const et in de)et!=="value"&&!li(et)&&i(J,et,null,de[et],S,x);"value"in de&&i(J,"value",null,de.value,S),(W=de.onVnodeBeforeMount)&&Mn(W,x,E)}Pe&&jr(E,null,x,"beforeMount");const Ge=qy(I,we);Ge&&we.beforeEnter(J),r(J,$,_),((W=de&&de.onVnodeMounted)||Ge||Pe)&&sn(()=>{W&&Mn(W,x,E),Ge&&we.enter(J),Pe&&jr(E,null,x,"mounted")},I)},ae=(E,$,_,x,I)=>{if(_&&m(E,_),x)for(let S=0;S<x.length;S++)m(E,x[S]);if(I){let S=I.subTree;if($===S||Vp(S.type)&&(S.ssContent===$||S.ssFallback===$)){const j=I.vnode;ae(E,j,j.scopeId,j.slotScopeIds,I.parent)}}},ue=(E,$,_,x,I,S,j,ee,J=0)=>{for(let W=J;W<E.length;W++){const de=E[W]=ee?kr(E[W]):Bn(E[W]);k(null,de,$,_,x,I,S,j,ee)}},pe=(E,$,_,x,I,S,j)=>{const ee=$.el=E.el;let{patchFlag:J,dynamicChildren:W,dirs:de}=$;J|=E.patchFlag&16;const le=E.props||gt,we=$.props||gt;let Pe;if(_&&Hr(_,!1),(Pe=we.onVnodeBeforeUpdate)&&Mn(Pe,_,$,E),de&&jr($,E,_,"beforeUpdate"),_&&Hr(_,!0),(le.innerHTML&&we.innerHTML==null||le.textContent&&we.textContent==null)&&h(ee,""),W?ve(E.dynamicChildren,W,ee,_,x,Fu($,I),S):j||se(E,$,ee,null,_,x,Fu($,I),S,!1),J>0){if(J&16)ge(ee,le,we,_,I);else if(J&2&&le.class!==we.class&&i(ee,"class",null,we.class,I),J&4&&i(ee,"style",le.style,we.style,I),J&8){const Ge=$.dynamicProps;for(let et=0;et<Ge.length;et++){const ot=Ge[et],Pt=le[ot],Vt=we[ot];(Vt!==Pt||ot==="value")&&i(ee,ot,Pt,Vt,I,_)}}J&1&&E.children!==$.children&&h(ee,$.children)}else!j&&W==null&&ge(ee,le,we,_,I);((Pe=we.onVnodeUpdated)||de)&&sn(()=>{Pe&&Mn(Pe,_,$,E),de&&jr($,E,_,"updated")},x)},ve=(E,$,_,x,I,S,j)=>{for(let ee=0;ee<$.length;ee++){const J=E[ee],W=$[ee],de=J.el&&(J.type===ft||!Jo(J,W)||J.shapeFlag&198)?p(J.el):_;k(J,W,de,null,x,I,S,j,!0)}},ge=(E,$,_,x,I)=>{if($!==_){if($!==gt)for(const S in $)!li(S)&&!(S in _)&&i(E,S,$[S],null,I,x);for(const S in _){if(li(S))continue;const j=_[S],ee=$[S];j!==ee&&S!=="value"&&i(E,S,ee,j,I,x)}"value"in _&&i(E,"value",$.value,_.value,I)}},U=(E,$,_,x,I,S,j,ee,J)=>{const W=$.el=E?E.el:u(""),de=$.anchor=E?E.anchor:u("");let{patchFlag:le,dynamicChildren:we,slotScopeIds:Pe}=$;Pe&&(ee=ee?ee.concat(Pe):Pe),E==null?(r(W,_,x),r(de,_,x),ue($.children||[],_,de,I,S,j,ee,J)):le>0&&le&64&&we&&E.dynamicChildren?(ve(E.dynamicChildren,we,_,I,S,j,ee),($.key!=null||I&&$===I.subTree)&&dc(E,$,!0)):se(E,$,_,de,I,S,j,ee,J)},ke=(E,$,_,x,I,S,j,ee,J)=>{$.slotScopeIds=ee,E==null?$.shapeFlag&512?I.ctx.activate($,_,x,j,J):F($,_,x,I,S,j,J):ce(E,$,J)},F=(E,$,_,x,I,S,j)=>{const ee=E.component=f_(E,x,I);if(yp(E)&&(ee.ctx.renderer=_e),d_(ee,!1,j),ee.asyncDep){if(I&&I.registerDep(ee,V,j),!E.el){const J=ee.subTree=st(cr);O(null,J,$,_),E.placeholder=J.el}}else V(ee,E,$,_,I,S,j)},ce=(E,$,_)=>{const x=$.component=E.component;if(r_(E,$,_))if(x.asyncDep&&!x.asyncResolved){ne(x,$,_);return}else x.next=$,x.update();else $.el=E.el,x.vnode=$},V=(E,$,_,x,I,S,j)=>{const ee=()=>{if(E.isMounted){let{next:le,bu:we,u:Pe,parent:Ge,vnode:et}=E;{const Lt=Fp(E);if(Lt){le&&(le.el=et.el,ne(E,le,j)),Lt.asyncDep.then(()=>{E.isUnmounted||ee()});return}}let ot=le,Pt;Hr(E,!1),le?(le.el=et.el,ne(E,le,j)):le=et,we&&Os(we),(Pt=le.props&&le.props.onVnodeBeforeUpdate)&&Mn(Pt,Ge,le,et),Hr(E,!0);const Vt=Of(E),nn=E.subTree;E.subTree=Vt,k(nn,Vt,p(nn.el),X(nn),E,I,S),le.el=Vt.el,ot===null&&o_(E,Vt.el),Pe&&sn(Pe,I),(Pt=le.props&&le.props.onVnodeUpdated)&&sn(()=>Mn(Pt,Ge,le,et),I)}else{let le;const{el:we,props:Pe}=$,{bm:Ge,m:et,parent:ot,root:Pt,type:Vt}=E,nn=Eo($);Hr(E,!1),Ge&&Os(Ge),!nn&&(le=Pe&&Pe.onVnodeBeforeMount)&&Mn(le,ot,$),Hr(E,!0);{Pt.ce&&Pt.ce._def.shadowRoot!==!1&&Pt.ce._injectChildStyle(Vt);const Lt=E.subTree=Of(E);k(null,Lt,_,x,E,I,S),$.el=Lt.el}if(et&&sn(et,I),!nn&&(le=Pe&&Pe.onVnodeMounted)){const Lt=$;sn(()=>Mn(le,ot,Lt),I)}($.shapeFlag&256||ot&&Eo(ot.vnode)&&ot.vnode.shapeFlag&256)&&E.a&&sn(E.a,I),E.isMounted=!0,$=_=x=null}};E.scope.on();const J=E.effect=new Zh(ee);E.scope.off();const W=E.update=J.run.bind(J),de=E.job=J.runIfDirty.bind(J);de.i=E,de.id=E.uid,J.scheduler=()=>sc(de),Hr(E,!0),W()},ne=(E,$,_)=>{$.component=E;const x=E.vnode.props;E.vnode=$,E.next=null,jy(E,$.props,x,_),Zy(E,$.children,_),ur(),bf(E),lr()},se=(E,$,_,x,I,S,j,ee,J=!1)=>{const W=E&&E.children,de=E?E.shapeFlag:0,le=$.children,{patchFlag:we,shapeFlag:Pe}=$;if(we>0){if(we&128){be(W,le,_,x,I,S,j,ee,J);return}else if(we&256){Se(W,le,_,x,I,S,j,ee,J);return}}Pe&8?(de&16&&$e(W,I,S),le!==W&&h(_,le)):de&16?Pe&16?be(W,le,_,x,I,S,j,ee,J):$e(W,I,S,!0):(de&8&&h(_,""),Pe&16&&ue(le,_,x,I,S,j,ee,J))},Se=(E,$,_,x,I,S,j,ee,J)=>{E=E||wo,$=$||wo;const W=E.length,de=$.length,le=Math.min(W,de);let we;for(we=0;we<le;we++){const Pe=$[we]=J?kr($[we]):Bn($[we]);k(E[we],Pe,_,null,I,S,j,ee,J)}W>de?$e(E,I,S,!0,!1,le):ue($,_,x,I,S,j,ee,J,le)},be=(E,$,_,x,I,S,j,ee,J)=>{let W=0;const de=$.length;let le=E.length-1,we=de-1;for(;W<=le&&W<=we;){const Pe=E[W],Ge=$[W]=J?kr($[W]):Bn($[W]);if(Jo(Pe,Ge))k(Pe,Ge,_,null,I,S,j,ee,J);else break;W++}for(;W<=le&&W<=we;){const Pe=E[le],Ge=$[we]=J?kr($[we]):Bn($[we]);if(Jo(Pe,Ge))k(Pe,Ge,_,null,I,S,j,ee,J);else break;le--,we--}if(W>le){if(W<=we){const Pe=we+1,Ge=Pe<de?$[Pe].el:x;for(;W<=we;)k(null,$[W]=J?kr($[W]):Bn($[W]),_,Ge,I,S,j,ee,J),W++}}else if(W>we)for(;W<=le;)Be(E[W],I,S,!0),W++;else{const Pe=W,Ge=W,et=new Map;for(W=Ge;W<=we;W++){const Tt=$[W]=J?kr($[W]):Bn($[W]);Tt.key!=null&&et.set(Tt.key,W)}let ot,Pt=0;const Vt=we-Ge+1;let nn=!1,Lt=0;const Nn=new Array(Vt);for(W=0;W<Vt;W++)Nn[W]=0;for(W=Pe;W<=le;W++){const Tt=E[W];if(Pt>=Vt){Be(Tt,I,S,!0);continue}let je;if(Tt.key!=null)je=et.get(Tt.key);else for(ot=Ge;ot<=we;ot++)if(Nn[ot-Ge]===0&&Jo(Tt,$[ot])){je=ot;break}je===void 0?Be(Tt,I,S,!0):(Nn[je-Ge]=W+1,je>=Lt?Lt=je:nn=!0,k(Tt,$[je],_,null,I,S,j,ee,J),Pt++)}const oo=nn?Gy(Nn):wo;for(ot=oo.length-1,W=Vt-1;W>=0;W--){const Tt=Ge+W,je=$[Tt],hr=$[Tt+1],$n=Tt+1<de?hr.el||hr.placeholder:x;Nn[W]===0?k(null,je,_,$n,I,S,j,ee,J):nn&&(ot<0||W!==oo[ot]?Oe(je,_,$n,2):ot--)}}},Oe=(E,$,_,x,I=null)=>{const{el:S,type:j,transition:ee,children:J,shapeFlag:W}=E;if(W&6){Oe(E.component.subTree,$,_,x);return}if(W&128){E.suspense.move($,_,x);return}if(W&64){j.move(E,$,_,_e);return}if(j===ft){r(S,$,_);for(let le=0;le<J.length;le++)Oe(J[le],$,_,x);r(E.anchor,$,_);return}if(j===ju){C(E,$,_);return}if(x!==2&&W&1&&ee)if(x===0)ee.beforeEnter(S),r(S,$,_),sn(()=>ee.enter(S),I);else{const{leave:le,delayLeave:we,afterLeave:Pe}=ee,Ge=()=>{E.ctx.isUnmounted?o(S):r(S,$,_)},et=()=>{S._isLeaving&&S[_y](!0),le(S,()=>{Ge(),Pe&&Pe()})};we?we(S,Ge,et):et()}else r(S,$,_)},Be=(E,$,_,x=!1,I=!1)=>{const{type:S,props:j,ref:ee,children:J,dynamicChildren:W,shapeFlag:de,patchFlag:le,dirs:we,cacheIndex:Pe}=E;if(le===-2&&(I=!1),ee!=null&&(ur(),pi(ee,null,_,E,!0),lr()),Pe!=null&&($.renderCache[Pe]=void 0),de&256){$.ctx.deactivate(E);return}const Ge=de&1&&we,et=!Eo(E);let ot;if(et&&(ot=j&&j.onVnodeBeforeUnmount)&&Mn(ot,$,E),de&6)Fe(E.component,_,x);else{if(de&128){E.suspense.unmount(_,x);return}Ge&&jr(E,null,$,"beforeUnmount"),de&64?E.type.remove(E,$,_,_e,x):W&&!W.hasOnce&&(S!==ft||le>0&&le&64)?$e(W,$,_,!1,!0):(S===ft&&le&384||!I&&de&16)&&$e(J,$,_),x&&Ue(E)}(et&&(ot=j&&j.onVnodeUnmounted)||Ge)&&sn(()=>{ot&&Mn(ot,$,E),Ge&&jr(E,null,$,"unmounted")},_)},Ue=E=>{const{type:$,el:_,anchor:x,transition:I}=E;if($===ft){Ne(_,x);return}if($===ju){P(E);return}const S=()=>{o(_),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(E.shapeFlag&1&&I&&!I.persisted){const{leave:j,delayLeave:ee}=I,J=()=>j(_,S);ee?ee(E.el,S,J):J()}else S()},Ne=(E,$)=>{let _;for(;E!==$;)_=v(E),o(E),E=_;o($)},Fe=(E,$,_)=>{const{bum:x,scope:I,job:S,subTree:j,um:ee,m:J,a:W}=E;$f(J),$f(W),x&&Os(x),I.stop(),S&&(S.flags|=8,Be(j,E,$,_)),ee&&sn(ee,$),sn(()=>{E.isUnmounted=!0},$)},$e=(E,$,_,x=!1,I=!1,S=0)=>{for(let j=S;j<E.length;j++)Be(E[j],$,_,x,I)},X=E=>{if(E.shapeFlag&6)return X(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const $=v(E.anchor||E.el),_=$&&$[pp];return _?v(_):$};let he=!1;const Y=(E,$,_)=>{E==null?$._vnode&&Be($._vnode,null,null,!0):k($._vnode||null,E,$,null,null,null,_),$._vnode=E,he||(he=!0,bf(),fp(),he=!1)},_e={p:k,um:Be,m:Oe,r:Ue,mt:F,mc:ue,pc:se,pbc:ve,n:X,o:e};return{render:Y,hydrate:void 0,createApp:By(Y)}}function Fu({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Hr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function qy(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function dc(e,t,n=!1){const r=e.children,o=t.children;if(We(r)&&We(o))for(let i=0;i<r.length;i++){const s=r[i];let u=o[i];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[i]=kr(o[i]),u.el=s.el),!n&&u.patchFlag!==-2&&dc(s,u)),u.type===Da&&u.patchFlag!==-1&&(u.el=s.el),u.type===cr&&!u.el&&(u.el=s.el)}}function Gy(e){const t=e.slice(),n=[0];let r,o,i,s,u;const c=e.length;for(r=0;r<c;r++){const f=e[r];if(f!==0){if(o=n[n.length-1],e[o]<f){t[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)u=i+s>>1,e[n[u]]<f?i=u+1:s=u;f<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=t[s];return n}function Fp(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Fp(t)}function $f(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Wy=Symbol.for("v-scx"),Yy=()=>Ut(Wy);function Aa(e,t){return hc(e,null,t)}function rt(e,t,n){return hc(e,t,n)}function hc(e,t,n=gt){const{immediate:r,deep:o,flush:i,once:s}=n,u=tn({},n),c=t&&r||!t&&i!=="post";let f;if(Pi){if(i==="sync"){const m=Yy();f=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=Hn,m.resume=Hn,m.pause=Hn,m}}const h=en;u.call=(m,w,k)=>Un(m,h,w,k);let p=!1;i==="post"?u.scheduler=m=>{sn(m,h&&h.suspense)}:i!=="sync"&&(p=!0,u.scheduler=(m,w)=>{w?m():sc(m)}),u.augmentJob=m=>{t&&(m.flags|=4),p&&(m.flags|=2,h&&(m.id=h.uid,m.i=h))};const v=dy(e,t,u);return Pi&&(f?f.push(v):c&&v()),v}function Xy(e,t,n){const r=this.proxy,o=$t(e)?e.includes(".")?jp(r,e):()=>r[e]:e.bind(r,r);let i;Xe(t)?i=t:(i=t.handler,n=t);const s=Hi(this),u=hc(o,i.bind(r),n);return s(),u}function jp(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}const Jy=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${xn(t)}Modifiers`]||e[`${to(t)}Modifiers`];function Qy(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||gt;let o=n;const i=t.startsWith("update:"),s=i&&Jy(r,t.slice(7));s&&(s.trim&&(o=n.map(h=>$t(h)?h.trim():h)),s.number&&(o=n.map(Ls)));let u,c=r[u=Au(t)]||r[u=Au(xn(t))];!c&&i&&(c=r[u=Au(to(t))]),c&&Un(c,e,6,o);const f=r[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Un(f,e,6,o)}}const e_=new WeakMap;function Hp(e,t,n=!1){const r=n?e_:t.emitsCache,o=r.get(e);if(o!==void 0)return o;const i=e.emits;let s={},u=!1;if(!Xe(e)){const c=f=>{const h=Hp(f,t,!0);h&&(u=!0,tn(s,h))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!u?(vt(e)&&r.set(e,null),null):(We(i)?i.forEach(c=>s[c]=null):tn(s,i),vt(e)&&r.set(e,s),s)}function Ma(e,t){return!e||!_a(t)?!1:(t=t.slice(2).replace(/Once$/,""),pt(e,t[0].toLowerCase()+t.slice(1))||pt(e,to(t))||pt(e,t))}function Of(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[i],slots:s,attrs:u,emit:c,render:f,renderCache:h,props:p,data:v,setupState:m,ctx:w,inheritAttrs:k}=e,A=Gs(e);let O,N;try{if(n.shapeFlag&4){const P=o||r,Q=P;O=Bn(f.call(Q,P,h,p,m,v,w)),N=u}else{const P=t;O=Bn(P.length>1?P(p,{attrs:u,slots:s,emit:c}):P(p,null)),N=t.props?u:t_(u)}}catch(P){mi.length=0,Ta(P,e,1),O=st(cr)}let C=O;if(N&&k!==!1){const P=Object.keys(N),{shapeFlag:Q}=C;P.length&&Q&7&&(i&&P.some(Yl)&&(N=n_(N,i)),C=Oo(C,N,!1,!0))}return n.dirs&&(C=Oo(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&ac(C,n.transition),O=C,Gs(A),O}const t_=e=>{let t;for(const n in e)(n==="class"||n==="style"||_a(n))&&((t||(t={}))[n]=e[n]);return t},n_=(e,t)=>{const n={};for(const r in e)(!Yl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function r_(e,t,n){const{props:r,children:o,component:i}=e,{props:s,children:u,patchFlag:c}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Af(r,s,f):!!s;if(c&8){const h=t.dynamicProps;for(let p=0;p<h.length;p++){const v=h[p];if(s[v]!==r[v]&&!Ma(f,v))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:r===s?!1:r?s?Af(r,s,f):!0:!!s;return!1}function Af(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!Ma(n,i))return!0}return!1}function o_({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Vp=e=>e.__isSuspense;function i_(e,t){t&&t.pendingBranch?We(e)?t.effects.push(...e):t.effects.push(e):gy(e)}const ft=Symbol.for("v-fgt"),Da=Symbol.for("v-txt"),cr=Symbol.for("v-cmt"),ju=Symbol.for("v-stc"),mi=[];let un=null;function Te(e=!1){mi.push(un=e?null:[])}function s_(){mi.pop(),un=mi[mi.length-1]||null}let $o=1;function Xs(e,t=!1){$o+=e,e<0&&un&&t&&(un.hasOnce=!0)}function Lp(e){return e.dynamicChildren=$o>0?un||wo:null,s_(),$o>0&&un&&un.push(e),e}function He(e,t,n,r,o,i){return Lp(me(e,t,n,r,o,i,!0))}function dn(e,t,n,r,o){return Lp(st(e,t,n,r,o,!0))}function Ii(e){return e?e.__v_isVNode===!0:!1}function Jo(e,t){return e.type===t.type&&e.key===t.key}const Zp=({key:e})=>e??null,Ms=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?$t(e)||mt(e)||Xe(e)?{i:Gt,r:e,k:t,f:!!n}:e:null);function me(e,t=null,n=null,r=0,o=null,i=e===ft?0:1,s=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Zp(t),ref:t&&Ms(t),scopeId:hp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Gt};return u?(pc(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=$t(n)?8:16),$o>0&&!s&&un&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&un.push(c),c}const st=a_;function a_(e,t=null,n=null,r=0,o=null,i=!1){if((!e||e===Sp)&&(e=cr),Ii(e)){const u=Oo(e,t,!0);return n&&pc(u,n),$o>0&&!i&&un&&(u.shapeFlag&6?un[un.indexOf(e)]=u:un.push(u)),u.patchFlag=-2,u}if(m_(e)&&(e=e.__vccOpts),t){t=u_(t);let{class:u,style:c}=t;u&&!$t(u)&&(t.class=gn(u)),vt(c)&&(ic(c)&&!We(c)&&(c=tn({},c)),t.style=fn(c))}const s=$t(e)?1:Vp(e)?128:my(e)?64:vt(e)?4:Xe(e)?2:0;return me(e,t,n,r,o,s,i,!0)}function u_(e){return e?ic(e)||Ap(e)?tn({},e):e:null}function Oo(e,t,n=!1,r=!1){const{props:o,ref:i,patchFlag:s,children:u,transition:c}=e,f=t?gc(o||{},t):o,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Zp(f),ref:t&&t.ref?n&&i?We(i)?i.concat(Ms(t)):[i,Ms(t)]:Ms(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ft?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Oo(e.ssContent),ssFallback:e.ssFallback&&Oo(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&ac(h,c.clone(h)),h}function Kp(e=" ",t=0){return st(Da,null,e,t)}function zt(e="",t=!1){return t?(Te(),dn(cr,null,e)):st(cr,null,e)}function Bn(e){return e==null||typeof e=="boolean"?st(cr):We(e)?st(ft,null,e.slice()):Ii(e)?kr(e):st(Da,null,String(e))}function kr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Oo(e)}function pc(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(We(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),pc(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!Ap(t)?t._ctx=Gt:o===3&&Gt&&(Gt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Xe(t)?(t={default:t,_ctx:Gt},n=32):(t=String(t),r&64?(n=16,t=[Kp(t)]):n=8);e.children=t,e.shapeFlag|=n}function gc(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=gn([t.class,r.class]));else if(o==="style")t.style=fn([t.style,r.style]);else if(_a(o)){const i=t[o],s=r[o];s&&i!==s&&!(We(i)&&i.includes(s))&&(t[o]=i?[].concat(i,s):s)}else o!==""&&(t[o]=r[o])}return t}function Mn(e,t,n,r=null){Un(e,t,7,[n,r])}const l_=Tp();let c_=0;function f_(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||l_,i={uid:c_++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Lh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Dp(r,o),emitsOptions:Hp(r,o),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:r.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Qy.bind(null,i),e.ce&&e.ce(i),i}let en=null;const qn=()=>en||Gt;let Js,_l;{const e=Sa(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),i=>{o.length>1?o.forEach(s=>s(i)):o[0](i)}};Js=t("__VUE_INSTANCE_SETTERS__",n=>en=n),_l=t("__VUE_SSR_SETTERS__",n=>Pi=n)}const Hi=e=>{const t=en;return Js(e),e.scope.on(),()=>{e.scope.off(),Js(t)}},Mf=()=>{en&&en.scope.off(),Js(null)};function Up(e){return e.vnode.shapeFlag&4}let Pi=!1;function d_(e,t=!1,n=!1){t&&_l(t);const{props:r,children:o}=e.vnode,i=Up(e);Fy(e,r,i,t),Ly(e,o,n||t);const s=i?h_(e,t):void 0;return t&&_l(!1),s}function h_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Py);const{setup:r}=n;if(r){ur();const o=e.setupContext=r.length>1?Gp(e):null,i=Hi(e),s=ji(r,e,0,[e.props,o]),u=Rh(s);if(lr(),i(),(u||e.sp)&&!Eo(e)&&vp(e),u){if(s.then(Mf,Mf),t)return s.then(c=>{Df(e,c)}).catch(c=>{Ta(c,e,0)});e.asyncDep=s}else Df(e,s)}else qp(e)}function Df(e,t,n){Xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:vt(t)&&(e.setupState=sp(t)),qp(e)}function qp(e,t,n){const r=e.type;e.render||(e.render=r.render||Hn);{const o=Hi(e);ur();try{Oy(e)}finally{lr(),o()}}}const p_={get(e,t){return Qt(e,"get",""),e[t]}};function Gp(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,p_),slots:e.slots,emit:e.emit,expose:t}}function Ra(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(sp(Vn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in gi)return gi[n](e)},has(t,n){return n in t||n in gi}})):e.proxy}function g_(e,t=!0){return Xe(e)?e.displayName||e.name:e.name||t&&e.__name}function m_(e){return Xe(e)&&"__vccOpts"in e}const Ve=(e,t)=>cy(e,t,Pi);function dt(e,t,n){const r=(i,s,u)=>{Xs(-1);try{return st(i,s,u)}finally{Xs(1)}},o=arguments.length;return o===2?vt(t)&&!We(t)?Ii(t)?r(e,null,[t]):r(e,t):r(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Ii(n)&&(n=[n]),r(e,t,n))}function v_(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(sr(n[r],t[r]))return!1;return $o>0&&un&&un.push(e),!0}const y_="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bl;const Rf=typeof window<"u"&&window.trustedTypes;if(Rf)try{bl=Rf.createPolicy("vue",{createHTML:e=>e})}catch{}const Wp=bl?e=>bl.createHTML(e):e=>e,__="http://www.w3.org/2000/svg",b_="http://www.w3.org/1998/Math/MathML",er=typeof document<"u"?document:null,zf=er&&er.createElement("template"),w_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?er.createElementNS(__,e):t==="mathml"?er.createElementNS(b_,e):n?er.createElement(e,{is:n}):er.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>er.createTextNode(e),createComment:e=>er.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>er.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,i){const s=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{zf.innerHTML=Wp(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const u=zf.content;if(r==="svg"||r==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}t.insertBefore(u,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},x_=Symbol("_vtc");function S_(e,t,n){const r=e[x_];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Qs=Symbol("_vod"),Yp=Symbol("_vsh"),E_={name:"show",beforeMount(e,{value:t},{transition:n}){e[Qs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Qo(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Qo(e,!0),r.enter(e)):r.leave(e,()=>{Qo(e,!1)}):Qo(e,t))},beforeUnmount(e,{value:t}){Qo(e,t)}};function Qo(e,t){e.style.display=t?e[Qs]:"none",e[Yp]=!t}const k_=Symbol(""),C_=/(?:^|;)\s*display\s*:/;function I_(e,t,n){const r=e.style,o=$t(n);let i=!1;if(n&&!o){if(t)if($t(t))for(const s of t.split(";")){const u=s.slice(0,s.indexOf(":")).trim();n[u]==null&&Ds(r,u,"")}else for(const s in t)n[s]==null&&Ds(r,s,"");for(const s in n)s==="display"&&(i=!0),Ds(r,s,n[s])}else if(o){if(t!==n){const s=r[k_];s&&(n+=";"+s),r.cssText=n,i=C_.test(n)}}else t&&e.removeAttribute("style");Qs in e&&(e[Qs]=i?r.display:"",e[Yp]&&(r.display="none"))}const Bf=/\s*!important$/;function Ds(e,t,n){if(We(n))n.forEach(r=>Ds(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=P_(e,t);Bf.test(n)?e.setProperty(to(r),n.replace(Bf,""),"important"):e[r]=n}}const Ff=["Webkit","Moz","ms"],Hu={};function P_(e,t){const n=Hu[t];if(n)return n;let r=xn(t);if(r!=="filter"&&r in e)return Hu[t]=r;r=xa(r);for(let o=0;o<Ff.length;o++){const i=Ff[o]+r;if(i in e)return Hu[t]=i}return t}const jf="http://www.w3.org/1999/xlink";function Hf(e,t,n,r,o,i=Dv(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(jf,t.slice(6,t.length)):e.setAttributeNS(jf,t,n):n==null||i&&!jh(n)?e.removeAttribute(t):e.setAttribute(t,i?"":In(n)?String(n):n)}function Vf(e,t,n,r,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Wp(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const u=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(u!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=jh(n):n==null&&u==="string"?(n="",s=!0):u==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(o||t)}function Lr(e,t,n,r){e.addEventListener(t,n,r)}function T_(e,t,n,r){e.removeEventListener(t,n,r)}const Lf=Symbol("_vei");function N_(e,t,n,r,o=null){const i=e[Lf]||(e[Lf]={}),s=i[t];if(r&&s)s.value=r;else{const[u,c]=$_(t);if(r){const f=i[t]=M_(r,o);Lr(e,u,f,c)}else s&&(T_(e,u,s,c),i[t]=void 0)}}const Zf=/(?:Once|Passive|Capture)$/;function $_(e){let t;if(Zf.test(e)){t={};let r;for(;r=e.match(Zf);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):to(e.slice(2)),t]}let Vu=0;const O_=Promise.resolve(),A_=()=>Vu||(O_.then(()=>Vu=0),Vu=Date.now());function M_(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Un(D_(r,n.value),t,5,[r])};return n.value=e,n.attached=A_(),n}function D_(e,t){if(We(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const Kf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,R_=(e,t,n,r,o,i)=>{const s=o==="svg";t==="class"?S_(e,r,s):t==="style"?I_(e,n,r):_a(t)?Yl(t)||N_(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):z_(e,t,r,s))?(Vf(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Hf(e,t,r,s,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!$t(r))?Vf(e,xn(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Hf(e,t,r,s))};function z_(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Kf(t)&&Xe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Kf(t)&&$t(n)?!1:t in e}const ea=e=>{const t=e.props["onUpdate:modelValue"]||!1;return We(t)?n=>Os(t,n):t};function B_(e){e.target.composing=!0}function Uf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ko=Symbol("_assign"),ii={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[ko]=ea(o);const i=r||o.props&&o.props.type==="number";Lr(e,t?"change":"input",s=>{if(s.target.composing)return;let u=e.value;n&&(u=u.trim()),i&&(u=Ls(u)),e[ko](u)}),n&&Lr(e,"change",()=>{e.value=e.value.trim()}),t||(Lr(e,"compositionstart",B_),Lr(e,"compositionend",Uf),Lr(e,"change",Uf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:o,number:i}},s){if(e[ko]=ea(s),e.composing)return;const u=(i||e.type==="number")&&!/^0\d/.test(e.value)?Ls(e.value):e.value,c=t??"";u!==c&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||o&&e.value.trim()===c)||(e.value=c))}},_s={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=ba(t);Lr(e,"change",()=>{const i=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?Ls(ta(s)):ta(s));e[ko](e.multiple?o?new Set(i):i:i[0]),e._assigning=!0,mn(()=>{e._assigning=!1})}),e[ko]=ea(r)},mounted(e,{value:t}){qf(e,t)},beforeUpdate(e,t,n){e[ko]=ea(n)},updated(e,{value:t}){e._assigning||qf(e,t)}};function qf(e,t){const n=e.multiple,r=We(t);if(!(n&&!r&&!ba(t))){for(let o=0,i=e.options.length;o<i;o++){const s=e.options[o],u=ta(s);if(n)if(r){const c=typeof u;c==="string"||c==="number"?s.selected=t.some(f=>String(f)===String(u)):s.selected=zv(t,u)>-1}else s.selected=t.has(u);else if(Ea(ta(s),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ta(e){return"_value"in e?e._value:e.value}const F_=["ctrl","shift","alt","meta"],j_={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>F_.some(n=>e[`${n}Key`]&&!t.includes(n))},H_=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((o,...i)=>{for(let s=0;s<t.length;s++){const u=j_[t[s]];if(u&&u(o,t))return}return e(o,...i)}))},V_=tn({patchProp:R_},w_);let Gf;function L_(){return Gf||(Gf=Ky(V_))}const Z_=((...e)=>{const t=L_().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=U_(r);if(!o)return;const i=t._component;!Xe(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const s=n(o,!1,K_(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},t});function K_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function U_(e){return $t(e)?document.querySelector(e):e}function wl(e,t={},n){for(const r in e){const o=e[r],i=n?`${n}:${r}`:r;typeof o=="object"&&o!==null?wl(o,t,i):typeof o=="function"&&(t[i]=o)}return t}const q_={run:e=>e()},G_=()=>q_,Xp=typeof console.createTask<"u"?console.createTask:G_;function W_(e,t){const n=t.shift(),r=Xp(n);return e.reduce((o,i)=>o.then(()=>r.run(()=>i(...t))),Promise.resolve())}function Y_(e,t){const n=t.shift(),r=Xp(n);return Promise.all(e.map(o=>r.run(()=>o(...t))))}function Lu(e,t){for(const n of[...e])n(t)}class X_{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const o=t;let i;for(;this._deprecatedHooks[t];)i=this._deprecatedHooks[t],t=i.to;if(i&&!r.allowDeprecated){let s=i.message;s||(s=`${o} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(s)||(console.warn(s),this._deprecatedMessages.add(s))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,o=(...i)=>(typeof r=="function"&&r(),r=void 0,o=void 0,n(...i));return r=this.hook(t,o),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const o of r)this.hook(t,o)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=wl(t),r=Object.keys(n).map(o=>this.hook(o,n[o]));return()=>{for(const o of r.splice(0,r.length))o()}}removeHooks(t){const n=wl(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(W_,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(Y_,t,...n)}callHookWith(t,n,...r){const o=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Lu(this._before,o);const i=t(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&o&&Lu(this._after,o)}):(this._after&&o&&Lu(this._after,o),i)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function J_(){return new X_}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Jp;const za=e=>Jp=e,Qp=Symbol();function xl(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var vi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(vi||(vi={}));function Q_(){const e=ka(!0),t=e.run(()=>lt({}));let n=[],r=[];const o=Vn({install(i){za(o),o._a=i,i.provide(Qp,o),i.config.globalProperties.$pinia=o,r.forEach(s=>n.push(s)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const eg=()=>{};function Wf(e,t,n,r=eg){e.push(t);const o=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&Ca()&&ci(o),o}function go(e,...t){e.slice().forEach(n=>{n(...t)})}const eb=e=>e(),Yf=Symbol(),Zu=Symbol();function Sl(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];xl(o)&&xl(r)&&e.hasOwnProperty(n)&&!mt(r)&&!ar(r)?e[n]=Sl(o,r):e[n]=r}return e}const tb=Symbol();function nb(e){return!xl(e)||!Object.prototype.hasOwnProperty.call(e,tb)}const{assign:xr}=Object;function rb(e){return!!(mt(e)&&e.effect)}function ob(e,t,n,r){const{state:o,actions:i,getters:s}=t,u=n.state.value[e];let c;function f(){u||(n.state.value[e]=o?o():{});const h=ap(n.state.value[e]);return xr(h,i,Object.keys(s||{}).reduce((p,v)=>(p[v]=Vn(Ve(()=>{za(n);const m=n._s.get(e);return s[v].call(m,m)})),p),{}))}return c=tg(e,f,t,n,r,!0),c}function tg(e,t,n={},r,o,i){let s;const u=xr({actions:{}},n),c={deep:!0};let f,h,p=[],v=[],m;const w=r.state.value[e];!i&&!w&&(r.state.value[e]={}),lt({});let k;function A(ue){let pe;f=h=!1,typeof ue=="function"?(ue(r.state.value[e]),pe={type:vi.patchFunction,storeId:e,events:m}):(Sl(r.state.value[e],ue),pe={type:vi.patchObject,payload:ue,storeId:e,events:m});const ve=k=Symbol();mn().then(()=>{k===ve&&(f=!0)}),h=!0,go(p,pe,r.state.value[e])}const O=i?function(){const{state:pe}=n,ve=pe?pe():{};this.$patch(ge=>{xr(ge,ve)})}:eg;function N(){s.stop(),p=[],v=[],r._s.delete(e)}const C=(ue,pe="")=>{if(Yf in ue)return ue[Zu]=pe,ue;const ve=function(){za(r);const ge=Array.from(arguments),U=[],ke=[];function F(ne){U.push(ne)}function ce(ne){ke.push(ne)}go(v,{args:ge,name:ve[Zu],store:Q,after:F,onError:ce});let V;try{V=ue.apply(this&&this.$id===e?this:Q,ge)}catch(ne){throw go(ke,ne),ne}return V instanceof Promise?V.then(ne=>(go(U,ne),ne)).catch(ne=>(go(ke,ne),Promise.reject(ne))):(go(U,V),V)};return ve[Yf]=!0,ve[Zu]=pe,ve},P={_p:r,$id:e,$onAction:Wf.bind(null,v),$patch:A,$reset:O,$subscribe(ue,pe={}){const ve=Wf(p,ue,pe.detached,()=>ge()),ge=s.run(()=>rt(()=>r.state.value[e],U=>{(pe.flush==="sync"?h:f)&&ue({storeId:e,type:vi.direct,events:m},U)},xr({},c,pe)));return ve},$dispose:N},Q=Ho(P);r._s.set(e,Q);const ae=(r._a&&r._a.runWithContext||eb)(()=>r._e.run(()=>(s=ka()).run(()=>t({action:C}))));for(const ue in ae){const pe=ae[ue];if(mt(pe)&&!rb(pe)||ar(pe))i||(w&&nb(pe)&&(mt(pe)?pe.value=w[ue]:Sl(pe,w[ue])),r.state.value[e][ue]=pe);else if(typeof pe=="function"){const ve=C(pe,ue);ae[ue]=ve,u.actions[ue]=pe}}return xr(Q,ae),xr(ut(Q),ae),Object.defineProperty(Q,"$state",{get:()=>r.state.value[e],set:ue=>{A(pe=>{xr(pe,ue)})}}),r._p.forEach(ue=>{xr(Q,s.run(()=>ue({store:Q,app:r._a,pinia:r,options:u})))}),w&&i&&n.hydrate&&n.hydrate(Q.$state,w),f=!0,h=!0,Q}/*! #__NO_SIDE_EFFECTS__ */function ng(e,t,n){let r;const o=typeof t=="function";r=o?n:t;function i(s,u){const c=Np();return s=s||(c?Ut(Qp,null):null),s&&za(s),s=Jp,s._s.has(e)||(o?tg(e,t,r,s):ob(e,r,s)),s._s.get(e)}return i.$id=e,i}function ib(e){const t=ut(e),n={};for(const r in t){const o=t[r];o.effect?n[r]=Ve({get:()=>e[r],set(i){e[r]=i}}):(mt(o)||ar(o))&&(n[r]=St(e,r))}return n}const sb=new Set(["link","style","script","noscript"]),ab=new Set(["title","titleTemplate","script","style","noscript"]),Xf=new Set(["base","meta","link","style","script","noscript"]),ub=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),lb=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),cb=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),fb=new Set(["templateParams","htmlAttrs","bodyAttrs"]),db=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),hb=["name","property","http-equiv"],pb=new Set(["viewport","description","keywords","robots"]);function rg(e){const t=e.split(":");return t.length?db.has(t[1]):!1}function El(e){const{props:t,tag:n}=e;if(lb.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of hb)if(t[r]!==void 0){const o=t[r],i=o.includes(":"),s=pb.has(o),c=!(i||s)&&e.key?`:key:${e.key}`:"";return`${n}:${o}${c}`}}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(ab.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function Jf(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,o])=>`${r}:${String(o)}`).join(",")}`}function na(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let o;if(t&&(o=t(n,e)),Array.isArray(o))return o.map(i=>na(i,t));if(o?.constructor===Object){const i={};for(const s of Object.keys(o))i[s]=na(o[s],t,s);return i}return o}function gb(e,t){const n=e==="style"?new Map:new Set;function r(o){const i=o.trim();if(i)if(e==="style"){const[s,...u]=i.split(":").map(c=>c.trim());s&&u.length&&n.set(s,u.join(":"))}else i.split(" ").filter(Boolean).forEach(s=>n.add(s))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(o=>r(o)):t&&typeof t=="object"&&Object.entries(t).forEach(([o,i])=>{i&&i!=="false"&&(e==="style"?n.set(o.trim(),i):r(o))}),n}function og(e,t){return e.props=e.props||{},t?e.tag==="templateParams"?(e.props=t,e):(Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=gb(n,r);return}if(cb.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let s=t.type;if(t.type||(s="application/json"),!s?.endsWith("json")&&s!=="speculationrules")return;t.type=s,e.props.type=s,e[n]=JSON.stringify(r)}else e[n]=r;return}const o=String(r),i=n.startsWith("data-");o==="true"||o===""?e.props[n]=i?o:!0:!r&&i&&o==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e):e}function mb(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=og({tag:e,props:{}},n);return r.key&&sb.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(o=>({...r,props:{...r.props,content:o}})):r}function vb(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(o,i)=>{for(let s=0;s<t.length;s++)i=t[s](o,i);return i};e=n(void 0,e);const r=[];return e=na(e,n),Object.entries(e||{}).forEach(([o,i])=>{if(i!==void 0)for(const s of Array.isArray(i)?i:[i])r.push(mb(o,s))}),r.flat()}const Qf=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,ed={base:-10,title:10},yb={critical:-8,high:-1,low:2},td={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},_b=/@import/,ei=e=>e===""||e===!0;function bb(e,t){if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=yb[t.tagPriority]||0,o=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:td;if(t.tag in ed)n=ed[t.tag];else if(t.tag==="meta"){const i=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;i&&(n=td.meta[i])}else t.tag==="link"&&t.props.rel?n=o.link[t.props.rel]:t.tag==="script"?ei(t.props.async)?n=o.script.async:t.props.src&&!ei(t.props.defer)&&!ei(t.props.async)&&t.props.type!=="module"&&!t.props.type?.endsWith("json")?n=o.script.sync:ei(t.props.defer)&&t.props.src&&!ei(t.props.async)&&(n=o.script.defer):t.tag==="style"&&(n=t.innerHTML&&_b.test(t.innerHTML)?o.style.imported:o.style.sync);return(n||100)+r}function nd(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function wb(e={}){const t=J_();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,o=new Map,i=new Set,s={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:u=>nd(s,u),push(u,c){const f={...c||{}};delete f.head;const h=f._index??s._entryCount++,p={_i:h,input:u,options:f},v={_poll(m=!1){s.dirty=!0,!m&&i.add(h),t.callHook("entries:updated",s)},dispose(){r.delete(h)&&s.invalidate()},patch(m){(!f.mode||f.mode==="server"&&n||f.mode==="client"&&!n)&&(p.input=m,r.set(h,p),v._poll())}};return v.patch(u),v},async resolveTags(){const u={tagMap:new Map,tags:[],entries:[...s.entries.values()]};for(await t.callHook("entries:resolve",u);i.size;){const v=i.values().next().value;i.delete(v);const m=r.get(v);if(m){const w={tags:vb(m.input,e.propResolvers||[]).map(k=>Object.assign(k,m.options)),entry:m};await t.callHook("entries:normalize",w),m._tags=w.tags.map((k,A)=>(k._w=bb(s,k),k._p=(m._i<<10)+A,k._d=El(k),k))}}let c=!1;u.entries.flatMap(v=>(v._tags||[]).map(m=>({...m,props:{...m.props}}))).sort(Qf).reduce((v,m)=>{const w=String(m._d||m._p);if(!v.has(w))return v.set(w,m);const k=v.get(w);if((m?.tagDuplicateStrategy||(fb.has(m.tag)?"merge":null)||(m.key&&m.key===k.key?"merge":null))==="merge"){const O={...k.props};Object.entries(m.props).forEach(([N,C])=>O[N]=N==="style"?new Map([...k.props.style||new Map,...C]):N==="class"?new Set([...k.props.class||new Set,...C]):C),v.set(w,{...m,props:O})}else m._p>>10===k._p>>10&&m.tag==="meta"&&rg(w)?(v.set(w,Object.assign([...Array.isArray(k)?k:[k],m],m)),c=!0):(m._w===k._w?m._p>k._p:m?._w<k?._w)&&v.set(w,m);return v},u.tagMap);const f=u.tagMap.get("title"),h=u.tagMap.get("titleTemplate");if(s._title=f?.textContent,h){const v=h?.textContent;if(s._titleTemplate=v,v){let m=typeof v=="function"?v(f?.textContent):v;typeof m=="string"&&!s.plugins.has("template-params")&&(m=m.replace("%s",f?.textContent||"")),f?m===null?u.tagMap.delete("title"):u.tagMap.set("title",{...f,textContent:m}):(h.tag="title",h.textContent=m)}}u.tags=Array.from(u.tagMap.values()),c&&(u.tags=u.tags.flat().sort(Qf)),await t.callHook("tags:beforeResolve",u),await t.callHook("tags:resolve",u),await t.callHook("tags:afterResolve",u);const p=[];for(const v of u.tags){const{innerHTML:m,tag:w,props:k}=v;if(ub.has(w)&&!(Object.keys(k).length===0&&!v.innerHTML&&!v.textContent)&&!(w==="meta"&&!k.content&&!k["http-equiv"]&&!k.charset)){if(w==="script"&&m){if(k.type?.endsWith("json")){const A=typeof m=="string"?m:JSON.stringify(m);v.innerHTML=A.replace(/</g,"\\u003C")}else typeof m=="string"&&(v.innerHTML=m.replace(new RegExp(`</${w}`,"g"),`<\\/${w}`));v._d=El(v)}p.push(v)}}return p},invalidate(){for(const u of r.values())i.add(u._i);s.dirty=!0,t.callHook("entries:updated",s)}};return(e?.plugins||[]).forEach(u=>nd(s,u)),s.hooks.callHook("init",s),e.init?.forEach(u=>u&&s.push(u)),s}async function ig(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async o=>{const i=new Map,s=new Promise(m=>{e.resolveTags().then(w=>{m(w.map(k=>{const A=i.get(k._d)||0,O={tag:k,id:(A?`${k._d}:${A}`:k._d)||Jf(k),shouldRender:!0};return k._d&&rg(k._d)&&i.set(k._d,A+1),O}))})});let u=e._dom;if(!u){u={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const m of["body","head"]){const w=n[m]?.children;for(const k of w){const A=k.tagName.toLowerCase();if(!Xf.has(A))continue;const O=og({tag:A,props:{}},{innerHTML:k.innerHTML,...k.getAttributeNames().reduce((N,C)=>(N[C]=k.getAttribute(C),N),{})||{}});if(O.key=k.getAttribute("data-hid")||void 0,O._d=El(O)||Jf(O),u.elMap.has(O._d)){let N=1,C=O._d;for(;u.elMap.has(C);)C=`${O._d}:${N++}`;u.elMap.set(C,k)}else u.elMap.set(O._d,k)}}}u.pendingSideEffects={...u.sideEffects},u.sideEffects={};function c(m,w,k){const A=`${m}:${w}`;u.sideEffects[A]=k,delete u.pendingSideEffects[A]}function f({id:m,$el:w,tag:k}){const A=k.tag.endsWith("Attrs");u.elMap.set(m,w),A||(k.textContent&&k.textContent!==w.textContent&&(w.textContent=k.textContent),k.innerHTML&&k.innerHTML!==w.innerHTML&&(w.innerHTML=k.innerHTML),c(m,"el",()=>{w?.remove(),u.elMap.delete(m)}));for(const O in k.props){if(!Object.prototype.hasOwnProperty.call(k.props,O))continue;const N=k.props[O];if(O.startsWith("on")&&typeof N=="function"){const P=w?.dataset;if(P&&P[`${O}fired`]){const Q=O.slice(0,-5);N.call(w,new Event(Q.substring(2)))}w.getAttribute(`data-${O}`)!==""&&((k.tag==="bodyAttrs"?n.defaultView:w).addEventListener(O.substring(2),N.bind(w)),w.setAttribute(`data-${O}`,""));continue}const C=`attr:${O}`;if(O==="class"){if(!N)continue;for(const P of N)A&&c(m,`${C}:${P}`,()=>w.classList.remove(P)),!w.classList.contains(P)&&w.classList.add(P)}else if(O==="style"){if(!N)continue;for(const[P,Q]of N)c(m,`${C}:${P}`,()=>{w.style.removeProperty(P)}),w.style.setProperty(P,Q)}else N!==!1&&N!==null&&(w.getAttribute(O)!==N&&w.setAttribute(O,N===!0?"":String(N)),A&&c(m,C,()=>w.removeAttribute(O)))}}const h=[],p={bodyClose:void 0,bodyOpen:void 0,head:void 0},v=await s;for(const m of v){const{tag:w,shouldRender:k,id:A}=m;if(k){if(w.tag==="title"){n.title=w.textContent,c("title","",()=>n.title=u.title);continue}m.$el=m.$el||u.elMap.get(A),m.$el?f(m):Xf.has(w.tag)&&h.push(m)}}for(const m of h){const w=m.tag.tagPosition||"head";m.$el=n.createElement(m.tag.tag),f(m),p[w]=p[w]||n.createDocumentFragment(),p[w].appendChild(m.$el)}for(const m of v)await e.hooks.callHook("dom:renderTag",m,n,c);p.head&&n.head.appendChild(p.head),p.bodyOpen&&n.body.insertBefore(p.bodyOpen,n.body.firstChild),p.bodyClose&&n.body.appendChild(p.bodyClose);for(const m in u.pendingSideEffects)u.pendingSideEffects[m]();e._dom=u,await e.hooks.callHook("dom:rendered",{renders:v}),o()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function xb(e={}){const t=e.domOptions?.render||ig;e.document=e.document||(typeof window<"u"?document:void 0);const n=e.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return wb({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function Sb(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}const Eb=(e,t)=>mt(t)?tt(t):t,sg="usehead";function kb(e){return{install(n){n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(sg,e)}}.install}function Cb(){if(Np()){const e=Ut(sg);if(!e)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function ag(e,t={}){const n=t.head||Cb();return n.ssr?n.push(e||{},t):Ib(n,e,t)}function Ib(e,t,n={}){const r=lt(!1);let o;return Aa(()=>{const s=r.value?{}:na(t,Eb);o?o.patch(s):o=e.push(s,n)}),qn()&&($a(()=>{o.dispose()}),bp(()=>{r.value=!0}),_p(()=>{r.value=!1})),o}function Pb(e={}){const t=xb({domOptions:{render:Sb(()=>ig(t),n=>setTimeout(n,0))},...e});return t.install=kb(t),t}const yn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},Tb={},Nb={class:"app-root"};function $b(e,t){const n=Oa("RouterView");return Te(),He("div",Nb,[st(n)])}const Ob=yn(Tb,[["render",$b]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const yo=typeof document<"u";function ug(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ab(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&ug(e.default)}const ht=Object.assign;function Ku(e,t){const n={};for(const r in t){const o=t[r];n[r]=Pn(o)?o.map(e):e(o)}return n}const yi=()=>{},Pn=Array.isArray,lg=/#/g,Mb=/&/g,Db=/\//g,Rb=/=/g,zb=/\?/g,cg=/\+/g,Bb=/%5B/g,Fb=/%5D/g,fg=/%5E/g,jb=/%60/g,dg=/%7B/g,Hb=/%7C/g,hg=/%7D/g,Vb=/%20/g;function mc(e){return encodeURI(""+e).replace(Hb,"|").replace(Bb,"[").replace(Fb,"]")}function Lb(e){return mc(e).replace(dg,"{").replace(hg,"}").replace(fg,"^")}function kl(e){return mc(e).replace(cg,"%2B").replace(Vb,"+").replace(lg,"%23").replace(Mb,"%26").replace(jb,"`").replace(dg,"{").replace(hg,"}").replace(fg,"^")}function Zb(e){return kl(e).replace(Rb,"%3D")}function Kb(e){return mc(e).replace(lg,"%23").replace(zb,"%3F")}function Ub(e){return e==null?"":Kb(e).replace(Db,"%2F")}function Ti(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const qb=/\/$/,Gb=e=>e.replace(qb,"");function Uu(e,t,n="/"){let r,o={},i="",s="";const u=t.indexOf("#");let c=t.indexOf("?");return u<c&&u>=0&&(c=-1),c>-1&&(r=t.slice(0,c),i=t.slice(c+1,u>-1?u:t.length),o=e(i)),u>-1&&(r=r||t.slice(0,u),s=t.slice(u,t.length)),r=Jb(r??t,n),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:Ti(s)}}function Wb(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function rd(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Yb(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Ao(t.matched[r],n.matched[o])&&pg(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ao(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function pg(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Xb(e[n],t[n]))return!1;return!0}function Xb(e,t){return Pn(e)?od(e,t):Pn(t)?od(t,e):e===t}function od(e,t){return Pn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Jb(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let i=n.length-1,s,u;for(s=0;s<r.length;s++)if(u=r[s],u!==".")if(u==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s).join("/")}const br={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ni;(function(e){e.pop="pop",e.push="push"})(Ni||(Ni={}));var _i;(function(e){e.back="back",e.forward="forward",e.unknown=""})(_i||(_i={}));function Qb(e){if(!e)if(yo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Gb(e)}const e0=/^[^#]+#/;function t0(e,t){return e.replace(e0,"#")+t}function n0(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ba=()=>({left:window.scrollX,top:window.scrollY});function r0(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=n0(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function id(e,t){return(history.state?history.state.position-t:-1)+e}const Cl=new Map;function o0(e,t){Cl.set(e,t)}function i0(e){const t=Cl.get(e);return Cl.delete(e),t}let s0=()=>location.protocol+"//"+location.host;function gg(e,t){const{pathname:n,search:r,hash:o}=t,i=e.indexOf("#");if(i>-1){let u=o.includes(e.slice(i))?e.slice(i).length:1,c=o.slice(u);return c[0]!=="/"&&(c="/"+c),rd(c,"")}return rd(n,e)+r+o}function a0(e,t,n,r){let o=[],i=[],s=null;const u=({state:v})=>{const m=gg(e,location),w=n.value,k=t.value;let A=0;if(v){if(n.value=m,t.value=v,s&&s===w){s=null;return}A=k?v.position-k.position:0}else r(m);o.forEach(O=>{O(n.value,w,{delta:A,type:Ni.pop,direction:A?A>0?_i.forward:_i.back:_i.unknown})})};function c(){s=n.value}function f(v){o.push(v);const m=()=>{const w=o.indexOf(v);w>-1&&o.splice(w,1)};return i.push(m),m}function h(){const{history:v}=window;v.state&&v.replaceState(ht({},v.state,{scroll:Ba()}),"")}function p(){for(const v of i)v();i=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:f,destroy:p}}function sd(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Ba():null}}function u0(e){const{history:t,location:n}=window,r={value:gg(e,n)},o={value:t.state};o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,f,h){const p=e.indexOf("#"),v=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:s0()+e+c;try{t[h?"replaceState":"pushState"](f,"",v),o.value=f}catch(m){console.error(m),n[h?"replace":"assign"](v)}}function s(c,f){const h=ht({},t.state,sd(o.value.back,c,o.value.forward,!0),f,{position:o.value.position});i(c,h,!0),r.value=c}function u(c,f){const h=ht({},o.value,t.state,{forward:c,scroll:Ba()});i(h.current,h,!0);const p=ht({},sd(r.value,c,null),{position:h.position+1},f);i(c,p,!1),r.value=c}return{location:r,state:o,push:u,replace:s}}function l0(e){e=Qb(e);const t=u0(e),n=a0(e,t.state,t.location,t.replace);function r(i,s=!0){s||n.pauseListeners(),history.go(i)}const o=ht({location:"",base:e,go:r,createHref:t0.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function c0(e){return typeof e=="string"||e&&typeof e=="object"}function mg(e){return typeof e=="string"||typeof e=="symbol"}const vg=Symbol("");var ad;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ad||(ad={}));function Mo(e,t){return ht(new Error,{type:e,[vg]:!0},t)}function Jn(e,t){return e instanceof Error&&vg in e&&(t==null||!!(e.type&t))}const ud="[^/]+?",f0={sensitive:!1,strict:!1,start:!0,end:!0},d0=/[.+*?^${}()[\]/\\]/g;function h0(e,t){const n=ht({},f0,t),r=[];let o=n.start?"^":"";const i=[];for(const f of e){const h=f.length?[]:[90];n.strict&&!f.length&&(o+="/");for(let p=0;p<f.length;p++){const v=f[p];let m=40+(n.sensitive?.25:0);if(v.type===0)p||(o+="/"),o+=v.value.replace(d0,"\\$&"),m+=40;else if(v.type===1){const{value:w,repeatable:k,optional:A,regexp:O}=v;i.push({name:w,repeatable:k,optional:A});const N=O||ud;if(N!==ud){m+=10;try{new RegExp(`(${N})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${w}" (${N}): `+P.message)}}let C=k?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;p||(C=A&&f.length<2?`(?:/${C})`:"/"+C),A&&(C+="?"),o+=C,m+=20,A&&(m+=-8),k&&(m+=-20),N===".*"&&(m+=-50)}h.push(m)}r.push(h)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");function u(f){const h=f.match(s),p={};if(!h)return null;for(let v=1;v<h.length;v++){const m=h[v]||"",w=i[v-1];p[w.name]=m&&w.repeatable?m.split("/"):m}return p}function c(f){let h="",p=!1;for(const v of e){(!p||!h.endsWith("/"))&&(h+="/"),p=!1;for(const m of v)if(m.type===0)h+=m.value;else if(m.type===1){const{value:w,repeatable:k,optional:A}=m,O=w in f?f[w]:"";if(Pn(O)&&!k)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const N=Pn(O)?O.join("/"):O;if(!N)if(A)v.length<2&&(h.endsWith("/")?h=h.slice(0,-1):p=!0);else throw new Error(`Missing required param "${w}"`);h+=N}}return h||"/"}return{re:s,score:r,keys:i,parse:u,stringify:c}}function p0(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function yg(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const i=p0(r[n],o[n]);if(i)return i;n++}if(Math.abs(o.length-r.length)===1){if(ld(r))return 1;if(ld(o))return-1}return o.length-r.length}function ld(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const g0={type:0,value:""},m0=/[a-zA-Z0-9_]/;function v0(e){if(!e)return[[]];if(e==="/")return[[g0]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${f}": ${m}`)}let n=0,r=n;const o=[];let i;function s(){i&&o.push(i),i=[]}let u=0,c,f="",h="";function p(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),f="")}function v(){f+=c}for(;u<e.length;){if(c=e[u++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(f&&p(),s()):c===":"?(p(),n=1):v();break;case 4:v(),n=r;break;case 1:c==="("?n=2:m0.test(c)?v():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&u--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),p(),s(),o}function y0(e,t,n){const r=h0(v0(e.path),n),o=ht(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function _0(e,t){const n=[],r=new Map;t=hd({strict:!1,end:!0,sensitive:!1},t);function o(p){return r.get(p)}function i(p,v,m){const w=!m,k=fd(p);k.aliasOf=m&&m.record;const A=hd(t,p),O=[k];if("alias"in p){const P=typeof p.alias=="string"?[p.alias]:p.alias;for(const Q of P)O.push(fd(ht({},k,{components:m?m.record.components:k.components,path:Q,aliasOf:m?m.record:k})))}let N,C;for(const P of O){const{path:Q}=P;if(v&&Q[0]!=="/"){const re=v.record.path,ae=re[re.length-1]==="/"?"":"/";P.path=v.record.path+(Q&&ae+Q)}if(N=y0(P,v,A),m?m.alias.push(N):(C=C||N,C!==N&&C.alias.push(N),w&&p.name&&!dd(N)&&s(p.name)),_g(N)&&c(N),k.children){const re=k.children;for(let ae=0;ae<re.length;ae++)i(re[ae],N,m&&m.children[ae])}m=m||N}return C?()=>{s(C)}:yi}function s(p){if(mg(p)){const v=r.get(p);v&&(r.delete(p),n.splice(n.indexOf(v),1),v.children.forEach(s),v.alias.forEach(s))}else{const v=n.indexOf(p);v>-1&&(n.splice(v,1),p.record.name&&r.delete(p.record.name),p.children.forEach(s),p.alias.forEach(s))}}function u(){return n}function c(p){const v=x0(p,n);n.splice(v,0,p),p.record.name&&!dd(p)&&r.set(p.record.name,p)}function f(p,v){let m,w={},k,A;if("name"in p&&p.name){if(m=r.get(p.name),!m)throw Mo(1,{location:p});A=m.record.name,w=ht(cd(v.params,m.keys.filter(C=>!C.optional).concat(m.parent?m.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),p.params&&cd(p.params,m.keys.map(C=>C.name))),k=m.stringify(w)}else if(p.path!=null)k=p.path,m=n.find(C=>C.re.test(k)),m&&(w=m.parse(k),A=m.record.name);else{if(m=v.name?r.get(v.name):n.find(C=>C.re.test(v.path)),!m)throw Mo(1,{location:p,currentLocation:v});A=m.record.name,w=ht({},v.params,p.params),k=m.stringify(w)}const O=[];let N=m;for(;N;)O.unshift(N.record),N=N.parent;return{name:A,path:k,params:w,matched:O,meta:w0(O)}}e.forEach(p=>i(p));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:f,removeRoute:s,clearRoutes:h,getRoutes:u,getRecordMatcher:o}}function cd(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function fd(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:b0(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function b0(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function dd(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function w0(e){return e.reduce((t,n)=>ht(t,n.meta),{})}function hd(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function x0(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;yg(e,t[i])<0?r=i:n=i+1}const o=S0(e);return o&&(r=t.lastIndexOf(o,r-1)),r}function S0(e){let t=e;for(;t=t.parent;)if(_g(t)&&yg(e,t)===0)return t}function _g({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function E0(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const i=r[o].replace(cg," "),s=i.indexOf("="),u=Ti(s<0?i:i.slice(0,s)),c=s<0?null:Ti(i.slice(s+1));if(u in t){let f=t[u];Pn(f)||(f=t[u]=[f]),f.push(c)}else t[u]=c}return t}function pd(e){let t="";for(let n in e){const r=e[n];if(n=Zb(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Pn(r)?r.map(i=>i&&kl(i)):[r&&kl(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function k0(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Pn(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const C0=Symbol(""),gd=Symbol(""),vc=Symbol(""),yc=Symbol(""),Il=Symbol("");function ti(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Cr(e,t,n,r,o,i=s=>s()){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,c)=>{const f=v=>{v===!1?c(Mo(4,{from:n,to:t})):v instanceof Error?c(v):c0(v)?c(Mo(2,{from:t,to:v})):(s&&r.enterCallbacks[o]===s&&typeof v=="function"&&s.push(v),u())},h=i(()=>e.call(r&&r.instances[o],t,n,f));let p=Promise.resolve(h);e.length<3&&(p=p.then(f)),p.catch(v=>c(v))})}function qu(e,t,n,r,o=i=>i()){const i=[];for(const s of e)for(const u in s.components){let c=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(ug(c)){const h=(c.__vccOpts||c)[t];h&&i.push(Cr(h,n,r,s,u,o))}else{let f=c();i.push(()=>f.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${u}" at "${s.path}"`);const p=Ab(h)?h.default:h;s.mods[u]=h,s.components[u]=p;const m=(p.__vccOpts||p)[t];return m&&Cr(m,n,r,s,u,o)()}))}}return i}function md(e){const t=Ut(vc),n=Ut(yc),r=Ve(()=>{const c=Ce(e.to);return t.resolve(c)}),o=Ve(()=>{const{matched:c}=r.value,{length:f}=c,h=c[f-1],p=n.matched;if(!h||!p.length)return-1;const v=p.findIndex(Ao.bind(null,h));if(v>-1)return v;const m=vd(c[f-2]);return f>1&&vd(h)===m&&p[p.length-1].path!==m?p.findIndex(Ao.bind(null,c[f-2])):v}),i=Ve(()=>o.value>-1&&$0(n.params,r.value.params)),s=Ve(()=>o.value>-1&&o.value===n.matched.length-1&&pg(n.params,r.value.params));function u(c={}){if(N0(c)){const f=t[Ce(e.replace)?"replace":"push"](Ce(e.to)).catch(yi);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:Ve(()=>r.value.href),isActive:i,isExactActive:s,navigate:u}}function I0(e){return e.length===1?e[0]:e}const P0=nt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:md,setup(e,{slots:t}){const n=Ho(md(e)),{options:r}=Ut(vc),o=Ve(()=>({[yd(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[yd(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&I0(t.default(n));return e.custom?i:dt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),T0=P0;function N0(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function $0(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Pn(o)||o.length!==r.length||r.some((i,s)=>i!==o[s]))return!1}return!0}function vd(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yd=(e,t,n)=>e??t??n,O0=nt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Ut(Il),o=Ve(()=>e.route||r.value),i=Ut(gd,0),s=Ve(()=>{let f=Ce(i);const{matched:h}=o.value;let p;for(;(p=h[f])&&!p.components;)f++;return f}),u=Ve(()=>o.value.matched[s.value]);Zn(gd,Ve(()=>s.value+1)),Zn(C0,u),Zn(Il,o);const c=lt();return rt(()=>[c.value,u.value,e.name],([f,h,p],[v,m,w])=>{h&&(h.instances[p]=f,m&&m!==h&&f&&f===v&&(h.leaveGuards.size||(h.leaveGuards=m.leaveGuards),h.updateGuards.size||(h.updateGuards=m.updateGuards))),f&&h&&(!m||!Ao(h,m)||!v)&&(h.enterCallbacks[p]||[]).forEach(k=>k(f))},{flush:"post"}),()=>{const f=o.value,h=e.name,p=u.value,v=p&&p.components[h];if(!v)return _d(n.default,{Component:v,route:f});const m=p.props[h],w=m?m===!0?f.params:typeof m=="function"?m(f):m:null,A=dt(v,ht({},w,t,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(p.instances[h]=null)},ref:c}));return _d(n.default,{Component:A,route:f})||A}}});function _d(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const bg=O0;function A0(e){const t=_0(e.routes,e),n=e.parseQuery||E0,r=e.stringifyQuery||pd,o=e.history,i=ti(),s=ti(),u=ti(),c=ki(br);let f=br;yo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Ku.bind(null,X=>""+X),p=Ku.bind(null,Ub),v=Ku.bind(null,Ti);function m(X,he){let Y,_e;return mg(X)?(Y=t.getRecordMatcher(X),_e=he):_e=X,t.addRoute(_e,Y)}function w(X){const he=t.getRecordMatcher(X);he&&t.removeRoute(he)}function k(){return t.getRoutes().map(X=>X.record)}function A(X){return!!t.getRecordMatcher(X)}function O(X,he){if(he=ht({},he||c.value),typeof X=="string"){const _=Uu(n,X,he.path),x=t.resolve({path:_.path},he),I=o.createHref(_.fullPath);return ht(_,x,{params:v(x.params),hash:Ti(_.hash),redirectedFrom:void 0,href:I})}let Y;if(X.path!=null)Y=ht({},X,{path:Uu(n,X.path,he.path).path});else{const _=ht({},X.params);for(const x in _)_[x]==null&&delete _[x];Y=ht({},X,{params:p(_)}),he.params=p(he.params)}const _e=t.resolve(Y,he),Ze=X.hash||"";_e.params=h(v(_e.params));const E=Wb(r,ht({},X,{hash:Lb(Ze),path:_e.path})),$=o.createHref(E);return ht({fullPath:E,hash:Ze,query:r===pd?k0(X.query):X.query||{}},_e,{redirectedFrom:void 0,href:$})}function N(X){return typeof X=="string"?Uu(n,X,c.value.path):ht({},X)}function C(X,he){if(f!==X)return Mo(8,{from:he,to:X})}function P(X){return ae(X)}function Q(X){return P(ht(N(X),{replace:!0}))}function re(X){const he=X.matched[X.matched.length-1];if(he&&he.redirect){const{redirect:Y}=he;let _e=typeof Y=="function"?Y(X):Y;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=N(_e):{path:_e},_e.params={}),ht({query:X.query,hash:X.hash,params:_e.path!=null?{}:X.params},_e)}}function ae(X,he){const Y=f=O(X),_e=c.value,Ze=X.state,E=X.force,$=X.replace===!0,_=re(Y);if(_)return ae(ht(N(_),{state:typeof _=="object"?ht({},Ze,_.state):Ze,force:E,replace:$}),he||Y);const x=Y;x.redirectedFrom=he;let I;return!E&&Yb(r,_e,Y)&&(I=Mo(16,{to:x,from:_e}),Oe(_e,_e,!0,!1)),(I?Promise.resolve(I):ve(x,_e)).catch(S=>Jn(S)?Jn(S,2)?S:be(S):se(S,x,_e)).then(S=>{if(S){if(Jn(S,2))return ae(ht({replace:$},N(S.to),{state:typeof S.to=="object"?ht({},Ze,S.to.state):Ze,force:E}),he||x)}else S=U(x,_e,!0,$,Ze);return ge(x,_e,S),S})}function ue(X,he){const Y=C(X,he);return Y?Promise.reject(Y):Promise.resolve()}function pe(X){const he=Ne.values().next().value;return he&&typeof he.runWithContext=="function"?he.runWithContext(X):X()}function ve(X,he){let Y;const[_e,Ze,E]=M0(X,he);Y=qu(_e.reverse(),"beforeRouteLeave",X,he);for(const _ of _e)_.leaveGuards.forEach(x=>{Y.push(Cr(x,X,he))});const $=ue.bind(null,X,he);return Y.push($),$e(Y).then(()=>{Y=[];for(const _ of i.list())Y.push(Cr(_,X,he));return Y.push($),$e(Y)}).then(()=>{Y=qu(Ze,"beforeRouteUpdate",X,he);for(const _ of Ze)_.updateGuards.forEach(x=>{Y.push(Cr(x,X,he))});return Y.push($),$e(Y)}).then(()=>{Y=[];for(const _ of E)if(_.beforeEnter)if(Pn(_.beforeEnter))for(const x of _.beforeEnter)Y.push(Cr(x,X,he));else Y.push(Cr(_.beforeEnter,X,he));return Y.push($),$e(Y)}).then(()=>(X.matched.forEach(_=>_.enterCallbacks={}),Y=qu(E,"beforeRouteEnter",X,he,pe),Y.push($),$e(Y))).then(()=>{Y=[];for(const _ of s.list())Y.push(Cr(_,X,he));return Y.push($),$e(Y)}).catch(_=>Jn(_,8)?_:Promise.reject(_))}function ge(X,he,Y){u.list().forEach(_e=>pe(()=>_e(X,he,Y)))}function U(X,he,Y,_e,Ze){const E=C(X,he);if(E)return E;const $=he===br,_=yo?history.state:{};Y&&(_e||$?o.replace(X.fullPath,ht({scroll:$&&_&&_.scroll},Ze)):o.push(X.fullPath,Ze)),c.value=X,Oe(X,he,Y,$),be()}let ke;function F(){ke||(ke=o.listen((X,he,Y)=>{if(!Fe.listening)return;const _e=O(X),Ze=re(_e);if(Ze){ae(ht(Ze,{replace:!0,force:!0}),_e).catch(yi);return}f=_e;const E=c.value;yo&&o0(id(E.fullPath,Y.delta),Ba()),ve(_e,E).catch($=>Jn($,12)?$:Jn($,2)?(ae(ht(N($.to),{force:!0}),_e).then(_=>{Jn(_,20)&&!Y.delta&&Y.type===Ni.pop&&o.go(-1,!1)}).catch(yi),Promise.reject()):(Y.delta&&o.go(-Y.delta,!1),se($,_e,E))).then($=>{$=$||U(_e,E,!1),$&&(Y.delta&&!Jn($,8)?o.go(-Y.delta,!1):Y.type===Ni.pop&&Jn($,20)&&o.go(-1,!1)),ge(_e,E,$)}).catch(yi)}))}let ce=ti(),V=ti(),ne;function se(X,he,Y){be(X);const _e=V.list();return _e.length?_e.forEach(Ze=>Ze(X,he,Y)):console.error(X),Promise.reject(X)}function Se(){return ne&&c.value!==br?Promise.resolve():new Promise((X,he)=>{ce.add([X,he])})}function be(X){return ne||(ne=!X,F(),ce.list().forEach(([he,Y])=>X?Y(X):he()),ce.reset()),X}function Oe(X,he,Y,_e){const{scrollBehavior:Ze}=e;if(!yo||!Ze)return Promise.resolve();const E=!Y&&i0(id(X.fullPath,0))||(_e||!Y)&&history.state&&history.state.scroll||null;return mn().then(()=>Ze(X,he,E)).then($=>$&&r0($)).catch($=>se($,X,he))}const Be=X=>o.go(X);let Ue;const Ne=new Set,Fe={currentRoute:c,listening:!0,addRoute:m,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:A,getRoutes:k,resolve:O,options:e,push:P,replace:Q,go:Be,back:()=>Be(-1),forward:()=>Be(1),beforeEach:i.add,beforeResolve:s.add,afterEach:u.add,onError:V.add,isReady:Se,install(X){const he=this;X.component("RouterLink",T0),X.component("RouterView",bg),X.config.globalProperties.$router=he,Object.defineProperty(X.config.globalProperties,"$route",{enumerable:!0,get:()=>Ce(c)}),yo&&!Ue&&c.value===br&&(Ue=!0,P(o.location).catch(Ze=>{}));const Y={};for(const Ze in br)Object.defineProperty(Y,Ze,{get:()=>c.value[Ze],enumerable:!0});X.provide(vc,he),X.provide(yc,op(Y)),X.provide(Il,c);const _e=X.unmount;Ne.add(X),X.unmount=function(){Ne.delete(X),Ne.size<1&&(f=br,ke&&ke(),ke=null,c.value=br,Ue=!1,ne=!1),_e()}}};function $e(X){return X.reduce((he,Y)=>he.then(()=>pe(Y)),Promise.resolve())}return Fe}function M0(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let s=0;s<i;s++){const u=t.matched[s];u&&(e.matched.find(f=>Ao(f,u))?r.push(u):n.push(u));const c=e.matched[s];c&&(t.matched.find(f=>Ao(f,c))||o.push(c))}return[n,r,o]}function D0(e){return Ut(yc)}function $i(e){return Ca()?(ci(e),!0):!1}function rr(e){return typeof e=="function"?e():Ce(e)}const R0=typeof window<"u"&&typeof document<"u",z0=e=>typeof e<"u",B0=Object.prototype.toString,F0=e=>B0.call(e)==="[object Object]",j0=()=>{};function H0(e,t){function n(...r){return new Promise((o,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(o).catch(i)})}return n}const wg=e=>e();function V0(e=wg){const t=lt(!0);function n(){t.value=!1}function r(){t.value=!0}const o=(...i)=>{t.value&&e(...i)};return{isActive:rc(t),pause:n,resume:r,eventFilter:o}}function bd(e,t=!1,n="Timeout"){return new Promise((r,o)=>{setTimeout(t?()=>o(n):r,e)})}function L0(e,t,n={}){const{eventFilter:r=wg,...o}=n;return rt(e,H0(r,t),o)}function mo(e,t,n={}){const{eventFilter:r,...o}=n,{eventFilter:i,pause:s,resume:u,isActive:c}=V0(r);return{stop:L0(e,t,{...o,eventFilter:i}),pause:s,resume:u,isActive:c}}function Z0(e,t={}){if(!mt(e))return ap(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const r in e.value)n[r]=sy(()=>({get(){return e.value[r]},set(o){var i;if((i=rr(t.replaceRef))!=null?i:!0)if(Array.isArray(e.value)){const u=[...e.value];u[r]=o,e.value=u}else{const u={...e.value,[r]:o};Object.setPrototypeOf(u,Object.getPrototypeOf(e.value)),e.value=u}else e.value[r]=o}}));return n}function Pl(e,t=!1){function n(p,{flush:v="sync",deep:m=!1,timeout:w,throwOnTimeout:k}={}){let A=null;const N=[new Promise(C=>{A=rt(e,P=>{p(P)!==t&&(A?.(),C(P))},{flush:v,deep:m,immediate:!0})})];return w!=null&&N.push(bd(w,k).then(()=>rr(e)).finally(()=>A?.())),Promise.race(N)}function r(p,v){if(!mt(p))return n(P=>P===p,v);const{flush:m="sync",deep:w=!1,timeout:k,throwOnTimeout:A}=v??{};let O=null;const C=[new Promise(P=>{O=rt([e,p],([Q,re])=>{t!==(Q===re)&&(O?.(),P(Q))},{flush:m,deep:w,immediate:!0})})];return k!=null&&C.push(bd(k,A).then(()=>rr(e)).finally(()=>(O?.(),rr(e)))),Promise.race(C)}function o(p){return n(v=>!!v,p)}function i(p){return r(null,p)}function s(p){return r(void 0,p)}function u(p){return n(Number.isNaN,p)}function c(p,v){return n(m=>{const w=Array.from(m);return w.includes(p)||w.includes(rr(p))},v)}function f(p){return h(1,p)}function h(p=1,v){let m=-1;return n(()=>(m+=1,m>=p),v)}return Array.isArray(rr(e))?{toMatch:n,toContains:c,changed:f,changedTimes:h,get not(){return Pl(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:o,toBeNull:i,toBeNaN:u,toBeUndefined:s,changed:f,changedTimes:h,get not(){return Pl(e,!t)}}}function Tl(e){return Pl(e)}function K0(e){var t;const n=rr(e);return(t=n?.$el)!=null?t:n}const xg=R0?window:void 0;function Sg(...e){let t,n,r,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,o]=e,t=xg):[t,n,r,o]=e,!t)return j0;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],s=()=>{i.forEach(h=>h()),i.length=0},u=(h,p,v,m)=>(h.addEventListener(p,v,m),()=>h.removeEventListener(p,v,m)),c=rt(()=>[K0(t),rr(o)],([h,p])=>{if(s(),!h)return;const v=F0(p)?{...p}:p;i.push(...n.flatMap(m=>r.map(w=>u(h,m,w,v))))},{immediate:!0,flush:"post"}),f=()=>{c(),s()};return $i(f),f}function U0(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function wd(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=xg,eventName:i="keydown",passive:s=!1,dedupe:u=!1}=r,c=U0(t);return Sg(o,i,h=>{h.repeat&&rr(u)||c(h)&&n(h)},s)}function q0(e){return JSON.parse(JSON.stringify(e))}function Gu(e,t,n,r={}){var o,i,s;const{clone:u=!1,passive:c=!1,eventName:f,deep:h=!1,defaultValue:p,shouldEmit:v}=r,m=qn(),w=n||m?.emit||((o=m?.$emit)==null?void 0:o.bind(m))||((s=(i=m?.proxy)==null?void 0:i.$emit)==null?void 0:s.bind(m?.proxy));let k=f;t||(t="modelValue"),k=k||`update:${t.toString()}`;const A=C=>u?typeof u=="function"?u(C):q0(C):C,O=()=>z0(e[t])?A(e[t]):p,N=C=>{v?v(C)&&w(k,C):w(k,C)};if(c){const C=O(),P=lt(C);let Q=!1;return rt(()=>e[t],re=>{Q||(Q=!0,P.value=A(re),mn(()=>Q=!1))}),rt(P,re=>{!Q&&(re!==e[t]||h)&&N(re)},{deep:h}),P}else return Ve({get(){return O()},set(C){N(C)}})}var G0={value:()=>{}};function Fa(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Rs(n)}function Rs(e){this._=e}function W0(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Rs.prototype=Fa.prototype={constructor:Rs,on:function(e,t){var n=this._,r=W0(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Y0(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=xd(n[o],e.name,t);else if(t==null)for(o in n)n[o]=xd(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Rs(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Y0(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function xd(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=G0,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Nl="http://www.w3.org/1999/xhtml";const Sd={svg:"http://www.w3.org/2000/svg",xhtml:Nl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ja(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Sd.hasOwnProperty(t)?{space:Sd[t],local:e}:e}function X0(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Nl&&t.documentElement.namespaceURI===Nl?t.createElement(e):t.createElementNS(n,e)}}function J0(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Eg(e){var t=ja(e);return(t.local?J0:X0)(t)}function Q0(){}function _c(e){return e==null?Q0:function(){return this.querySelector(e)}}function ew(e){typeof e!="function"&&(e=_c(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,u=r[o]=new Array(s),c,f,h=0;h<s;++h)(c=i[h])&&(f=e.call(c,c.__data__,h,i))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f);return new vn(r,this._parents)}function tw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function nw(){return[]}function kg(e){return e==null?nw:function(){return this.querySelectorAll(e)}}function rw(e){return function(){return tw(e.apply(this,arguments))}}function ow(e){typeof e=="function"?e=rw(e):e=kg(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],u=s.length,c,f=0;f<u;++f)(c=s[f])&&(r.push(e.call(c,c.__data__,f,s)),o.push(c));return new vn(r,o)}function Cg(e){return function(){return this.matches(e)}}function Ig(e){return function(t){return t.matches(e)}}var iw=Array.prototype.find;function sw(e){return function(){return iw.call(this.children,e)}}function aw(){return this.firstElementChild}function uw(e){return this.select(e==null?aw:sw(typeof e=="function"?e:Ig(e)))}var lw=Array.prototype.filter;function cw(){return Array.from(this.children)}function fw(e){return function(){return lw.call(this.children,e)}}function dw(e){return this.selectAll(e==null?cw:fw(typeof e=="function"?e:Ig(e)))}function hw(e){typeof e!="function"&&(e=Cg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,u=r[o]=[],c,f=0;f<s;++f)(c=i[f])&&e.call(c,c.__data__,f,i)&&u.push(c);return new vn(r,this._parents)}function Pg(e){return new Array(e.length)}function pw(){return new vn(this._enter||this._groups.map(Pg),this._parents)}function ra(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ra.prototype={constructor:ra,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function gw(e){return function(){return e}}function mw(e,t,n,r,o,i){for(var s=0,u,c=t.length,f=i.length;s<f;++s)(u=t[s])?(u.__data__=i[s],r[s]=u):n[s]=new ra(e,i[s]);for(;s<c;++s)(u=t[s])&&(o[s]=u)}function vw(e,t,n,r,o,i,s){var u,c,f=new Map,h=t.length,p=i.length,v=new Array(h),m;for(u=0;u<h;++u)(c=t[u])&&(v[u]=m=s.call(c,c.__data__,u,t)+"",f.has(m)?o[u]=c:f.set(m,c));for(u=0;u<p;++u)m=s.call(e,i[u],u,i)+"",(c=f.get(m))?(r[u]=c,c.__data__=i[u],f.delete(m)):n[u]=new ra(e,i[u]);for(u=0;u<h;++u)(c=t[u])&&f.get(v[u])===c&&(o[u]=c)}function yw(e){return e.__data__}function _w(e,t){if(!arguments.length)return Array.from(this,yw);var n=t?vw:mw,r=this._parents,o=this._groups;typeof e!="function"&&(e=gw(e));for(var i=o.length,s=new Array(i),u=new Array(i),c=new Array(i),f=0;f<i;++f){var h=r[f],p=o[f],v=p.length,m=bw(e.call(h,h&&h.__data__,f,r)),w=m.length,k=u[f]=new Array(w),A=s[f]=new Array(w),O=c[f]=new Array(v);n(h,p,k,A,O,m,t);for(var N=0,C=0,P,Q;N<w;++N)if(P=k[N]){for(N>=C&&(C=N+1);!(Q=A[C])&&++C<w;);P._next=Q||null}}return s=new vn(s,r),s._enter=u,s._exit=c,s}function bw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ww(){return new vn(this._exit||this._groups.map(Pg),this._parents)}function xw(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function Sw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),u=new Array(o),c=0;c<s;++c)for(var f=n[c],h=r[c],p=f.length,v=u[c]=new Array(p),m,w=0;w<p;++w)(m=f[w]||h[w])&&(v[w]=m);for(;c<o;++c)u[c]=n[c];return new vn(u,this._parents)}function Ew(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function kw(e){e||(e=Cw);function t(p,v){return p&&v?e(p.__data__,v.__data__):!p-!v}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],u=s.length,c=o[i]=new Array(u),f,h=0;h<u;++h)(f=s[h])&&(c[h]=f);c.sort(t)}return new vn(o,this._parents).order()}function Cw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Iw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Pw(){return Array.from(this)}function Tw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function Nw(){let e=0;for(const t of this)++e;return e}function $w(){return!this.node()}function Ow(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,u;i<s;++i)(u=o[i])&&e.call(u,u.__data__,i,o);return this}function Aw(e){return function(){this.removeAttribute(e)}}function Mw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Dw(e,t){return function(){this.setAttribute(e,t)}}function Rw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Bw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Fw(e,t){var n=ja(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Mw:Aw:typeof t=="function"?n.local?Bw:zw:n.local?Rw:Dw)(n,t))}function Tg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function jw(e){return function(){this.style.removeProperty(e)}}function Hw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Vw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Lw(e,t,n){return arguments.length>1?this.each((t==null?jw:typeof t=="function"?Vw:Hw)(e,t,n??"")):Do(this.node(),e)}function Do(e,t){return e.style.getPropertyValue(t)||Tg(e).getComputedStyle(e,null).getPropertyValue(t)}function Zw(e){return function(){delete this[e]}}function Kw(e,t){return function(){this[e]=t}}function Uw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function qw(e,t){return arguments.length>1?this.each((t==null?Zw:typeof t=="function"?Uw:Kw)(e,t)):this.node()[e]}function Ng(e){return e.trim().split(/^|\s+/)}function bc(e){return e.classList||new $g(e)}function $g(e){this._node=e,this._names=Ng(e.getAttribute("class")||"")}$g.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Og(e,t){for(var n=bc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Ag(e,t){for(var n=bc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Gw(e){return function(){Og(this,e)}}function Ww(e){return function(){Ag(this,e)}}function Yw(e,t){return function(){(t.apply(this,arguments)?Og:Ag)(this,e)}}function Xw(e,t){var n=Ng(e+"");if(arguments.length<2){for(var r=bc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Yw:t?Gw:Ww)(n,t))}function Jw(){this.textContent=""}function Qw(e){return function(){this.textContent=e}}function e1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function t1(e){return arguments.length?this.each(e==null?Jw:(typeof e=="function"?e1:Qw)(e)):this.node().textContent}function n1(){this.innerHTML=""}function r1(e){return function(){this.innerHTML=e}}function o1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function i1(e){return arguments.length?this.each(e==null?n1:(typeof e=="function"?o1:r1)(e)):this.node().innerHTML}function s1(){this.nextSibling&&this.parentNode.appendChild(this)}function a1(){return this.each(s1)}function u1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function l1(){return this.each(u1)}function c1(e){var t=typeof e=="function"?e:Eg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function f1(){return null}function d1(e,t){var n=typeof e=="function"?e:Eg(e),r=t==null?f1:typeof t=="function"?t:_c(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function h1(){var e=this.parentNode;e&&e.removeChild(this)}function p1(){return this.each(h1)}function g1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function m1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function v1(e){return this.select(e?m1:g1)}function y1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _1(e){return function(t){e.call(this,t,this.__data__)}}function b1(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function w1(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function x1(e,t,n){return function(){var r=this.__on,o,i=_1(t);if(r){for(var s=0,u=r.length;s<u;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function S1(e,t,n){var r=b1(e+""),o,i=r.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,f=u.length,h;c<f;++c)for(o=0,h=u[c];o<i;++o)if((s=r[o]).type===h.type&&s.name===h.name)return h.value}return}for(u=t?x1:w1,o=0;o<i;++o)this.each(u(r[o],t,n));return this}function Mg(e,t,n){var r=Tg(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function E1(e,t){return function(){return Mg(this,e,t)}}function k1(e,t){return function(){return Mg(this,e,t.apply(this,arguments))}}function C1(e,t){return this.each((typeof t=="function"?k1:E1)(e,t))}function*I1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Dg=[null];function vn(e,t){this._groups=e,this._parents=t}function Vi(){return new vn([[document.documentElement]],Dg)}function P1(){return this}vn.prototype=Vi.prototype={constructor:vn,select:ew,selectAll:ow,selectChild:uw,selectChildren:dw,filter:hw,data:_w,enter:pw,exit:ww,join:xw,merge:Sw,selection:P1,order:Ew,sort:kw,call:Iw,nodes:Pw,node:Tw,size:Nw,empty:$w,each:Ow,attr:Fw,style:Lw,property:qw,classed:Xw,text:t1,html:i1,raise:a1,lower:l1,append:c1,insert:d1,remove:p1,clone:v1,datum:y1,on:S1,dispatch:C1,[Symbol.iterator]:I1};function En(e){return typeof e=="string"?new vn([[document.querySelector(e)]],[document.documentElement]):new vn([[e]],Dg)}function T1(e){let t;for(;t=e.sourceEvent;)e=t;return e}function zn(e,t){if(e=T1(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const N1={passive:!1},Oi={capture:!0,passive:!1};function Wu(e){e.stopImmediatePropagation()}function Co(e){e.preventDefault(),e.stopImmediatePropagation()}function Rg(e){var t=e.document.documentElement,n=En(e).on("dragstart.drag",Co,Oi);"onselectstart"in t?n.on("selectstart.drag",Co,Oi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function zg(e,t){var n=e.document.documentElement,r=En(e).on("dragstart.drag",null);t&&(r.on("click.drag",Co,Oi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const bs=e=>()=>e;function $l(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:u,dx:c,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}$l.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function $1(e){return!e.ctrlKey&&!e.button}function O1(){return this.parentNode}function A1(e,t){return t??{x:e.x,y:e.y}}function M1(){return navigator.maxTouchPoints||"ontouchstart"in this}function D1(){var e=$1,t=O1,n=A1,r=M1,o={},i=Fa("start","drag","end"),s=0,u,c,f,h,p=0;function v(P){P.on("mousedown.drag",m).filter(r).on("touchstart.drag",A).on("touchmove.drag",O,N1).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(P,Q){if(!(h||!e.call(this,P,Q))){var re=C(this,t.call(this,P,Q),P,Q,"mouse");re&&(En(P.view).on("mousemove.drag",w,Oi).on("mouseup.drag",k,Oi),Rg(P.view),Wu(P),f=!1,u=P.clientX,c=P.clientY,re("start",P))}}function w(P){if(Co(P),!f){var Q=P.clientX-u,re=P.clientY-c;f=Q*Q+re*re>p}o.mouse("drag",P)}function k(P){En(P.view).on("mousemove.drag mouseup.drag",null),zg(P.view,f),Co(P),o.mouse("end",P)}function A(P,Q){if(e.call(this,P,Q)){var re=P.changedTouches,ae=t.call(this,P,Q),ue=re.length,pe,ve;for(pe=0;pe<ue;++pe)(ve=C(this,ae,P,Q,re[pe].identifier,re[pe]))&&(Wu(P),ve("start",P,re[pe]))}}function O(P){var Q=P.changedTouches,re=Q.length,ae,ue;for(ae=0;ae<re;++ae)(ue=o[Q[ae].identifier])&&(Co(P),ue("drag",P,Q[ae]))}function N(P){var Q=P.changedTouches,re=Q.length,ae,ue;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),ae=0;ae<re;++ae)(ue=o[Q[ae].identifier])&&(Wu(P),ue("end",P,Q[ae]))}function C(P,Q,re,ae,ue,pe){var ve=i.copy(),ge=zn(pe||re,Q),U,ke,F;if((F=n.call(P,new $l("beforestart",{sourceEvent:re,target:v,identifier:ue,active:s,x:ge[0],y:ge[1],dx:0,dy:0,dispatch:ve}),ae))!=null)return U=F.x-ge[0]||0,ke=F.y-ge[1]||0,function ce(V,ne,se){var Se=ge,be;switch(V){case"start":o[ue]=ce,be=s++;break;case"end":delete o[ue],--s;case"drag":ge=zn(se||ne,Q),be=s;break}ve.call(V,P,new $l(V,{sourceEvent:ne,subject:F,target:v,identifier:ue,active:be,x:ge[0]+U,y:ge[1]+ke,dx:ge[0]-Se[0],dy:ge[1]-Se[1],dispatch:ve}),ae)}}return v.filter=function(P){return arguments.length?(e=typeof P=="function"?P:bs(!!P),v):e},v.container=function(P){return arguments.length?(t=typeof P=="function"?P:bs(P),v):t},v.subject=function(P){return arguments.length?(n=typeof P=="function"?P:bs(P),v):n},v.touchable=function(P){return arguments.length?(r=typeof P=="function"?P:bs(!!P),v):r},v.on=function(){var P=i.on.apply(i,arguments);return P===i?v:P},v.clickDistance=function(P){return arguments.length?(p=(P=+P)*P,v):Math.sqrt(p)},v}function wc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Bg(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Li(){}var Ai=.7,oa=1/Ai,Io="\\s*([+-]?\\d+)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",R1=/^#([0-9a-f]{3,8})$/,z1=new RegExp(`^rgb\\(${Io},${Io},${Io}\\)$`),B1=new RegExp(`^rgb\\(${Kn},${Kn},${Kn}\\)$`),F1=new RegExp(`^rgba\\(${Io},${Io},${Io},${Mi}\\)$`),j1=new RegExp(`^rgba\\(${Kn},${Kn},${Kn},${Mi}\\)$`),H1=new RegExp(`^hsl\\(${Mi},${Kn},${Kn}\\)$`),V1=new RegExp(`^hsla\\(${Mi},${Kn},${Kn},${Mi}\\)$`),Ed={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wc(Li,Xr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kd,formatHex:kd,formatHex8:L1,formatHsl:Z1,formatRgb:Cd,toString:Cd});function kd(){return this.rgb().formatHex()}function L1(){return this.rgb().formatHex8()}function Z1(){return Fg(this).formatHsl()}function Cd(){return this.rgb().formatRgb()}function Xr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=R1.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Id(t):n===3?new cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ws(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ws(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=z1.exec(e))?new cn(t[1],t[2],t[3],1):(t=B1.exec(e))?new cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=F1.exec(e))?ws(t[1],t[2],t[3],t[4]):(t=j1.exec(e))?ws(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=H1.exec(e))?Nd(t[1],t[2]/100,t[3]/100,1):(t=V1.exec(e))?Nd(t[1],t[2]/100,t[3]/100,t[4]):Ed.hasOwnProperty(e)?Id(Ed[e]):e==="transparent"?new cn(NaN,NaN,NaN,0):null}function Id(e){return new cn(e>>16&255,e>>8&255,e&255,1)}function ws(e,t,n,r){return r<=0&&(e=t=n=NaN),new cn(e,t,n,r)}function K1(e){return e instanceof Li||(e=Xr(e)),e?(e=e.rgb(),new cn(e.r,e.g,e.b,e.opacity)):new cn}function Ol(e,t,n,r){return arguments.length===1?K1(e):new cn(e,t,n,r??1)}function cn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}wc(cn,Ol,Bg(Li,{brighter(e){return e=e==null?oa:Math.pow(oa,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ai:Math.pow(Ai,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cn(Wr(this.r),Wr(this.g),Wr(this.b),ia(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pd,formatHex:Pd,formatHex8:U1,formatRgb:Td,toString:Td}));function Pd(){return`#${Ur(this.r)}${Ur(this.g)}${Ur(this.b)}`}function U1(){return`#${Ur(this.r)}${Ur(this.g)}${Ur(this.b)}${Ur((isNaN(this.opacity)?1:this.opacity)*255)}`}function Td(){const e=ia(this.opacity);return`${e===1?"rgb(":"rgba("}${Wr(this.r)}, ${Wr(this.g)}, ${Wr(this.b)}${e===1?")":`, ${e})`}`}function ia(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ur(e){return e=Wr(e),(e<16?"0":"")+e.toString(16)}function Nd(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new kn(e,t,n,r)}function Fg(e){if(e instanceof kn)return new kn(e.h,e.s,e.l,e.opacity);if(e instanceof Li||(e=Xr(e)),!e)return new kn;if(e instanceof kn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,u=i-o,c=(i+o)/2;return u?(t===i?s=(n-r)/u+(n<r)*6:n===i?s=(r-t)/u+2:s=(t-n)/u+4,u/=c<.5?i+o:2-i-o,s*=60):u=c>0&&c<1?0:s,new kn(s,u,c,e.opacity)}function q1(e,t,n,r){return arguments.length===1?Fg(e):new kn(e,t,n,r??1)}function kn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}wc(kn,q1,Bg(Li,{brighter(e){return e=e==null?oa:Math.pow(oa,e),new kn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ai:Math.pow(Ai,e),new kn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new cn(Yu(e>=240?e-240:e+120,o,r),Yu(e,o,r),Yu(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new kn($d(this.h),xs(this.s),xs(this.l),ia(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ia(this.opacity);return`${e===1?"hsl(":"hsla("}${$d(this.h)}, ${xs(this.s)*100}%, ${xs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $d(e){return e=(e||0)%360,e<0?e+360:e}function xs(e){return Math.max(0,Math.min(1,e||0))}function Yu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const xc=e=>()=>e;function G1(e,t){return function(n){return e+n*t}}function W1(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Y1(e){return(e=+e)==1?jg:function(t,n){return n-t?W1(t,n,e):xc(isNaN(t)?n:t)}}function jg(e,t){var n=t-e;return n?G1(e,n):xc(isNaN(e)?t:e)}const sa=(function e(t){var n=Y1(t);function r(o,i){var s=n((o=Ol(o)).r,(i=Ol(i)).r),u=n(o.g,i.g),c=n(o.b,i.b),f=jg(o.opacity,i.opacity);return function(h){return o.r=s(h),o.g=u(h),o.b=c(h),o.opacity=f(h),o+""}}return r.gamma=e,r})(1);function X1(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function J1(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Q1(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=bi(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(u){for(s=0;s<r;++s)i[s]=o[s](u);return i}}function ex(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Fn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function tx(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=bi(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Al=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xu=new RegExp(Al.source,"g");function nx(e){return function(){return e}}function rx(e){return function(t){return e(t)+""}}function Hg(e,t){var n=Al.lastIndex=Xu.lastIndex=0,r,o,i,s=-1,u=[],c=[];for(e=e+"",t=t+"";(r=Al.exec(e))&&(o=Xu.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),u[s]?u[s]+=i:u[++s]=i),(r=r[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,c.push({i:s,x:Fn(r,o)})),n=Xu.lastIndex;return n<t.length&&(i=t.slice(n),u[s]?u[s]+=i:u[++s]=i),u.length<2?c[0]?rx(c[0].x):nx(t):(t=c.length,function(f){for(var h=0,p;h<t;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function bi(e,t){var n=typeof t,r;return t==null||n==="boolean"?xc(t):(n==="number"?Fn:n==="string"?(r=Xr(t))?(t=r,sa):Hg:t instanceof Xr?sa:t instanceof Date?ex:J1(t)?X1:Array.isArray(t)?Q1:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tx:Fn)(e,t)}var Od=180/Math.PI,Ml={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vg(e,t,n,r,o,i){var s,u,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Od,skewX:Math.atan(c)*Od,scaleX:s,scaleY:u}}var Ss;function ox(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ml:Vg(t.a,t.b,t.c,t.d,t.e,t.f)}function ix(e){return e==null||(Ss||(Ss=document.createElementNS("http://www.w3.org/2000/svg","g")),Ss.setAttribute("transform",e),!(e=Ss.transform.baseVal.consolidate()))?Ml:(e=e.matrix,Vg(e.a,e.b,e.c,e.d,e.e,e.f))}function Lg(e,t,n,r){function o(f){return f.length?f.pop()+" ":""}function i(f,h,p,v,m,w){if(f!==p||h!==v){var k=m.push("translate(",null,t,null,n);w.push({i:k-4,x:Fn(f,p)},{i:k-2,x:Fn(h,v)})}else(p||v)&&m.push("translate("+p+t+v+n)}function s(f,h,p,v){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),v.push({i:p.push(o(p)+"rotate(",null,r)-2,x:Fn(f,h)})):h&&p.push(o(p)+"rotate("+h+r)}function u(f,h,p,v){f!==h?v.push({i:p.push(o(p)+"skewX(",null,r)-2,x:Fn(f,h)}):h&&p.push(o(p)+"skewX("+h+r)}function c(f,h,p,v,m,w){if(f!==p||h!==v){var k=m.push(o(m)+"scale(",null,",",null,")");w.push({i:k-4,x:Fn(f,p)},{i:k-2,x:Fn(h,v)})}else(p!==1||v!==1)&&m.push(o(m)+"scale("+p+","+v+")")}return function(f,h){var p=[],v=[];return f=e(f),h=e(h),i(f.translateX,f.translateY,h.translateX,h.translateY,p,v),s(f.rotate,h.rotate,p,v),u(f.skewX,h.skewX,p,v),c(f.scaleX,f.scaleY,h.scaleX,h.scaleY,p,v),f=h=null,function(m){for(var w=-1,k=v.length,A;++w<k;)p[(A=v[w]).i]=A.x(m);return p.join("")}}}var sx=Lg(ox,"px, ","px)","deg)"),ax=Lg(ix,", ",")",")"),ux=1e-12;function Ad(e){return((e=Math.exp(e))+1/e)/2}function lx(e){return((e=Math.exp(e))-1/e)/2}function cx(e){return((e=Math.exp(2*e))-1)/(e+1)}const zs=(function e(t,n,r){function o(i,s){var u=i[0],c=i[1],f=i[2],h=s[0],p=s[1],v=s[2],m=h-u,w=p-c,k=m*m+w*w,A,O;if(k<ux)O=Math.log(v/f)/t,A=function(ae){return[u+ae*m,c+ae*w,f*Math.exp(t*ae*O)]};else{var N=Math.sqrt(k),C=(v*v-f*f+r*k)/(2*f*n*N),P=(v*v-f*f-r*k)/(2*v*n*N),Q=Math.log(Math.sqrt(C*C+1)-C),re=Math.log(Math.sqrt(P*P+1)-P);O=(re-Q)/t,A=function(ae){var ue=ae*O,pe=Ad(Q),ve=f/(n*N)*(pe*cx(t*ue+Q)-lx(Q));return[u+ve*m,c+ve*w,f*pe/Ad(t*ue+Q)]}}return A.duration=O*1e3*t/Math.SQRT2,A}return o.rho=function(i){var s=Math.max(.001,+i),u=s*s,c=u*u;return e(s,u,c)},o})(Math.SQRT2,2,4);var Ro=0,si=0,ni=0,Zg=1e3,aa,ai,ua=0,Jr=0,Ha=0,Di=typeof performance=="object"&&performance.now?performance:Date,Kg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sc(){return Jr||(Kg(fx),Jr=Di.now()+Ha)}function fx(){Jr=0}function la(){this._call=this._time=this._next=null}la.prototype=Ug.prototype={constructor:la,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Sc():+n)+(t==null?0:+t),!this._next&&ai!==this&&(ai?ai._next=this:aa=this,ai=this),this._call=e,this._time=n,Dl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dl())}};function Ug(e,t,n){var r=new la;return r.restart(e,t,n),r}function dx(){Sc(),++Ro;for(var e=aa,t;e;)(t=Jr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ro}function Md(){Jr=(ua=Di.now())+Ha,Ro=si=0;try{dx()}finally{Ro=0,px(),Jr=0}}function hx(){var e=Di.now(),t=e-ua;t>Zg&&(Ha-=t,ua=e)}function px(){for(var e,t=aa,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:aa=n);ai=e,Dl(r)}function Dl(e){if(!Ro){si&&(si=clearTimeout(si));var t=e-Jr;t>24?(e<1/0&&(si=setTimeout(Md,e-Di.now()-Ha)),ni&&(ni=clearInterval(ni))):(ni||(ua=Di.now(),ni=setInterval(hx,Zg)),Ro=1,Kg(Md))}}function Dd(e,t,n){var r=new la;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var gx=Fa("start","end","cancel","interrupt"),mx=[],qg=0,Rd=1,Rl=2,Bs=3,zd=4,zl=5,Fs=6;function Va(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;vx(e,n,{name:t,index:r,group:o,on:gx,tween:mx,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:qg})}function Ec(e,t){var n=Tn(e,t);if(n.state>qg)throw new Error("too late; already scheduled");return n}function Gn(e,t){var n=Tn(e,t);if(n.state>Bs)throw new Error("too late; already running");return n}function Tn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function vx(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Ug(i,0,n.time);function i(f){n.state=Rd,n.timer.restart(s,n.delay,n.time),n.delay<=f&&s(f-n.delay)}function s(f){var h,p,v,m;if(n.state!==Rd)return c();for(h in r)if(m=r[h],m.name===n.name){if(m.state===Bs)return Dd(s);m.state===zd?(m.state=Fs,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[h]):+h<t&&(m.state=Fs,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[h])}if(Dd(function(){n.state===Bs&&(n.state=zd,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=Rl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Rl){for(n.state=Bs,o=new Array(v=n.tween.length),h=0,p=-1;h<v;++h)(m=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(o[++p]=m);o.length=p+1}}function u(f){for(var h=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=zl,1),p=-1,v=o.length;++p<v;)o[p].call(e,h);n.state===zl&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Fs,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function js(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>Rl&&r.state<zl,r.state=Fs,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function yx(e){return this.each(function(){js(this,e)})}function _x(e,t){var n,r;return function(){var o=Gn(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,u=r.length;s<u;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function bx(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Gn(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var u={name:t,value:n},c=0,f=o.length;c<f;++c)if(o[c].name===t){o[c]=u;break}c===f&&o.push(u)}i.tween=o}}function wx(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Tn(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?_x:bx)(n,e,t))}function kc(e,t,n){var r=e._id;return e.each(function(){var o=Gn(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Tn(o,r).value[t]}}function Gg(e,t){var n;return(typeof t=="number"?Fn:t instanceof Xr?sa:(n=Xr(t))?(t=n,sa):Hg)(e,t)}function xx(e){return function(){this.removeAttribute(e)}}function Sx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ex(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function kx(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function Cx(e,t,n){var r,o,i;return function(){var s,u=n(this),c;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=u+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,u)))}}function Ix(e,t,n){var r,o,i;return function(){var s,u=n(this),c;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=u+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,u)))}}function Px(e,t){var n=ja(e),r=n==="transform"?ax:Gg;return this.attrTween(e,typeof t=="function"?(n.local?Ix:Cx)(n,r,kc(this,"attr."+e,t)):t==null?(n.local?Sx:xx)(n):(n.local?kx:Ex)(n,r,t))}function Tx(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Nx(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function $x(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Nx(e,i)),n}return o._value=t,o}function Ox(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Tx(e,i)),n}return o._value=t,o}function Ax(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ja(e);return this.tween(n,(r.local?$x:Ox)(r,t))}function Mx(e,t){return function(){Ec(this,e).delay=+t.apply(this,arguments)}}function Dx(e,t){return t=+t,function(){Ec(this,e).delay=t}}function Rx(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Mx:Dx)(t,e)):Tn(this.node(),t).delay}function zx(e,t){return function(){Gn(this,e).duration=+t.apply(this,arguments)}}function Bx(e,t){return t=+t,function(){Gn(this,e).duration=t}}function Fx(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zx:Bx)(t,e)):Tn(this.node(),t).duration}function jx(e,t){if(typeof t!="function")throw new Error;return function(){Gn(this,e).ease=t}}function Hx(e){var t=this._id;return arguments.length?this.each(jx(t,e)):Tn(this.node(),t).ease}function Vx(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Gn(this,e).ease=n}}function Lx(e){if(typeof e!="function")throw new Error;return this.each(Vx(this._id,e))}function Zx(e){typeof e!="function"&&(e=Cg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,u=r[o]=[],c,f=0;f<s;++f)(c=i[f])&&e.call(c,c.__data__,f,i)&&u.push(c);return new fr(r,this._parents,this._name,this._id)}function Kx(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),u=0;u<i;++u)for(var c=t[u],f=n[u],h=c.length,p=s[u]=new Array(h),v,m=0;m<h;++m)(v=c[m]||f[m])&&(p[m]=v);for(;u<r;++u)s[u]=t[u];return new fr(s,this._parents,this._name,this._id)}function Ux(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function qx(e,t,n){var r,o,i=Ux(t)?Ec:Gn;return function(){var s=i(this,e),u=s.on;u!==r&&(o=(r=u).copy()).on(t,n),s.on=o}}function Gx(e,t){var n=this._id;return arguments.length<2?Tn(this.node(),n).on.on(e):this.each(qx(n,e,t))}function Wx(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Yx(){return this.on("end.remove",Wx(this._id))}function Xx(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_c(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var u=r[s],c=u.length,f=i[s]=new Array(c),h,p,v=0;v<c;++v)(h=u[v])&&(p=e.call(h,h.__data__,v,u))&&("__data__"in h&&(p.__data__=h.__data__),f[v]=p,Va(f[v],t,n,v,f,Tn(h,n)));return new fr(i,this._parents,t,n)}function Jx(e){var t=this._name,n=this._id;typeof e!="function"&&(e=kg(e));for(var r=this._groups,o=r.length,i=[],s=[],u=0;u<o;++u)for(var c=r[u],f=c.length,h,p=0;p<f;++p)if(h=c[p]){for(var v=e.call(h,h.__data__,p,c),m,w=Tn(h,n),k=0,A=v.length;k<A;++k)(m=v[k])&&Va(m,t,n,k,v,w);i.push(v),s.push(h)}return new fr(i,s,t,n)}var Qx=Vi.prototype.constructor;function eS(){return new Qx(this._groups,this._parents)}function tS(e,t){var n,r,o;return function(){var i=Do(this,e),s=(this.style.removeProperty(e),Do(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Wg(e){return function(){this.style.removeProperty(e)}}function nS(e,t,n){var r,o=n+"",i;return function(){var s=Do(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function rS(e,t,n){var r,o,i;return function(){var s=Do(this,e),u=n(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(e),Do(this,e))),s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,u))}}function oS(e,t){var n,r,o,i="style."+t,s="end."+i,u;return function(){var c=Gn(this,e),f=c.on,h=c.value[i]==null?u||(u=Wg(t)):void 0;(f!==n||o!==h)&&(r=(n=f).copy()).on(s,o=h),c.on=r}}function iS(e,t,n){var r=(e+="")=="transform"?sx:Gg;return t==null?this.styleTween(e,tS(e,r)).on("end.style."+e,Wg(e)):typeof t=="function"?this.styleTween(e,rS(e,r,kc(this,"style."+e,t))).each(oS(this._id,e)):this.styleTween(e,nS(e,r,t),n).on("end.style."+e,null)}function sS(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function aS(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&sS(e,s,n)),r}return i._value=t,i}function uS(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,aS(e,t,n??""))}function lS(e){return function(){this.textContent=e}}function cS(e){return function(){var t=e(this);this.textContent=t??""}}function fS(e){return this.tween("text",typeof e=="function"?cS(kc(this,"text",e)):lS(e==null?"":e+""))}function dS(e){return function(t){this.textContent=e.call(this,t)}}function hS(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&dS(o)),t}return r._value=e,r}function pS(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,hS(e))}function gS(){for(var e=this._name,t=this._id,n=Yg(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],u=s.length,c,f=0;f<u;++f)if(c=s[f]){var h=Tn(c,t);Va(c,e,n,f,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new fr(r,this._parents,e,n)}function mS(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var u={value:s},c={value:function(){--o===0&&i()}};n.each(function(){var f=Gn(this,r),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),f.on=t}),o===0&&i()})}var vS=0;function fr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Yg(){return++vS}var Qn=Vi.prototype;fr.prototype={constructor:fr,select:Xx,selectAll:Jx,selectChild:Qn.selectChild,selectChildren:Qn.selectChildren,filter:Zx,merge:Kx,selection:eS,transition:gS,call:Qn.call,nodes:Qn.nodes,node:Qn.node,size:Qn.size,empty:Qn.empty,each:Qn.each,on:Gx,attr:Px,attrTween:Ax,style:iS,styleTween:uS,text:fS,textTween:pS,remove:Yx,tween:wx,delay:Rx,duration:Fx,ease:Hx,easeVarying:Lx,end:mS,[Symbol.iterator]:Qn[Symbol.iterator]};function yS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _S={time:null,delay:0,duration:250,ease:yS};function bS(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function wS(e){var t,n;e instanceof fr?(t=e._id,e=e._name):(t=Yg(),(n=_S).time=Sc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],u=s.length,c,f=0;f<u;++f)(c=s[f])&&Va(c,e,t,f,s,n||bS(c,t));return new fr(r,this._parents,e,t)}Vi.prototype.interrupt=yx;Vi.prototype.transition=wS;const Es=e=>()=>e;function xS(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function or(e,t,n){this.k=e,this.x=t,this.y=n}or.prototype={constructor:or,scale:function(e){return e===1?this:new or(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new or(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zo=new or(1,0,0);or.prototype;function Ju(e){e.stopImmediatePropagation()}function ri(e){e.preventDefault(),e.stopImmediatePropagation()}function SS(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ES(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Bd(){return this.__zoom||zo}function kS(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function CS(){return navigator.maxTouchPoints||"ontouchstart"in this}function IS(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function PS(){var e=SS,t=ES,n=IS,r=kS,o=CS,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,c=zs,f=Fa("start","zoom","end"),h,p,v,m=500,w=150,k=0,A=10;function O(F){F.property("__zoom",Bd).on("wheel.zoom",ue,{passive:!1}).on("mousedown.zoom",pe).on("dblclick.zoom",ve).filter(o).on("touchstart.zoom",ge).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",ke).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}O.transform=function(F,ce,V,ne){var se=F.selection?F.selection():F;se.property("__zoom",Bd),F!==se?Q(F,ce,V,ne):se.interrupt().each(function(){re(this,arguments).event(ne).start().zoom(null,typeof ce=="function"?ce.apply(this,arguments):ce).end()})},O.scaleBy=function(F,ce,V,ne){O.scaleTo(F,function(){var se=this.__zoom.k,Se=typeof ce=="function"?ce.apply(this,arguments):ce;return se*Se},V,ne)},O.scaleTo=function(F,ce,V,ne){O.transform(F,function(){var se=t.apply(this,arguments),Se=this.__zoom,be=V==null?P(se):typeof V=="function"?V.apply(this,arguments):V,Oe=Se.invert(be),Be=typeof ce=="function"?ce.apply(this,arguments):ce;return n(C(N(Se,Be),be,Oe),se,s)},V,ne)},O.translateBy=function(F,ce,V,ne){O.transform(F,function(){return n(this.__zoom.translate(typeof ce=="function"?ce.apply(this,arguments):ce,typeof V=="function"?V.apply(this,arguments):V),t.apply(this,arguments),s)},null,ne)},O.translateTo=function(F,ce,V,ne,se){O.transform(F,function(){var Se=t.apply(this,arguments),be=this.__zoom,Oe=ne==null?P(Se):typeof ne=="function"?ne.apply(this,arguments):ne;return n(zo.translate(Oe[0],Oe[1]).scale(be.k).translate(typeof ce=="function"?-ce.apply(this,arguments):-ce,typeof V=="function"?-V.apply(this,arguments):-V),Se,s)},ne,se)};function N(F,ce){return ce=Math.max(i[0],Math.min(i[1],ce)),ce===F.k?F:new or(ce,F.x,F.y)}function C(F,ce,V){var ne=ce[0]-V[0]*F.k,se=ce[1]-V[1]*F.k;return ne===F.x&&se===F.y?F:new or(F.k,ne,se)}function P(F){return[(+F[0][0]+ +F[1][0])/2,(+F[0][1]+ +F[1][1])/2]}function Q(F,ce,V,ne){F.on("start.zoom",function(){re(this,arguments).event(ne).start()}).on("interrupt.zoom end.zoom",function(){re(this,arguments).event(ne).end()}).tween("zoom",function(){var se=this,Se=arguments,be=re(se,Se).event(ne),Oe=t.apply(se,Se),Be=V==null?P(Oe):typeof V=="function"?V.apply(se,Se):V,Ue=Math.max(Oe[1][0]-Oe[0][0],Oe[1][1]-Oe[0][1]),Ne=se.__zoom,Fe=typeof ce=="function"?ce.apply(se,Se):ce,$e=c(Ne.invert(Be).concat(Ue/Ne.k),Fe.invert(Be).concat(Ue/Fe.k));return function(X){if(X===1)X=Fe;else{var he=$e(X),Y=Ue/he[2];X=new or(Y,Be[0]-he[0]*Y,Be[1]-he[1]*Y)}be.zoom(null,X)}})}function re(F,ce,V){return!V&&F.__zooming||new ae(F,ce)}function ae(F,ce){this.that=F,this.args=ce,this.active=0,this.sourceEvent=null,this.extent=t.apply(F,ce),this.taps=0}ae.prototype={event:function(F){return F&&(this.sourceEvent=F),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(F,ce){return this.mouse&&F!=="mouse"&&(this.mouse[1]=ce.invert(this.mouse[0])),this.touch0&&F!=="touch"&&(this.touch0[1]=ce.invert(this.touch0[0])),this.touch1&&F!=="touch"&&(this.touch1[1]=ce.invert(this.touch1[0])),this.that.__zoom=ce,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(F){var ce=En(this.that).datum();f.call(F,this.that,new xS(F,{sourceEvent:this.sourceEvent,target:O,transform:this.that.__zoom,dispatch:f}),ce)}};function ue(F,...ce){if(!e.apply(this,arguments))return;var V=re(this,ce).event(F),ne=this.__zoom,se=Math.max(i[0],Math.min(i[1],ne.k*Math.pow(2,r.apply(this,arguments)))),Se=zn(F);if(V.wheel)(V.mouse[0][0]!==Se[0]||V.mouse[0][1]!==Se[1])&&(V.mouse[1]=ne.invert(V.mouse[0]=Se)),clearTimeout(V.wheel);else{if(ne.k===se)return;V.mouse=[Se,ne.invert(Se)],js(this),V.start()}ri(F),V.wheel=setTimeout(be,w),V.zoom("mouse",n(C(N(ne,se),V.mouse[0],V.mouse[1]),V.extent,s));function be(){V.wheel=null,V.end()}}function pe(F,...ce){if(v||!e.apply(this,arguments))return;var V=F.currentTarget,ne=re(this,ce,!0).event(F),se=En(F.view).on("mousemove.zoom",Be,!0).on("mouseup.zoom",Ue,!0),Se=zn(F,V),be=F.clientX,Oe=F.clientY;Rg(F.view),Ju(F),ne.mouse=[Se,this.__zoom.invert(Se)],js(this),ne.start();function Be(Ne){if(ri(Ne),!ne.moved){var Fe=Ne.clientX-be,$e=Ne.clientY-Oe;ne.moved=Fe*Fe+$e*$e>k}ne.event(Ne).zoom("mouse",n(C(ne.that.__zoom,ne.mouse[0]=zn(Ne,V),ne.mouse[1]),ne.extent,s))}function Ue(Ne){se.on("mousemove.zoom mouseup.zoom",null),zg(Ne.view,ne.moved),ri(Ne),ne.event(Ne).end()}}function ve(F,...ce){if(e.apply(this,arguments)){var V=this.__zoom,ne=zn(F.changedTouches?F.changedTouches[0]:F,this),se=V.invert(ne),Se=V.k*(F.shiftKey?.5:2),be=n(C(N(V,Se),ne,se),t.apply(this,ce),s);ri(F),u>0?En(this).transition().duration(u).call(Q,be,ne,F):En(this).call(O.transform,be,ne,F)}}function ge(F,...ce){if(e.apply(this,arguments)){var V=F.touches,ne=V.length,se=re(this,ce,F.changedTouches.length===ne).event(F),Se,be,Oe,Be;for(Ju(F),be=0;be<ne;++be)Oe=V[be],Be=zn(Oe,this),Be=[Be,this.__zoom.invert(Be),Oe.identifier],se.touch0?!se.touch1&&se.touch0[2]!==Be[2]&&(se.touch1=Be,se.taps=0):(se.touch0=Be,Se=!0,se.taps=1+!!h);h&&(h=clearTimeout(h)),Se&&(se.taps<2&&(p=Be[0],h=setTimeout(function(){h=null},m)),js(this),se.start())}}function U(F,...ce){if(this.__zooming){var V=re(this,ce).event(F),ne=F.changedTouches,se=ne.length,Se,be,Oe,Be;for(ri(F),Se=0;Se<se;++Se)be=ne[Se],Oe=zn(be,this),V.touch0&&V.touch0[2]===be.identifier?V.touch0[0]=Oe:V.touch1&&V.touch1[2]===be.identifier&&(V.touch1[0]=Oe);if(be=V.that.__zoom,V.touch1){var Ue=V.touch0[0],Ne=V.touch0[1],Fe=V.touch1[0],$e=V.touch1[1],X=(X=Fe[0]-Ue[0])*X+(X=Fe[1]-Ue[1])*X,he=(he=$e[0]-Ne[0])*he+(he=$e[1]-Ne[1])*he;be=N(be,Math.sqrt(X/he)),Oe=[(Ue[0]+Fe[0])/2,(Ue[1]+Fe[1])/2],Be=[(Ne[0]+$e[0])/2,(Ne[1]+$e[1])/2]}else if(V.touch0)Oe=V.touch0[0],Be=V.touch0[1];else return;V.zoom("touch",n(C(be,Oe,Be),V.extent,s))}}function ke(F,...ce){if(this.__zooming){var V=re(this,ce).event(F),ne=F.changedTouches,se=ne.length,Se,be;for(Ju(F),v&&clearTimeout(v),v=setTimeout(function(){v=null},m),Se=0;Se<se;++Se)be=ne[Se],V.touch0&&V.touch0[2]===be.identifier?delete V.touch0:V.touch1&&V.touch1[2]===be.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(be=zn(be,this),Math.hypot(p[0]-be[0],p[1]-be[1])<A)){var Oe=En(this).on("dblclick.zoom");Oe&&Oe.apply(this,arguments)}}}return O.wheelDelta=function(F){return arguments.length?(r=typeof F=="function"?F:Es(+F),O):r},O.filter=function(F){return arguments.length?(e=typeof F=="function"?F:Es(!!F),O):e},O.touchable=function(F){return arguments.length?(o=typeof F=="function"?F:Es(!!F),O):o},O.extent=function(F){return arguments.length?(t=typeof F=="function"?F:Es([[+F[0][0],+F[0][1]],[+F[1][0],+F[1][1]]]),O):t},O.scaleExtent=function(F){return arguments.length?(i[0]=+F[0],i[1]=+F[1],O):[i[0],i[1]]},O.translateExtent=function(F){return arguments.length?(s[0][0]=+F[0][0],s[1][0]=+F[1][0],s[0][1]=+F[0][1],s[1][1]=+F[1][1],O):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},O.constrain=function(F){return arguments.length?(n=F,O):n},O.duration=function(F){return arguments.length?(u=+F,O):u},O.interpolate=function(F){return arguments.length?(c=F,O):c},O.on=function(){var F=f.on.apply(f,arguments);return F===f?O:F},O.clickDistance=function(F){return arguments.length?(k=(F=+F)*F,O):Math.sqrt(k)},O.tapDistance=function(F){return arguments.length?(A=+F,O):A},O}var Le=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(Le||{}),Cc=(e=>(e.Partial="partial",e.Full="full",e))(Cc||{}),Zr=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Zr||{}),Tr=(e=>(e.Strict="strict",e.Loose="loose",e))(Tr||{}),Bl=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Bl||{}),wi=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(wi||{});const TS=["INPUT","SELECT","TEXTAREA"],NS=typeof document<"u"?document:null;function Fl(e){var t,n;const r=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,o=typeof r?.hasAttribute=="function"?r.hasAttribute("contenteditable"):!1,i=typeof r?.closest=="function"?r.closest(".nokey"):null;return TS.includes(r?.nodeName)||o||!!i}function $S(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Fd(e,t,n,r){const o=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(s=>s.trim().toLowerCase());if(o.length===1)return e.toLowerCase()===t.toLowerCase();r||n.add(e.toLowerCase());const i=o.every((s,u)=>n.has(s)&&Array.from(n.values())[u]===o[u]);return r&&n.delete(e.toLowerCase()),i}function OS(e,t){return n=>{if(!n.code&&!n.key)return!1;const r=AS(n.code,e);return Array.isArray(e)?e.some(o=>Fd(n[r],o,t,n.type==="keyup")):Fd(n[r],e,t,n.type==="keyup")}}function AS(e,t){return t.includes(e)?"code":"key"}function xi(e,t){const n=Ve(()=>tt(t?.target)??NS),r=ki(tt(e)===!0);let o=!1;const i=new Set;let s=c(tt(e));rt(()=>tt(e),(f,h)=>{typeof h=="boolean"&&typeof f!="boolean"&&u(),s=c(f)},{immediate:!0}),Sg(["blur","contextmenu"],u),wd((...f)=>s(...f),f=>{var h,p;const v=tt(t?.actInsideInputWithModifier)??!0,m=tt(t?.preventDefault)??!1;if(o=$S(f),(!o||o&&!v)&&Fl(f))return;const k=((p=(h=f.composedPath)==null?void 0:h.call(f))==null?void 0:p[0])||f.target,A=k?.nodeName==="BUTTON"||k?.nodeName==="A";!m&&(o||!A)&&f.preventDefault(),r.value=!0},{eventName:"keydown",target:n}),wd((...f)=>s(...f),f=>{const h=tt(t?.actInsideInputWithModifier)??!0;if(r.value){if((!o||o&&!h)&&Fl(f))return;o=!1,r.value=!1}},{eventName:"keyup",target:n});function u(){o=!1,i.clear(),r.value=tt(e)===!0}function c(f){return f===null?(u(),()=>!1):typeof f=="boolean"?(u(),r.value=f,()=>!1):Array.isArray(f)||typeof f=="string"?OS(f,i):f}return r}const Xg="vue-flow__node-desc",Jg="vue-flow__edge-desc",MS="vue-flow__aria-live",Qg=["Enter"," ","Escape"],Po={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function ca(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function fa(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)}function La(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Qr(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function em(e,t){return{x:Qr(e.x,t[0][0],t[1][0]),y:Qr(e.y,t[0][1],t[1][1])}}function jd(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Nr(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Yr(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Nr(e)}function ui(e){return Yr(e)&&"computedPosition"in e}function ks(e){return!Number.isNaN(e)&&Number.isFinite(e)}function DS(e){return ks(e.width)&&ks(e.height)&&ks(e.x)&&ks(e.y)}function RS(e,t,n){const r={id:e.id.toString(),type:e.type??"default",dimensions:Vn({width:0,height:0}),computedPosition:Vn({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Ft(e.data)?e.data:{},events:Vn(Ft(e.events)?e.events:{})};return Object.assign(t??r,e,{id:e.id.toString(),parentNode:n})}function tm(e,t,n){var r,o;const i={id:e.id.toString(),type:e.type??t?.type??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(r=e.sourceHandle)==null?void 0:r.toString(),targetHandle:(o=e.targetHandle)==null?void 0:o.toString(),updatable:e.updatable??n?.updatable,selectable:e.selectable??n?.selectable,focusable:e.focusable??n?.focusable,data:Ft(e.data)?e.data:{},events:Vn(Ft(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??n?.interactionWidth,...n??{}};return Object.assign(t??i,e,{id:e.id.toString()})}function nm(e,t,n,r){const o=typeof e=="string"?e:e.id,i=new Set,s=r==="source"?"target":"source";for(const u of n)u[s]===o&&i.add(u[r]);return t.filter(u=>i.has(u.id))}function zS(...e){if(e.length===3){const[i,s,u]=e;return nm(i,s,u,"target")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(i=>Nr(i)&&i.source===r).map(i=>n.find(s=>Yr(s)&&s.id===i.target))}function BS(...e){if(e.length===3){const[i,s,u]=e;return nm(i,s,u,"source")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(i=>Nr(i)&&i.target===r).map(i=>n.find(s=>Yr(s)&&s.id===i.source))}function rm({source:e,sourceHandle:t,target:n,targetHandle:r}){return`vueflow__edge-${e}${t??""}-${n}${r??""}`}function FS(e,t){return t.some(n=>Nr(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function jl({x:e,y:t},{x:n,y:r,zoom:o}){return{x:e*o+n,y:t*o+r}}function Ri({x:e,y:t},{x:n,y:r,zoom:o},i=!1,s=[1,1]){const u={x:(e-n)/o,y:(t-r)/o};return i?Za(u,s):u}function jS(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function om({x:e,y:t,width:n,height:r}){return{x:e,y:t,x2:e+n,y2:t+r}}function HS({x:e,y:t,x2:n,y2:r}){return{x:e,y:t,width:n-e,height:r-t}}function im(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const r=e[n];t=jS(t,om({...r.computedPosition,...r.dimensions}))}return HS(t)}function sm(e,t,n={x:0,y:0,zoom:1},r=!1,o=!1){const i={...Ri(t,n),width:t.width/n.zoom,height:t.height/n.zoom},s=[];for(const u of e){const{dimensions:c,selectable:f=!0,hidden:h=!1}=u,p=c.width??u.width??null,v=c.height??u.height??null;if(o&&!f||h)continue;const m=fa(i,ca(u)),w=p===null||v===null,k=r&&m>0,A=(p??0)*(v??0);(w||k||m>=A||u.dragging)&&s.push(u)}return s}function am(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const r of e)n.add(r.id);return t.filter(r=>n.has(r.source)||n.has(r.target))}function Hd(e,t,n,r,o,i=.1,s={x:0,y:0}){const u=t/(e.width*(1+i)),c=n/(e.height*(1+i)),f=Math.min(u,c),h=Qr(f,r,o),p=e.x+e.width/2,v=e.y+e.height/2,m=t/2-p*h+(s.x??0),w=n/2-v*h+(s.y??0);return{x:m,y:w,zoom:h}}function VS(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function um(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:um(n,t):!1}function zi(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`}function Vd(e){const t=e.ctrlKey&&da()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function Ld(e,t,n){return e<t?Qr(Math.abs(e-t),1,t)/t:e>n?-Qr(Math.abs(e-n),1,t)/t:0}function lm(e,t,n=15,r=40){const o=Ld(e.x,r,t.width-r)*n,i=Ld(e.y,r,t.height-r)*n;return[o,i]}function Qu(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,r=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||r>0||e.position.x<0||e.position.y<0){let o={};if(typeof t.style=="function"?o={...t.style(t)}:t.style&&(o={...t.style}),o.width=o.width??`${t.dimensions.width}px`,o.height=o.height??`${t.dimensions.height}px`,n>0)if(typeof o.width=="string"){const i=Number(o.width.replace("px",""));o.width=`${i+n}px`}else o.width+=n;if(r>0)if(typeof o.height=="string"){const i=Number(o.height.replace("px",""));o.height=`${i+r}px`}else o.height+=r;if(e.position.x<0){const i=Math.abs(e.position.x);if(t.position.x=t.position.x-i,typeof o.width=="string"){const s=Number(o.width.replace("px",""));o.width=`${s+i}px`}else o.width+=i;e.position.x=0}if(e.position.y<0){const i=Math.abs(e.position.y);if(t.position.y=t.position.y-i,typeof o.height=="string"){const s=Number(o.height.replace("px",""));o.height=`${s+i}px`}else o.height+=i;e.position.y=0}t.dimensions.width=Number(o.width.toString().replace("px","")),t.dimensions.height=Number(o.height.toString().replace("px","")),typeof t.style=="function"?t.style=i=>{const s=t.style;return{...s(i),...o}}:t.style={...t.style,...o}}}}function Zd(e,t){var n,r;const o=e.filter(s=>s.type==="add"||s.type==="remove");for(const s of o)if(s.type==="add")t.findIndex(c=>c.id===s.item.id)===-1&&t.push(s.item);else if(s.type==="remove"){const u=t.findIndex(c=>c.id===s.id);u!==-1&&t.splice(u,1)}const i=t.map(s=>s.id);for(const s of t)for(const u of e)if(u.id===s.id)switch(u.type){case"select":s.selected=u.selected;break;case"position":if(ui(s)&&(typeof u.position<"u"&&(s.position=u.position),typeof u.dragging<"u"&&(s.dragging=u.dragging),s.expandParent&&s.parentNode)){const c=t[i.indexOf(s.parentNode)];c&&ui(c)&&Qu(s,c)}break;case"dimensions":if(ui(s)&&(typeof u.dimensions<"u"&&(s.dimensions=u.dimensions),typeof u.updateStyle<"u"&&u.updateStyle&&(s.style={...s.style||{},width:`${(n=u.dimensions)==null?void 0:n.width}px`,height:`${(r=u.dimensions)==null?void 0:r.height}px`}),typeof u.resizing<"u"&&(s.resizing=u.resizing),s.expandParent&&s.parentNode)){const c=t[i.indexOf(s.parentNode)];c&&ui(c)&&(!!c.dimensions.width&&!!c.dimensions.height?Qu(s,c):mn(()=>{Qu(s,c)}))}break}return t}function Sr(e,t){return{id:e,type:"select",selected:t}}function Kd(e){return{item:e,type:"add"}}function Ud(e){return{id:e,type:"remove"}}function qd(e,t,n,r,o){return{id:e,source:t,target:n,sourceHandle:r||null,targetHandle:o||null,type:"remove"}}function Ir(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(Sr(i.id,s)))}return r}const Gd=()=>{};function ze(e){const t=new Set;let n=Gd,r=()=>!1;const o=()=>t.size>0||r(),i=v=>{n=v},s=()=>{n=Gd},u=v=>{r=v},c=()=>{r=()=>!1},f=v=>{t.delete(v)};return{on:v=>{t.add(v);const m=()=>f(v);return $i(m),{off:m}},off:f,trigger:v=>{const m=[n];return o()?m.push(...t):e&&m.push(e),Promise.allSettled(m.map(w=>w(v)))},hasListeners:o,listeners:t,setEmitter:i,removeEmitter:s,setHasEmitListeners:u,removeHasEmitListeners:c}}function Wd(e,t,n){let r=e;do{if(r&&r.matches(t))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function LS(e,t,n,r){var o,i;const s=new Map;for(const[u,c]of e)(c.selected||c.id===r)&&(!c.parentNode||!um(c,e))&&(c.draggable||t&&typeof c.draggable>"u")&&e.get(u)&&s.set(u,{id:c.id,position:c.position||{x:0,y:0},distance:{x:n.x-((o=c.computedPosition)==null?void 0:o.x)||0,y:n.y-((i=c.computedPosition)==null?void 0:i.y)||0},from:{x:c.computedPosition.x,y:c.computedPosition.y},extent:c.extent,parentNode:c.parentNode,dimensions:{...c.dimensions},expandParent:c.expandParent});return Array.from(s.values())}function el({id:e,dragItems:t,findNode:n}){const r=[];for(const o of t){const i=n(o.id);i&&r.push(i)}return[e?r.find(o=>o.id===e):r[0],r]}function cm(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function ZS(e,t,n){const[r,o,i,s]=typeof e!="string"?cm(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+s,n.computedPosition.y+r],[n.computedPosition.x+n.dimensions.width-o,n.computedPosition.y+n.dimensions.height-i]]:!1}function KS(e,t,n,r){let o=e.extent||n;if((o==="parent"||!Array.isArray(o)&&o?.range==="parent")&&!e.expandParent)if(e.parentNode&&r&&e.dimensions.width&&e.dimensions.height){const i=ZS(o,e,r);i&&(o=i)}else t(new Ht(jt.NODE_EXTENT_INVALID,e.id)),o=n;else if(Array.isArray(o)){const i=r?.computedPosition.x||0,s=r?.computedPosition.y||0;o=[[o[0][0]+i,o[0][1]+s],[o[1][0]+i,o[1][1]+s]]}else if(o!=="parent"&&o?.range&&Array.isArray(o.range)){const[i,s,u,c]=cm(o.padding),f=r?.computedPosition.x||0,h=r?.computedPosition.y||0;o=[[o.range[0][0]+f+c,o.range[0][1]+h+i],[o.range[1][0]+f-s,o.range[1][1]+h-u]]}return o==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:o}function US({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Ic(e,t,n,r,o){const i=US(e.dimensions,KS(e,n,r,o)),s=em(t,i);return{position:{x:s.x-(o?.computedPosition.x||0),y:s.y-(o?.computedPosition.y||0)},computedPosition:s}}function Bo(e,t,n=Le.Left,r=!1){const o=(t?.x??0)+e.computedPosition.x,i=(t?.y??0)+e.computedPosition.y,{width:s,height:u}=t??YS(e);if(r)return{x:o+s/2,y:i+u/2};switch(t?.position??n){case Le.Top:return{x:o+s/2,y:i};case Le.Right:return{x:o+s,y:i+u/2};case Le.Bottom:return{x:o+s/2,y:i+u};case Le.Left:return{x:o,y:i+u/2}}}function Yd(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function qS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:s,height:u,viewport:c}){const f={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};f.x===f.x2&&(f.x2+=1),f.y===f.y2&&(f.y2+=1);const h=om({x:(0-c.x)/c.zoom,y:(0-c.y)/c.zoom,width:s/c.zoom,height:u/c.zoom}),p=Math.max(0,Math.min(h.x2,f.x2)-Math.max(h.x,f.x)),v=Math.max(0,Math.min(h.y2,f.y2)-Math.max(h.y,f.y));return Math.ceil(p*v)>0}function GS(e,t,n=!1){const r=typeof e.zIndex=="number";let o=r?e.zIndex:0;const i=t(e.source),s=t(e.target);return!i||!s?0:(n&&(o=r?e.zIndex:Math.max(i.computedPosition.z||0,s.computedPosition.z||0)),o)}var jt=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(jt||{});const Xd={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Ht extends Error{constructor(t,...n){var r;super((r=Xd[t])==null?void 0:r.call(Xd,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function Pc(e){return"clientX"in e}function WS(e){return"sourceEvent"in e}function jn(e,t){const n=Pc(e);let r,o;return n?(r=e.clientX,o=e.clientY):"touches"in e&&e.touches.length>0?(r=e.touches[0].clientX,o=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(r=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY):(r=0,o=0),{x:r-(t?.left??0),y:o-(t?.top??0)}}const da=()=>{var e;return typeof navigator<"u"&&((e=navigator?.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function YS(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function Za(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const XS=()=>!0;function tl(e){e?.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function JS(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())fa(o,ca(i))>0&&r.push(i);return r}const QS=250;function eE(e,t,n,r){var o,i;let s=[],u=Number.POSITIVE_INFINITY;const c=JS(e,n,t+QS);for(const f of c){const h=[...((o=f.handleBounds)==null?void 0:o.source)??[],...((i=f.handleBounds)==null?void 0:i.target)??[]];for(const p of h){if(r.nodeId===p.nodeId&&r.type===p.type&&r.id===p.id)continue;const{x:v,y:m}=Bo(f,p,p.position,!0),w=Math.sqrt((v-e.x)**2+(m-e.y)**2);w>t||(w<u?(s=[{...p,x:v,y:m}],u=w):w===u&&s.push({...p,x:v,y:m}))}}if(!s.length)return null;if(s.length>1){const f=r.type==="source"?"target":"source";return s.find(h=>h.type===f)??s[0]}return s[0]}function Jd(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:u,flowId:c,isValidConnection:f=XS},h,p,v,m){const w=i==="target",k=t?s.querySelector(`.${u}-flow__handle[data-id="${c}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:A,y:O}=jn(e),N=s.elementFromPoint(A,O),C=N?.classList.contains(`${u}-flow__handle`)?N:k,P={handleDomNode:C,isValid:!1,connection:null,toHandle:null};if(C){const Q=fm(void 0,C),re=C.getAttribute("data-nodeid"),ae=C.getAttribute("data-handleid"),ue=C.classList.contains("connectable"),pe=C.classList.contains("connectableend");if(!re||!Q)return P;const ve={source:w?re:r,sourceHandle:w?ae:o,target:w?r:re,targetHandle:w?o:ae};P.connection=ve;const U=ue&&pe&&(n===Tr.Strict?w&&Q==="source"||!w&&Q==="target":re!==r||ae!==o);P.isValid=U&&f(ve,{nodes:p,edges:h,sourceNode:v(ve.source),targetNode:v(ve.target)}),P.toHandle=dm(re,Q,ae,m,n,!0)}return P}function fm(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function tE(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function nE(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function dm(e,t,n,r,o,i=!1){var s,u,c;const f=r.get(e);if(!f)return null;const h=o===Tr.Strict?(s=f.handleBounds)==null?void 0:s[t]:[...((u=f.handleBounds)==null?void 0:u.source)??[],...((c=f.handleBounds)==null?void 0:c.target)??[]],p=(n?h?.find(v=>v.id===n):h?.[0])??null;return p&&i?{...p,...Bo(f,p,p.position,!0)}:p}const Hl={[Le.Left]:Le.Right,[Le.Right]:Le.Left,[Le.Top]:Le.Bottom,[Le.Bottom]:Le.Top},rE=["production","prod"];function Ka(e,...t){hm()&&console.warn(`[Vue Flow]: ${e}`,...t)}function hm(){return!rE.includes("production")}function Qd(e,t,n,r,o){const i=t.querySelectorAll(`.vue-flow__handle.${e}`);return i?.length?Array.from(i).map(s=>{const u=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(u.left-n.left)/r,y:(u.top-n.top)/r,...La(s)}}):null}function Vl(e,t,n,r,o,i=!1,s){o.value=!1,e.selected?(i||e.selected&&t)&&(r([e]),mn(()=>{s.blur()})):n([e])}function Ft(e){return typeof Ce(e)<"u"}function oE(e,t,n,r){if(!e||!e.source||!e.target)return n(new Ht(jt.EDGE_INVALID,e?.id??"[ID UNKNOWN]")),!1;let o;return Nr(e)?o=e:o={...e,id:rm(e)},o=tm(o,void 0,r),FS(o,t)?!1:o}function iE(e,t,n,r,o){if(!t.source||!t.target)return o(new Ht(jt.EDGE_INVALID,e.id)),!1;if(!n)return o(new Ht(jt.EDGE_NOT_FOUND,e.id)),!1;const{id:i,...s}=e;return{...s,id:r?rm(t):i,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function eh(e,t,n){const r={},o=[];for(let i=0;i<e.length;++i){const s=e[i];if(!Yr(s)){n(new Ht(jt.NODE_INVALID,s?.id)||`[ID UNKNOWN|INDEX ${i}]`);continue}const u=RS(s,t(s.id),s.parentNode);s.parentNode&&(r[s.parentNode]=!0),o[i]=u}for(const i of o){const s=t(i.parentNode)||o.find(u=>u.id===i.parentNode);i.parentNode&&!s&&n(new Ht(jt.NODE_MISSING_PARENT,i.id,i.parentNode)),(i.parentNode||r[i.id])&&(r[i.id]&&(i.isParent=!0),s&&(s.isParent=!0))}return o}function th(e,t,n,r,o,i){let s=o;const u=r.get(s)||new Map;r.set(s,u.set(n,t)),s=`${o}-${e}`;const c=r.get(s)||new Map;if(r.set(s,c.set(n,t)),i){s=`${o}-${e}-${i}`;const f=r.get(s)||new Map;r.set(s,f.set(n,t))}}function nl(e,t,n){e.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:u=null}=r,c={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:u},f=`${o}-${s}--${i}-${u}`,h=`${i}-${u}--${o}-${s}`;th("source",c,h,e,o,s),th("target",c,f,e,i,u)}}function nh(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function rl(e,t,n,r,o,i,s,u){const c=[];for(const f of e){const h=Nr(f)?f:oE(f,u,o,i);if(!h)continue;const p=n(h.source),v=n(h.target);if(!p||!v){o(new Ht(jt.EDGE_SOURCE_TARGET_MISSING,h.id,h.source,h.target));continue}if(!p){o(new Ht(jt.EDGE_SOURCE_MISSING,h.id,h.source));continue}if(!v){o(new Ht(jt.EDGE_TARGET_MISSING,h.id,h.target));continue}if(t&&!t(h,{edges:u,nodes:s,sourceNode:p,targetNode:v})){o(new Ht(jt.EDGE_INVALID,h.id));continue}const m=r(h.id);c.push({...tm(h,m,i),sourceNode:p,targetNode:v})}return c}const rh=Symbol("vueFlow"),pm=Symbol("nodeId"),gm=Symbol("nodeRef"),sE=Symbol("edgeId"),aE=Symbol("edgeRef"),Ua=Symbol("slots");function mm(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:r,noDragClassName:o,nodeLookup:i,nodeExtent:s,nodeDragThreshold:u,viewport:c,autoPanOnNodeDrag:f,autoPanSpeed:h,nodesDraggable:p,panBy:v,findNode:m,multiSelectionActive:w,nodesSelectionActive:k,selectNodesOnDrag:A,removeSelectedElements:O,addSelectedNodes:N,updateNodePositions:C,emits:P}=yt(),{onStart:Q,onDrag:re,onStop:ae,onClick:ue,el:pe,disabled:ve,id:ge,selectable:U,dragHandle:ke}=e,F=ki(!1);let ce=[],V,ne=null,se={x:void 0,y:void 0},Se={x:0,y:0},be=null,Oe=!1,Be=!1,Ue=0,Ne=!1;const Fe=cE(),$e=({x:E,y:$})=>{se={x:E,y:$};let _=!1;if(ce=ce.map(x=>{const I={x:E-x.distance.x,y:$-x.distance.y},{computedPosition:S}=Ic(x,n.value?Za(I,r.value):I,P.error,s.value,x.parentNode?m(x.parentNode):void 0);return _=_||x.position.x!==S.x||x.position.y!==S.y,x.position=S,x}),Be=Be||_,!!_&&(C(ce,!0,!0),F.value=!0,be)){const[x,I]=el({id:ge,dragItems:ce,findNode:m});re({event:be,node:x,nodes:I})}},X=()=>{if(!ne)return;const[E,$]=lm(Se,ne,h.value);if(E!==0||$!==0){const _={x:(se.x??0)-E/c.value.zoom,y:(se.y??0)-$/c.value.zoom};v({x:E,y:$})&&$e(_)}Ue=requestAnimationFrame(X)},he=(E,$)=>{Oe=!0;const _=m(ge);!A.value&&!w.value&&_&&(_.selected||O()),_&&tt(U)&&A.value&&Vl(_,w.value,N,O,k,!1,$);const x=Fe(E.sourceEvent);if(se=x,ce=LS(i.value,p.value,x,ge),ce.length){const[I,S]=el({id:ge,dragItems:ce,findNode:m});Q({event:E.sourceEvent,node:I,nodes:S})}},Y=(E,$)=>{var _;E.sourceEvent.type==="touchmove"&&E.sourceEvent.touches.length>1||(Be=!1,u.value===0&&he(E,$),se=Fe(E.sourceEvent),ne=((_=t.value)==null?void 0:_.getBoundingClientRect())||null,Se=jn(E.sourceEvent,ne))},_e=(E,$)=>{const _=Fe(E.sourceEvent);if(!Ne&&Oe&&f.value&&(Ne=!0,X()),!Oe){const x=_.xSnapped-(se.x??0),I=_.ySnapped-(se.y??0);Math.sqrt(x*x+I*I)>u.value&&he(E,$)}(se.x!==_.xSnapped||se.y!==_.ySnapped)&&ce.length&&Oe&&(be=E.sourceEvent,Se=jn(E.sourceEvent,ne),$e(_))},Ze=E=>{let $=!1;if(!Oe&&!F.value&&!w.value){const _=E.sourceEvent,x=Fe(_),I=x.xSnapped-(se.x??0),S=x.ySnapped-(se.y??0),j=Math.sqrt(I*I+S*S);j!==0&&j<=u.value&&(ue?.(_),$=!0)}if(ce.length&&!$){Be&&(C(ce,!1,!1),Be=!1);const[_,x]=el({id:ge,dragItems:ce,findNode:m});ae({event:E.sourceEvent,node:_,nodes:x})}ce=[],F.value=!1,Ne=!1,Oe=!1,se={x:void 0,y:void 0},cancelAnimationFrame(Ue)};return rt([()=>tt(ve),pe],([E,$],_,x)=>{if($){const I=En($);E||(V=D1().on("start",S=>Y(S,$)).on("drag",S=>_e(S,$)).on("end",S=>Ze(S)).filter(S=>{const j=S.target,ee=tt(ke);return!S.button&&(!o.value||!Wd(j,`.${o.value}`,$)&&(!ee||Wd(j,ee,$)))}),I.call(V)),x(()=>{I.on(".drag",null),V&&(V.on("start",null),V.on("drag",null),V.on("end",null))})}}),F}function uE(){return{doubleClick:ze(),click:ze(),mouseEnter:ze(),mouseMove:ze(),mouseLeave:ze(),contextMenu:ze(),updateStart:ze(),update:ze(),updateEnd:ze()}}function lE(e,t){const n=uE();return n.doubleClick.on(r=>{var o,i;t.edgeDoubleClick(r),(i=(o=e.events)==null?void 0:o.doubleClick)==null||i.call(o,r)}),n.click.on(r=>{var o,i;t.edgeClick(r),(i=(o=e.events)==null?void 0:o.click)==null||i.call(o,r)}),n.mouseEnter.on(r=>{var o,i;t.edgeMouseEnter(r),(i=(o=e.events)==null?void 0:o.mouseEnter)==null||i.call(o,r)}),n.mouseMove.on(r=>{var o,i;t.edgeMouseMove(r),(i=(o=e.events)==null?void 0:o.mouseMove)==null||i.call(o,r)}),n.mouseLeave.on(r=>{var o,i;t.edgeMouseLeave(r),(i=(o=e.events)==null?void 0:o.mouseLeave)==null||i.call(o,r)}),n.contextMenu.on(r=>{var o,i;t.edgeContextMenu(r),(i=(o=e.events)==null?void 0:o.contextMenu)==null||i.call(o,r)}),n.updateStart.on(r=>{var o,i;t.edgeUpdateStart(r),(i=(o=e.events)==null?void 0:o.updateStart)==null||i.call(o,r)}),n.update.on(r=>{var o,i;t.edgeUpdate(r),(i=(o=e.events)==null?void 0:o.update)==null||i.call(o,r)}),n.updateEnd.on(r=>{var o,i;t.edgeUpdateEnd(r),(i=(o=e.events)==null?void 0:o.updateEnd)==null||i.call(o,r)}),Object.entries(n).reduce((r,[o,i])=>(r.emit[o]=i.trigger,r.on[o]=i.on,r),{emit:{},on:{}})}function cE(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:r}=yt();return o=>{var i;const s=((i=r.value)==null?void 0:i.getBoundingClientRect())??{left:0,top:0},u=WS(o)?o.sourceEvent:o,{x:c,y:f}=jn(u,s),h=Ri({x:c,y:f},e.value),{x:p,y:v}=n.value?Za(h,t.value):h;return{xSnapped:p,ySnapped:v,...h}}}function Cs(){return!0}function vm({handleId:e,nodeId:t,type:n,isValidConnection:r,edgeUpdaterType:o,onEdgeUpdate:i,onEdgeUpdateEnd:s}){const{id:u,vueFlowRef:c,connectionMode:f,connectionRadius:h,connectOnClick:p,connectionClickStartHandle:v,nodesConnectable:m,autoPanOnConnect:w,autoPanSpeed:k,findNode:A,panBy:O,startConnection:N,updateConnection:C,endConnection:P,emits:Q,viewport:re,edges:ae,nodes:ue,isValidConnection:pe,nodeLookup:ve}=yt();let ge=null,U=!1,ke=null;function F(V){var ne;const se=tt(n)==="target",Se=Pc(V),be=jd(V.target),Oe=V.currentTarget;if(Oe&&(Se&&V.button===0||!Se)){let Be=function(de){_=jn(de,Ze),$e=eE(Ri(_,re.value,!1,[1,1]),h.value,ve.value,S),x||(I(),x=!0);const le=Jd(de,{handle:$e,connectionMode:f.value,fromNodeId:tt(t),fromHandleId:tt(e),fromType:se?"target":"source",isValidConnection:Fe,doc:be,lib:"vue",flowId:u,nodeLookup:ve.value},ae.value,ue.value,A,ve.value);ke=le.handleDomNode,ge=le.connection,U=nE(!!$e,le.isValid);const we={...W,isValid:U,to:le.toHandle&&U?jl({x:le.toHandle.x,y:le.toHandle.y},re.value):_,toHandle:le.toHandle,toPosition:U&&le.toHandle?le.toHandle.position:Hl[S.position],toNode:le.toHandle?ve.value.get(le.toHandle.nodeId):null};if(U&&$e&&W?.toHandle&&we.toHandle&&W.toHandle.type===we.toHandle.type&&W.toHandle.nodeId===we.toHandle.nodeId&&W.toHandle.id===we.toHandle.id&&W.to.x===we.to.x&&W.to.y===we.to.y)return;const Pe=$e??le.toHandle;if(C(Pe&&U?jl({x:Pe.x,y:Pe.y},re.value):_,le.toHandle,tE(!!Pe,U)),W=we,!$e&&!U&&!ke)return tl($);ge&&ge.source!==ge.target&&ke&&(tl($),$=ke,ke.classList.add("connecting","vue-flow__handle-connecting"),ke.classList.toggle("valid",!!U),ke.classList.toggle("vue-flow__handle-valid",!!U))},Ue=function(de){"touches"in de&&de.touches.length>0||(($e||ke)&&ge&&U&&(i?i(de,ge):Q.connect(ge)),Q.connectEnd(de),o&&s?.(de),tl($),cancelAnimationFrame(X),P(de),x=!1,U=!1,ge=null,ke=null,be.removeEventListener("mousemove",Be),be.removeEventListener("mouseup",Ue),be.removeEventListener("touchmove",Be),be.removeEventListener("touchend",Ue))};const Ne=A(tt(t));let Fe=tt(r)||pe.value||Cs;!Fe&&Ne&&(Fe=(se?Ne.isValidSourcePos:Ne.isValidTargetPos)||Cs);let $e,X=0;const{x:he,y:Y}=jn(V),_e=fm(tt(o),Oe),Ze=(ne=c.value)==null?void 0:ne.getBoundingClientRect();if(!Ze||!_e)return;const E=dm(tt(t),_e,tt(e),ve.value,f.value);if(!E)return;let $,_=jn(V,Ze),x=!1;const I=()=>{if(!w.value)return;const[de,le]=lm(_,Ze,k.value);O({x:de,y:le}),X=requestAnimationFrame(I)},S={...E,nodeId:tt(t),type:_e,position:E.position},j=ve.value.get(tt(t)),J={inProgress:!0,isValid:null,from:Bo(j,S,Le.Left,!0),fromHandle:S,fromPosition:S.position,fromNode:j,to:_,toHandle:null,toPosition:Hl[S.position],toNode:null};N({nodeId:tt(t),id:tt(e),type:_e,position:Oe?.getAttribute("data-handlepos")||Le.Top,..._},{x:he-Ze.left,y:Y-Ze.top}),Q.connectStart({event:V,nodeId:tt(t),handleId:tt(e),handleType:_e});let W=J;be.addEventListener("mousemove",Be),be.addEventListener("mouseup",Ue),be.addEventListener("touchmove",Be),be.addEventListener("touchend",Ue)}}function ce(V){var ne,se;if(!p.value)return;const Se=tt(n)==="target";if(!v.value){Q.clickConnectStart({event:V,nodeId:tt(t),handleId:tt(e)}),N({nodeId:tt(t),type:tt(n),id:tt(e),position:Le.Top,...jn(V)},void 0,!0);return}let be=tt(r)||pe.value||Cs;const Oe=A(tt(t));if(!be&&Oe&&(be=(Se?Oe.isValidSourcePos:Oe.isValidTargetPos)||Cs),Oe&&(typeof Oe.connectable>"u"?m.value:Oe.connectable)===!1)return;const Be=jd(V.target),Ue=Jd(V,{handle:{nodeId:tt(t),id:tt(e),type:tt(n),position:Le.Top,...jn(V)},connectionMode:f.value,fromNodeId:v.value.nodeId,fromHandleId:v.value.id??null,fromType:v.value.type,isValidConnection:be,doc:Be,lib:"vue",flowId:u,nodeLookup:ve.value},ae.value,ue.value,A,ve.value),Ne=((ne=Ue.connection)==null?void 0:ne.source)===((se=Ue.connection)==null?void 0:se.target);Ue.isValid&&Ue.connection&&!Ne&&Q.connect(Ue.connection),Q.clickConnectEnd(V),P(V,!0)}return{handlePointerDown:F,handleClick:ce}}function fE(){return Ut(pm,"")}function ym(e){const t=e??fE()??"",n=Ut(gm,lt(null)),{findNode:r,edges:o,emits:i}=yt(),s=r(t);return s||i.error(new Ht(jt.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:s,parentNode:Ve(()=>r(s.parentNode)),connectedEdges:Ve(()=>am([s],o.value))}}function dE(){return{doubleClick:ze(),click:ze(),mouseEnter:ze(),mouseMove:ze(),mouseLeave:ze(),contextMenu:ze(),dragStart:ze(),drag:ze(),dragStop:ze()}}function hE(e,t){const n=dE();return n.doubleClick.on(r=>{var o,i;t.nodeDoubleClick(r),(i=(o=e.events)==null?void 0:o.doubleClick)==null||i.call(o,r)}),n.click.on(r=>{var o,i;t.nodeClick(r),(i=(o=e.events)==null?void 0:o.click)==null||i.call(o,r)}),n.mouseEnter.on(r=>{var o,i;t.nodeMouseEnter(r),(i=(o=e.events)==null?void 0:o.mouseEnter)==null||i.call(o,r)}),n.mouseMove.on(r=>{var o,i;t.nodeMouseMove(r),(i=(o=e.events)==null?void 0:o.mouseMove)==null||i.call(o,r)}),n.mouseLeave.on(r=>{var o,i;t.nodeMouseLeave(r),(i=(o=e.events)==null?void 0:o.mouseLeave)==null||i.call(o,r)}),n.contextMenu.on(r=>{var o,i;t.nodeContextMenu(r),(i=(o=e.events)==null?void 0:o.contextMenu)==null||i.call(o,r)}),n.dragStart.on(r=>{var o,i;t.nodeDragStart(r),(i=(o=e.events)==null?void 0:o.dragStart)==null||i.call(o,r)}),n.drag.on(r=>{var o,i;t.nodeDrag(r),(i=(o=e.events)==null?void 0:o.drag)==null||i.call(o,r)}),n.dragStop.on(r=>{var o,i;t.nodeDragStop(r),(i=(o=e.events)==null?void 0:o.dragStop)==null||i.call(o,r)}),Object.entries(n).reduce((r,[o,i])=>(r.emit[o]=i.trigger,r.on[o]=i.on,r),{emit:{},on:{}})}function _m(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:r,snapGrid:o,snapToGrid:i,nodesDraggable:s,emits:u}=yt();return(c,f=!1)=>{const h=i.value?o.value[0]:5,p=i.value?o.value[1]:5,v=f?4:1,m=c.x*h*v,w=c.y*p*v,k=[];for(const A of e.value)if(A.draggable||s&&typeof A.draggable>"u"){const O={x:A.computedPosition.x+m,y:A.computedPosition.y+w},{computedPosition:N}=Ic(A,O,u.error,t.value,A.parentNode?r(A.parentNode):void 0);k.push({id:A.id,position:N,from:A.position,distance:{x:c.x,y:c.y},dimensions:A.dimensions})}n(k,!0,!1)}}const ol=.1,pE=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function wr(){return Ka("Viewport not initialized yet."),Promise.resolve(!1)}const gE={zoomIn:wr,zoomOut:wr,zoomTo:wr,fitView:wr,setCenter:wr,fitBounds:wr,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:wr,setTransform:wr,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function mE(e){function t(r,o){return new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(o?.interpolate==="linear"?bi:zs).scaleBy(il(e.d3Selection,o?.duration,o?.ease,()=>{i(!0)}),r):i(!1)})}function n(r,o,i,s){return new Promise(u=>{var c;const{x:f,y:h}=em({x:-r,y:-o},e.translateExtent),p=zo.translate(-f,-h).scale(i);e.d3Selection&&e.d3Zoom?(c=e.d3Zoom)==null||c.interpolate(s?.interpolate==="linear"?bi:zs).transform(il(e.d3Selection,s?.duration,s?.ease,()=>{u(!0)}),p):u(!1)})}return Ve(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:o=>t(1.2,o),zoomOut:o=>t(1/1.2,o),zoomTo:(o,i)=>new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(i?.interpolate==="linear"?bi:zs).scaleTo(il(e.d3Selection,i?.duration,i?.ease,()=>{s(!0)}),o):s(!1)}),setViewport:(o,i)=>n(o.x,o.y,o.zoom,i),setTransform:(o,i)=>n(o.x,o.y,o.zoom,i),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(o={padding:ol,includeHiddenNodes:!1,duration:0})=>{var i,s;const u=[];for(const v of e.nodes)v.dimensions.width&&v.dimensions.height&&(o?.includeHiddenNodes||!v.hidden)&&(!((i=o.nodes)!=null&&i.length)||(s=o.nodes)!=null&&s.length&&o.nodes.includes(v.id))&&u.push(v);if(!u.length)return Promise.resolve(!1);const c=im(u),{x:f,y:h,zoom:p}=Hd(c,e.dimensions.width,e.dimensions.height,o.minZoom??e.minZoom,o.maxZoom??e.maxZoom,o.padding??ol,o.offset);return n(f,h,p,o)},setCenter:(o,i,s)=>{const u=typeof s?.zoom<"u"?s.zoom:e.maxZoom,c=e.dimensions.width/2-o*u,f=e.dimensions.height/2-i*u;return n(c,f,u,s)},fitBounds:(o,i={padding:ol})=>{const{x:s,y:u,zoom:c}=Hd(o,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,i.padding);return n(s,u,c,i)},project:o=>Ri(o,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:o=>{if(e.vueFlowRef){const{x:i,y:s}=e.vueFlowRef.getBoundingClientRect(),u={x:o.x-i,y:o.y-s};return Ri(u,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:o=>{if(e.vueFlowRef){const{x:i,y:s}=e.vueFlowRef.getBoundingClientRect(),u={x:o.x+i,y:o.y+s};return jl(u,e.viewport)}return{x:0,y:0}}}:gE)}function il(e,t=0,n=pE,r=()=>{}){const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e}function vE(e,t,n){const r=ka(!0);return r.run(()=>{const o=()=>{r.run(()=>{let k,A,O=!!(n.nodes.value.length||n.edges.value.length);k=mo([e.modelValue,()=>{var N,C;return(C=(N=e.modelValue)==null?void 0:N.value)==null?void 0:C.length}],([N])=>{N&&Array.isArray(N)&&(A?.pause(),n.setElements(N),!A&&!O&&N.length?O=!0:A?.resume())}),A=mo([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([N,C])=>{var P;(P=e.modelValue)!=null&&P.value&&Array.isArray(e.modelValue.value)&&(k?.pause(),e.modelValue.value=[...N,...C],mn(()=>{k?.resume()}))},{immediate:O}),ci(()=>{k?.stop(),A?.stop()})})},i=()=>{r.run(()=>{let k,A,O=!!n.nodes.value.length;k=mo([e.nodes,()=>{var N,C;return(C=(N=e.nodes)==null?void 0:N.value)==null?void 0:C.length}],([N])=>{N&&Array.isArray(N)&&(A?.pause(),n.setNodes(N),!A&&!O&&N.length?O=!0:A?.resume())}),A=mo([n.nodes,()=>n.nodes.value.length],([N])=>{var C;(C=e.nodes)!=null&&C.value&&Array.isArray(e.nodes.value)&&(k?.pause(),e.nodes.value=[...N],mn(()=>{k?.resume()}))},{immediate:O}),ci(()=>{k?.stop(),A?.stop()})})},s=()=>{r.run(()=>{let k,A,O=!!n.edges.value.length;k=mo([e.edges,()=>{var N,C;return(C=(N=e.edges)==null?void 0:N.value)==null?void 0:C.length}],([N])=>{N&&Array.isArray(N)&&(A?.pause(),n.setEdges(N),!A&&!O&&N.length?O=!0:A?.resume())}),A=mo([n.edges,()=>n.edges.value.length],([N])=>{var C;(C=e.edges)!=null&&C.value&&Array.isArray(e.edges.value)&&(k?.pause(),e.edges.value=[...N],mn(()=>{k?.resume()}))},{immediate:O}),ci(()=>{k?.stop(),A?.stop()})})},u=()=>{r.run(()=>{rt(()=>t.maxZoom,()=>{t.maxZoom&&Ft(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},c=()=>{r.run(()=>{rt(()=>t.minZoom,()=>{t.minZoom&&Ft(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},f=()=>{r.run(()=>{rt(()=>t.translateExtent,()=>{t.translateExtent&&Ft(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},h=()=>{r.run(()=>{rt(()=>t.nodeExtent,()=>{t.nodeExtent&&Ft(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},p=()=>{r.run(()=>{rt(()=>t.applyDefault,()=>{Ft(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},v=()=>{r.run(()=>{const k=async A=>{let O=A;typeof t.autoConnect=="function"&&(O=await t.autoConnect(A)),O!==!1&&n.addEdges([O])};rt(()=>t.autoConnect,()=>{Ft(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),rt(n.autoConnect,(A,O,N)=>{A?n.onConnect(k):n.hooks.value.connect.off(k),N(()=>{n.hooks.value.connect.off(k)})},{immediate:!0})})},m=()=>{const k=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const A of Object.keys(t)){const O=A;if(!k.includes(O)){const N=St(()=>t[O]),C=n[O];mt(C)&&r.run(()=>{rt(N,P=>{Ft(P)&&(C.value=P)},{immediate:!0})})}}};(()=>{o(),i(),s(),c(),u(),f(),h(),p(),v(),m()})()}),()=>r.stop()}function yE(){return{edgesChange:ze(),nodesChange:ze(),nodeDoubleClick:ze(),nodeClick:ze(),nodeMouseEnter:ze(),nodeMouseMove:ze(),nodeMouseLeave:ze(),nodeContextMenu:ze(),nodeDragStart:ze(),nodeDrag:ze(),nodeDragStop:ze(),nodesInitialized:ze(),miniMapNodeClick:ze(),miniMapNodeDoubleClick:ze(),miniMapNodeMouseEnter:ze(),miniMapNodeMouseMove:ze(),miniMapNodeMouseLeave:ze(),connect:ze(),connectStart:ze(),connectEnd:ze(),clickConnectStart:ze(),clickConnectEnd:ze(),paneReady:ze(),init:ze(),move:ze(),moveStart:ze(),moveEnd:ze(),selectionDragStart:ze(),selectionDrag:ze(),selectionDragStop:ze(),selectionContextMenu:ze(),selectionStart:ze(),selectionEnd:ze(),viewportChangeStart:ze(),viewportChange:ze(),viewportChangeEnd:ze(),paneScroll:ze(),paneClick:ze(),paneContextMenu:ze(),paneMouseEnter:ze(),paneMouseMove:ze(),paneMouseLeave:ze(),edgeContextMenu:ze(),edgeMouseEnter:ze(),edgeMouseMove:ze(),edgeMouseLeave:ze(),edgeDoubleClick:ze(),edgeClick:ze(),edgeUpdateStart:ze(),edgeUpdate:ze(),edgeUpdateEnd:ze(),updateNodeInternals:ze(),error:ze(e=>Ka(e.message))}}function _E(e,t){const n=qn();uc(()=>{for(const[o,i]of Object.entries(t.value)){const s=u=>{e(o,u)};i.setEmitter(s),$i(i.removeEmitter),i.setHasEmitListeners(()=>r(o)),$i(i.removeHasEmitListeners)}});function r(o){var i;const s=bE(o);return!!((i=n?.vnode.props)==null?void 0:i[s])}}function bE(e){const[t,...n]=e.split(":");return`on${t.replace(/(?:^|-)(\w)/g,(o,i)=>i.toUpperCase())}${n.length?`:${n.join(":")}`:""}`}function bm(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Cc.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:wi.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Zr.Bezier,style:{}},connectionMode:Tr.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:da()?"Meta":"Control",zoomActivationKeyCode:da()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:yE(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const wE=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function xE(e,t,n){const r=mE(e),o=_=>{const x=_??[];e.hooks.updateNodeInternals.trigger(x)},i=_=>BS(_,e.nodes,e.edges),s=_=>zS(_,e.nodes,e.edges),u=_=>am(_,e.edges),c=({id:_,type:x,nodeId:I})=>{var S;const j=_?`-${x}-${_}`:`-${x}`;return Array.from(((S=e.connectionLookup.get(`${I}${j}`))==null?void 0:S.values())??[])},f=_=>{if(_)return t.value.get(_)},h=_=>{if(_)return n.value.get(_)},p=(_,x,I)=>{var S,j;const ee=[];for(const J of _){const W={id:J.id,type:"position",dragging:I,from:J.from};if(x&&(W.position=J.position,J.parentNode)){const de=f(J.parentNode);W.position={x:W.position.x-(((S=de?.computedPosition)==null?void 0:S.x)??0),y:W.position.y-(((j=de?.computedPosition)==null?void 0:j.y)??0)}}ee.push(W)}ee?.length&&e.hooks.nodesChange.trigger(ee)},v=_=>{if(!e.vueFlowRef)return;const x=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!x)return;const I=window.getComputedStyle(x),{m22:S}=new window.DOMMatrixReadOnly(I.transform),j=[];for(const ee of _){const J=ee,W=f(J.id);if(W){const de=La(J.nodeElement);if(!!(de.width&&de.height&&(W.dimensions.width!==de.width||W.dimensions.height!==de.height||J.forceUpdate))){const we=J.nodeElement.getBoundingClientRect();W.dimensions=de,W.handleBounds.source=Qd("source",J.nodeElement,we,S,W.id),W.handleBounds.target=Qd("target",J.nodeElement,we,S,W.id),j.push({id:W.id,type:"dimensions",dimensions:de})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&r.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),j.length&&e.hooks.nodesChange.trigger(j)},m=(_,x)=>{const I=new Set,S=new Set;for(const J of _)Yr(J)?I.add(J.id):Nr(J)&&S.add(J.id);const j=Ir(t.value,I,!0),ee=Ir(n.value,S);if(e.multiSelectionActive){for(const J of I)j.push(Sr(J,x));for(const J of S)ee.push(Sr(J,x))}j.length&&e.hooks.nodesChange.trigger(j),ee.length&&e.hooks.edgesChange.trigger(ee)},w=_=>{if(e.multiSelectionActive){const x=_.map(I=>Sr(I.id,!0));e.hooks.nodesChange.trigger(x);return}e.hooks.nodesChange.trigger(Ir(t.value,new Set(_.map(x=>x.id)),!0)),e.hooks.edgesChange.trigger(Ir(n.value))},k=_=>{if(e.multiSelectionActive){const x=_.map(I=>Sr(I.id,!0));e.hooks.edgesChange.trigger(x);return}e.hooks.edgesChange.trigger(Ir(n.value,new Set(_.map(x=>x.id)))),e.hooks.nodesChange.trigger(Ir(t.value,new Set,!0))},A=_=>{m(_,!0)},O=_=>{const I=(_||e.nodes).map(S=>(S.selected=!1,Sr(S.id,!1)));e.hooks.nodesChange.trigger(I)},N=_=>{const I=(_||e.edges).map(S=>(S.selected=!1,Sr(S.id,!1)));e.hooks.edgesChange.trigger(I)},C=_=>{if(!_||!_.length)return m([],!1);const x=_.reduce((I,S)=>{const j=Sr(S.id,!1);return Yr(S)?I.nodes.push(j):I.edges.push(j),I},{nodes:[],edges:[]});x.nodes.length&&e.hooks.nodesChange.trigger(x.nodes),x.edges.length&&e.hooks.edgesChange.trigger(x.edges)},P=_=>{var x;(x=e.d3Zoom)==null||x.scaleExtent([_,e.maxZoom]),e.minZoom=_},Q=_=>{var x;(x=e.d3Zoom)==null||x.scaleExtent([e.minZoom,_]),e.maxZoom=_},re=_=>{var x;(x=e.d3Zoom)==null||x.translateExtent(_),e.translateExtent=_},ae=_=>{e.nodeExtent=_,o()},ue=_=>{var x;(x=e.d3Zoom)==null||x.clickDistance(_)},pe=_=>{e.nodesDraggable=_,e.nodesConnectable=_,e.elementsSelectable=_},ve=_=>{const x=_ instanceof Function?_(e.nodes):_;!e.initialized&&!x.length||(e.nodes=eh(x,f,e.hooks.error.trigger))},ge=_=>{const x=_ instanceof Function?_(e.edges):_;if(!e.initialized&&!x.length)return;const I=rl(x,e.isValidConnection,f,h,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);nl(e.connectionLookup,n.value,I),e.edges=I},U=_=>{const x=_ instanceof Function?_([...e.nodes,...e.edges]):_;!e.initialized&&!x.length||(ve(x.filter(Yr)),ge(x.filter(Nr)))},ke=_=>{let x=_ instanceof Function?_(e.nodes):_;x=Array.isArray(x)?x:[x];const I=eh(x,f,e.hooks.error.trigger),S=[];for(const j of I)S.push(Kd(j));S.length&&e.hooks.nodesChange.trigger(S)},F=_=>{let x=_ instanceof Function?_(e.edges):_;x=Array.isArray(x)?x:[x];const I=rl(x,e.isValidConnection,f,h,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),S=[];for(const j of I)S.push(Kd(j));S.length&&e.hooks.edgesChange.trigger(S)},ce=(_,x=!0,I=!1)=>{const S=_ instanceof Function?_(e.nodes):_,j=Array.isArray(S)?S:[S],ee=[],J=[];function W(le){const we=u(le);for(const Pe of we)(!Ft(Pe.deletable)||Pe.deletable)&&J.push(qd(Pe.id,Pe.source,Pe.target,Pe.sourceHandle,Pe.targetHandle))}function de(le){const we=[];for(const Pe of e.nodes)Pe.parentNode===le&&we.push(Pe);if(we.length){for(const Pe of we)ee.push(Ud(Pe.id));x&&W(we);for(const Pe of we)de(Pe.id)}}for(const le of j){const we=typeof le=="string"?f(le):le;we&&(Ft(we.deletable)&&!we.deletable||(ee.push(Ud(we.id)),x&&W([we]),I&&de(we.id)))}J.length&&e.hooks.edgesChange.trigger(J),ee.length&&e.hooks.nodesChange.trigger(ee)},V=_=>{const x=_ instanceof Function?_(e.edges):_,I=Array.isArray(x)?x:[x],S=[];for(const j of I){const ee=typeof j=="string"?h(j):j;ee&&(Ft(ee.deletable)&&!ee.deletable||S.push(qd(typeof j=="string"?j:j.id,ee.source,ee.target,ee.sourceHandle,ee.targetHandle)))}e.hooks.edgesChange.trigger(S)},ne=(_,x,I=!0)=>{const S=h(_.id);if(!S)return!1;const j=e.edges.indexOf(S),ee=iE(_,x,S,I,e.hooks.error.trigger);if(ee){const[J]=rl([ee],e.isValidConnection,f,h,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((W,de)=>de===j?J:W),nl(e.connectionLookup,n.value,[J]),J}return!1},se=(_,x,I={replace:!1})=>{const S=h(_);if(!S)return;const j=typeof x=="function"?x(S):x;S.data=I.replace?j:{...S.data,...j}},Se=_=>Zd(_,e.nodes),be=_=>{const x=Zd(_,e.edges);return nl(e.connectionLookup,n.value,x),x},Oe=(_,x,I={replace:!1})=>{const S=f(_);if(!S)return;const j=typeof x=="function"?x(S):x;I.replace?e.nodes.splice(e.nodes.indexOf(S),1,j):Object.assign(S,j)},Be=(_,x,I={replace:!1})=>{const S=f(_);if(!S)return;const j=typeof x=="function"?x(S):x;S.data=I.replace?j:{...S.data,...j}},Ue=(_,x,I=!1)=>{I?e.connectionClickStartHandle=_:e.connectionStartHandle=_,e.connectionEndHandle=null,e.connectionStatus=null,x&&(e.connectionPosition=x)},Ne=(_,x=null,I=null)=>{e.connectionStartHandle&&(e.connectionPosition=_,e.connectionEndHandle=x,e.connectionStatus=I)},Fe=(_,x)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,x?e.connectionClickStartHandle=null:e.connectionStartHandle=null},$e=_=>{const x=DS(_),I=x?null:ui(_)?_:f(_.id);return!x&&!I?[null,null,x]:[x?_:ca(I),I,x]},X=(_,x=!0,I=e.nodes)=>{const[S,j,ee]=$e(_);if(!S)return[];const J=[];for(const W of I||e.nodes){if(!ee&&(W.id===j.id||!W.computedPosition))continue;const de=ca(W),le=fa(de,S);(x&&le>0||le>=de.width*de.height||le>=Number(S.width)*Number(S.height))&&J.push(W)}return J},he=(_,x,I=!0)=>{const[S]=$e(_);if(!S)return!1;const j=fa(S,x);return I&&j>0||j>=Number(S.width)*Number(S.height)},Y=_=>{const{viewport:x,dimensions:I,d3Zoom:S,d3Selection:j,translateExtent:ee}=e;if(!S||!j||!_.x&&!_.y)return!1;const J=zo.translate(x.x+_.x,x.y+_.y).scale(x.zoom),W=[[0,0],[I.width,I.height]],de=S.constrain()(J,W,ee),le=e.viewport.x!==de.x||e.viewport.y!==de.y||e.viewport.zoom!==de.k;return S.transform(j,de),le},_e=_=>{const x=_ instanceof Function?_(e):_,I=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Ft(x.defaultEdgeOptions)&&(e.defaultEdgeOptions=x.defaultEdgeOptions);const S=x.modelValue||x.nodes||x.edges?[]:void 0;S&&(x.modelValue&&S.push(...x.modelValue),x.nodes&&S.push(...x.nodes),x.edges&&S.push(...x.edges),U(S));const j=()=>{Ft(x.maxZoom)&&Q(x.maxZoom),Ft(x.minZoom)&&P(x.minZoom),Ft(x.translateExtent)&&re(x.translateExtent)};for(const ee of Object.keys(x)){const J=ee,W=x[J];![...wE,...I].includes(J)&&Ft(W)&&(e[J]=W)}Tl(()=>e.d3Zoom).not.toBeNull().then(j),e.initialized||(e.initialized=!0)};return{updateNodePositions:p,updateNodeDimensions:v,setElements:U,setNodes:ve,setEdges:ge,addNodes:ke,addEdges:F,removeNodes:ce,removeEdges:V,findNode:f,findEdge:h,updateEdge:ne,updateEdgeData:se,updateNode:Oe,updateNodeData:Be,applyEdgeChanges:be,applyNodeChanges:Se,addSelectedElements:A,addSelectedNodes:w,addSelectedEdges:k,setMinZoom:P,setMaxZoom:Q,setTranslateExtent:re,setNodeExtent:ae,setPaneClickDistance:ue,removeSelectedElements:C,removeSelectedNodes:O,removeSelectedEdges:N,startConnection:Ue,updateConnection:Ne,endConnection:Fe,setInteractive:pe,setState:_e,getIntersectingNodes:X,getIncomers:i,getOutgoers:s,getConnectedEdges:u,getHandleConnections:c,isNodeIntersecting:he,panBy:Y,fitView:_=>r.value.fitView(_),zoomIn:_=>r.value.zoomIn(_),zoomOut:_=>r.value.zoomOut(_),zoomTo:(_,x)=>r.value.zoomTo(_,x),setViewport:(_,x)=>r.value.setViewport(_,x),setTransform:(_,x)=>r.value.setTransform(_,x),getViewport:()=>r.value.getViewport(),getTransform:()=>r.value.getTransform(),setCenter:(_,x,I)=>r.value.setCenter(_,x,I),fitBounds:(_,x)=>r.value.fitBounds(_,x),project:_=>r.value.project(_),screenToFlowCoordinate:_=>r.value.screenToFlowCoordinate(_),flowToScreenCoordinate:_=>r.value.flowToScreenCoordinate(_),toObject:()=>{const _=[],x=[];for(const I of e.nodes){const{computedPosition:S,handleBounds:j,selected:ee,dimensions:J,isParent:W,resizing:de,dragging:le,events:we,...Pe}=I;_.push(Pe)}for(const I of e.edges){const{selected:S,sourceNode:j,targetNode:ee,events:J,...W}=I;x.push(W)}return JSON.parse(JSON.stringify({nodes:_,edges:x,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:_=>new Promise(x=>{const{nodes:I,edges:S,position:j,zoom:ee,viewport:J}=_;if(I&&ve(I),S&&ge(S),J?.x&&J?.y||j){const W=J?.x||j[0],de=J?.y||j[1],le=J?.zoom||ee||e.viewport.zoom;return Tl(()=>r.value.viewportInitialized).toBe(!0).then(()=>{r.value.setViewport({x:W,y:de,zoom:le}).then(()=>{x(!0)})})}else x(!0)}),updateNodeInternals:o,viewportHelper:r,$reset:()=>{const _=bm();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const x=zo.translate(_.defaultViewport.x??0,_.defaultViewport.y??0).scale(Qr(_.defaultViewport.zoom??1,_.minZoom,_.maxZoom)),I=e.viewportRef.getBoundingClientRect(),S=[[0,0],[I.width,I.height]],j=e.d3Zoom.constrain()(x,S,_.translateExtent);e.d3Zoom.transform(e.d3Selection,j)}_e(_)},$destroy:()=>{}}}const SE=["data-id","data-handleid","data-nodeid","data-handlepos"],EE={name:"Handle",compatConfig:{MODE:3}},Fo=nt({...EE,props:{id:{default:null},type:{},position:{default:()=>Le.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=$y(e,["position","connectable","connectableStart","connectableEnd","id"]),r=St(()=>n.type??"source"),o=St(()=>n.isValidConnection??null),{id:i,connectionStartHandle:s,connectionClickStartHandle:u,connectionEndHandle:c,vueFlowRef:f,nodesConnectable:h,noDragClassName:p,noPanClassName:v}=yt(),{id:m,node:w,nodeEl:k,connectedEdges:A}=ym(),O=lt(),N=St(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),C=St(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),P=St(()=>{var ge,U,ke,F,ce,V;return((ge=s.value)==null?void 0:ge.nodeId)===m&&((U=s.value)==null?void 0:U.id)===e.id&&((ke=s.value)==null?void 0:ke.type)===r.value||((F=c.value)==null?void 0:F.nodeId)===m&&((ce=c.value)==null?void 0:ce.id)===e.id&&((V=c.value)==null?void 0:V.type)===r.value}),Q=St(()=>{var ge,U,ke;return((ge=u.value)==null?void 0:ge.nodeId)===m&&((U=u.value)==null?void 0:U.id)===e.id&&((ke=u.value)==null?void 0:ke.type)===r.value}),{handlePointerDown:re,handleClick:ae}=vm({nodeId:m,handleId:e.id,isValidConnection:o,type:r}),ue=Ve(()=>typeof e.connectable=="string"&&e.connectable==="single"?!A.value.some(ge=>{const U=ge[`${r.value}Handle`];return ge[r.value]!==m?!1:U?U===e.id:!0}):typeof e.connectable=="number"?A.value.filter(ge=>{const U=ge[`${r.value}Handle`];return ge[r.value]!==m?!1:U?U===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(w,A.value):Ft(e.connectable)?e.connectable:h.value);ln(()=>{var ge;if(!w.dimensions.width||!w.dimensions.height)return;const U=(ge=w.handleBounds[r.value])==null?void 0:ge.find(Se=>Se.id===e.id);if(!f.value||U)return;const ke=f.value.querySelector(".vue-flow__transformationpane");if(!k.value||!O.value||!ke||!e.id)return;const F=k.value.getBoundingClientRect(),ce=O.value.getBoundingClientRect(),V=window.getComputedStyle(ke),{m22:ne}=new window.DOMMatrixReadOnly(V.transform),se={id:e.id,position:e.position,x:(ce.left-F.left)/ne,y:(ce.top-F.top)/ne,type:r.value,nodeId:m,...La(O.value)};w.handleBounds[r.value]=[...w.handleBounds[r.value]??[],se]});function pe(ge){const U=Pc(ge);ue.value&&N.value&&(U&&ge.button===0||!U)&&re(ge)}function ve(ge){!m||!u.value&&!N.value||ue.value&&ae(ge)}return t({handleClick:ae,handlePointerDown:re,onClick:ve,onPointerDown:pe}),(ge,U)=>(Te(),He("div",{ref_key:"handle",ref:O,"data-id":`${Ce(i)}-${Ce(m)}-${e.id}-${r.value}`,"data-handleid":e.id,"data-nodeid":Ce(m),"data-handlepos":ge.position,class:gn(["vue-flow__handle",[`vue-flow__handle-${ge.position}`,`vue-flow__handle-${e.id}`,Ce(p),Ce(v),r.value,{connectable:ue.value,connecting:Q.value,connectablestart:N.value,connectableend:C.value,connectionindicator:ue.value&&(N.value&&!P.value||C.value&&P.value)}]]),onMousedown:pe,onTouchstartPassive:pe,onClick:ve},[Ln(ge.$slots,"default",{id:ge.id})],42,SE))}}),qa=function({sourcePosition:e=Le.Bottom,targetPosition:t=Le.Top,label:n,connectable:r=!0,isValidTargetPos:o,isValidSourcePos:i,data:s}){const u=s.label??n;return[dt(Fo,{type:"target",position:t,connectable:r,isValidConnection:o}),typeof u!="string"&&u?dt(u):dt(ft,[u]),dt(Fo,{type:"source",position:e,connectable:r,isValidConnection:i})]};qa.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];qa.inheritAttrs=!1;qa.compatConfig={MODE:3};const kE=qa,Ga=function({targetPosition:e=Le.Top,label:t,connectable:n=!0,isValidTargetPos:r,data:o}){const i=o.label??t;return[dt(Fo,{type:"target",position:e,connectable:n,isValidConnection:r}),typeof i!="string"&&i?dt(i):dt(ft,[i])]};Ga.props=["targetPosition","label","isValidTargetPos","connectable","data"];Ga.inheritAttrs=!1;Ga.compatConfig={MODE:3};const CE=Ga,Wa=function({sourcePosition:e=Le.Bottom,label:t,connectable:n=!0,isValidSourcePos:r,data:o}){const i=o.label??t;return[typeof i!="string"&&i?dt(i):dt(ft,[i]),dt(Fo,{type:"source",position:e,connectable:n,isValidConnection:r})]};Wa.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Wa.inheritAttrs=!1;Wa.compatConfig={MODE:3};const IE=Wa,PE=["transform"],TE=["width","height","x","y","rx","ry"],NE=["y"],$E={name:"EdgeText",compatConfig:{MODE:3}},OE=nt({...$E,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=lt({x:0,y:0,width:0,height:0}),n=lt(null),r=Ve(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);ln(o),rt([()=>e.x,()=>e.y,n,()=>e.label],o);function o(){if(!n.value)return;const i=n.value.getBBox();(i.width!==t.value.width||i.height!==t.value.height)&&(t.value=i)}return(i,s)=>(Te(),He("g",{transform:r.value,class:"vue-flow__edge-textwrapper"},[i.labelShowBg?(Te(),He("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*i.labelBgPadding[0]}px`,height:`${t.value.height+2*i.labelBgPadding[1]}px`,x:-i.labelBgPadding[0],y:-i.labelBgPadding[1],style:fn(i.labelBgStyle),rx:i.labelBgBorderRadius,ry:i.labelBgBorderRadius},null,12,TE)):zt("",!0),me("text",gc(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:i.labelStyle}),[Ln(i.$slots,"default",{},()=>[typeof i.label!="string"?(Te(),dn(Iy(i.label),{key:0})):(Te(),He(ft,{key:1},[Kp(_t(i.label),1)],64))])],16,NE)],8,PE))}}),AE=["id","d","marker-end","marker-start"],ME=["d","stroke-width"],DE={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Ya=nt({...DE,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=lt(null),r=lt(null),o=lt(null),i=Ny();return t({pathEl:n,interactionEl:r,labelEl:o}),(s,u)=>(Te(),He(ft,null,[me("path",gc(Ce(i),{id:s.id,ref_key:"pathEl",ref:n,d:s.path,class:"vue-flow__edge-path","marker-end":s.markerEnd,"marker-start":s.markerStart}),null,16,AE),s.interactionWidth?(Te(),He("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:s.path,"stroke-width":s.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,ME)):zt("",!0),s.label&&s.labelX&&s.labelY?(Te(),dn(OE,{key:1,ref_key:"labelEl",ref:o,x:s.labelX,y:s.labelY,label:s.label,"label-show-bg":s.labelShowBg,"label-bg-style":s.labelBgStyle,"label-bg-padding":s.labelBgPadding,"label-bg-border-radius":s.labelBgBorderRadius,"label-style":s.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):zt("",!0)],64))}});function wm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,u=r<t?r+s:r-s;return[i,u,o,s]}function xm({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:u}){const c=e*.125+o*.375+s*.375+n*.125,f=t*.125+i*.375+u*.375+r*.125,h=Math.abs(c-e),p=Math.abs(f-t);return[c,f,h,p]}function Is(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function oh({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){let s,u;switch(e){case Le.Left:s=t-Is(t-r,i),u=n;break;case Le.Right:s=t+Is(r-t,i),u=n;break;case Le.Top:s=t,u=n-Is(n-o,i);break;case Le.Bottom:s=t,u=n+Is(o-n,i);break}return[s,u]}function Sm(e){const{sourceX:t,sourceY:n,sourcePosition:r=Le.Bottom,targetX:o,targetY:i,targetPosition:s=Le.Top,curvature:u=.25}=e,[c,f]=oh({pos:r,x1:t,y1:n,x2:o,y2:i,c:u}),[h,p]=oh({pos:s,x1:o,y1:i,x2:t,y2:n,c:u}),[v,m,w,k]=xm({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:c,sourceControlY:f,targetControlX:h,targetControlY:p});return[`M${t},${n} C${c},${f} ${h},${p} ${o},${i}`,v,m,w,k]}function ih({pos:e,x1:t,y1:n,x2:r,y2:o}){let i,s;switch(e){case Le.Left:case Le.Right:i=.5*(t+r),s=n;break;case Le.Top:case Le.Bottom:i=t,s=.5*(n+o);break}return[i,s]}function Em(e){const{sourceX:t,sourceY:n,sourcePosition:r=Le.Bottom,targetX:o,targetY:i,targetPosition:s=Le.Top}=e,[u,c]=ih({pos:r,x1:t,y1:n,x2:o,y2:i}),[f,h]=ih({pos:s,x1:o,y1:i,x2:t,y2:n}),[p,v,m,w]=xm({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:u,sourceControlY:c,targetControlX:f,targetControlY:h});return[`M${t},${n} C${u},${c} ${f},${h} ${o},${i}`,p,v,m,w]}const sh={[Le.Left]:{x:-1,y:0},[Le.Right]:{x:1,y:0},[Le.Top]:{x:0,y:-1},[Le.Bottom]:{x:0,y:1}};function RE({source:e,sourcePosition:t=Le.Bottom,target:n}){return t===Le.Left||t===Le.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function ah(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function zE({source:e,sourcePosition:t=Le.Bottom,target:n,targetPosition:r=Le.Top,center:o,offset:i}){const s=sh[t],u=sh[r],c={x:e.x+s.x*i,y:e.y+s.y*i},f={x:n.x+u.x*i,y:n.y+u.y*i},h=RE({source:c,sourcePosition:t,target:f}),p=h.x!==0?"x":"y",v=h[p];let m,w,k;const A={x:0,y:0},O={x:0,y:0},[N,C,P,Q]=wm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[p]*u[p]===-1){w=o.x??N,k=o.y??C;const ae=[{x:w,y:c.y},{x:w,y:f.y}],ue=[{x:c.x,y:k},{x:f.x,y:k}];s[p]===v?m=p==="x"?ae:ue:m=p==="x"?ue:ae}else{const ae=[{x:c.x,y:f.y}],ue=[{x:f.x,y:c.y}];if(p==="x"?m=s.x===v?ue:ae:m=s.y===v?ae:ue,t===r){const ke=Math.abs(e[p]-n[p]);if(ke<=i){const F=Math.min(i-1,i-ke);s[p]===v?A[p]=(c[p]>e[p]?-1:1)*F:O[p]=(f[p]>n[p]?-1:1)*F}}if(t!==r){const ke=p==="x"?"y":"x",F=s[p]===u[ke],ce=c[ke]>f[ke],V=c[ke]<f[ke];(s[p]===1&&(!F&&ce||F&&V)||s[p]!==1&&(!F&&V||F&&ce))&&(m=p==="x"?ae:ue)}const pe={x:c.x+A.x,y:c.y+A.y},ve={x:f.x+O.x,y:f.y+O.y},ge=Math.max(Math.abs(pe.x-m[0].x),Math.abs(ve.x-m[0].x)),U=Math.max(Math.abs(pe.y-m[0].y),Math.abs(ve.y-m[0].y));ge>=U?(w=(pe.x+ve.x)/2,k=m[0].y):(w=m[0].x,k=(pe.y+ve.y)/2)}return[[e,{x:c.x+A.x,y:c.y+A.y},...m,{x:f.x+O.x,y:f.y+O.y},n],w,k,P,Q]}function BE(e,t,n,r){const o=Math.min(ah(e,t)/2,ah(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const f=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${i+o*f},${s}Q ${i},${s} ${i},${s+o*h}`}const u=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${s+o*c}Q ${i},${s} ${i+o*u},${s}`}function Ll(e){const{sourceX:t,sourceY:n,sourcePosition:r=Le.Bottom,targetX:o,targetY:i,targetPosition:s=Le.Top,borderRadius:u=5,centerX:c,centerY:f,offset:h=20}=e,[p,v,m,w,k]=zE({source:{x:t,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:s,center:{x:c,y:f},offset:h});return[p.reduce((O,N,C)=>{let P;return C>0&&C<p.length-1?P=BE(p[C-1],N,p[C+1],u):P=`${C===0?"M":"L"}${N.x} ${N.y}`,O+=P,O},""),v,m,w,k]}function FE(e){const{sourceX:t,sourceY:n,targetX:r,targetY:o}=e,[i,s,u,c]=wm({sourceX:t,sourceY:n,targetX:r,targetY:o});return[`M ${t},${n}L ${r},${o}`,i,s,u,c]}const jE=nt({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=FE(e);return dt(Ya,{path:n,labelX:r,labelY:o,...t,...e})}}}),HE=jE,VE=nt({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=Ll({...e,sourcePosition:e.sourcePosition??Le.Bottom,targetPosition:e.targetPosition??Le.Top});return dt(Ya,{path:n,labelX:r,labelY:o,...t,...e})}}}),km=VE,LE=nt({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>dt(km,{...e,...t,borderRadius:0})}}),ZE=LE,KE=nt({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=Sm({...e,sourcePosition:e.sourcePosition??Le.Bottom,targetPosition:e.targetPosition??Le.Top});return dt(Ya,{path:n,labelX:r,labelY:o,...t,...e})}}}),UE=KE,qE=nt({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=Em({...e,sourcePosition:e.sourcePosition??Le.Bottom,targetPosition:e.targetPosition??Le.Top});return dt(Ya,{path:n,labelX:r,labelY:o,...t,...e})}}}),GE=qE,WE={input:IE,default:kE,output:CE},YE={default:UE,straight:HE,step:ZE,smoothstep:km,simplebezier:GE};function XE(e,t,n){const r=Ve(()=>k=>t.value.get(k)),o=Ve(()=>k=>n.value.get(k)),i=Ve(()=>{const k={...YE,...e.edgeTypes},A=Object.keys(k);for(const O of e.edges)O.type&&!A.includes(O.type)&&(k[O.type]=O.type);return k}),s=Ve(()=>{const k={...WE,...e.nodeTypes},A=Object.keys(k);for(const O of e.nodes)O.type&&!A.includes(O.type)&&(k[O.type]=O.type);return k}),u=Ve(()=>e.onlyRenderVisibleElements?sm(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),c=Ve(()=>{if(e.onlyRenderVisibleElements){const k=[];for(const A of e.edges){const O=t.value.get(A.source),N=t.value.get(A.target);qS({sourcePos:O.computedPosition||{x:0,y:0},targetPos:N.computedPosition||{x:0,y:0},sourceWidth:O.dimensions.width,sourceHeight:O.dimensions.height,targetWidth:N.dimensions.width,targetHeight:N.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&k.push(A)}return k}return e.edges}),f=Ve(()=>[...u.value,...c.value]),h=Ve(()=>{const k=[];for(const A of e.nodes)A.selected&&k.push(A);return k}),p=Ve(()=>{const k=[];for(const A of e.edges)A.selected&&k.push(A);return k}),v=Ve(()=>[...h.value,...p.value]),m=Ve(()=>{const k=[];for(const A of e.nodes)A.dimensions.width&&A.dimensions.height&&A.handleBounds!==void 0&&k.push(A);return k}),w=Ve(()=>u.value.length>0&&m.value.length===u.value.length);return{getNode:r,getEdge:o,getElements:f,getEdgeTypes:i,getNodeTypes:s,getEdges:c,getNodes:u,getSelectedElements:v,getSelectedNodes:h,getSelectedEdges:p,getNodesInitialized:m,areNodesInitialized:w}}class Kr{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=qn())==null?void 0:t.appContext.app,r=n?.config.globalProperties.$vueFlowStorage??Kr.instance;return Kr.instance=r??new Kr,n&&(n.config.globalProperties.$vueFlowStorage=Kr.instance),Kr.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const r=bm(),o=Ho(r),i={};for(const[v,m]of Object.entries(o.hooks)){const w=`on${v.charAt(0).toUpperCase()+v.slice(1)}`;i[w]=m.on}const s={};for(const[v,m]of Object.entries(o.hooks))s[v]=m.trigger;const u=Ve(()=>{const v=new Map;for(const m of o.nodes)v.set(m.id,m);return v}),c=Ve(()=>{const v=new Map;for(const m of o.edges)v.set(m.id,m);return v}),f=XE(o,u,c),h=xE(o,u,c);h.setState({...o,...n});const p={...i,...f,...h,...Z0(o),nodeLookup:u,edgeLookup:c,emits:s,id:t,vueFlowVersion:"1.46.3",$destroy:()=>{this.remove(t)}};return this.set(t,p),p}getId(){return`vue-flow-${this.currentId++}`}}function yt(e){const t=Kr.getInstance(),n=Ca(),r=typeof e=="object",o=r?e:{id:e},i=o.id,s=i??n?.vueFlowId;let u;if(n){const c=Ut(rh,null);typeof c<"u"&&c!==null&&(!s||c.id===s)&&(u=c)}if(u||s&&(u=t.get(s)),!u||s&&u.id!==s){const c=i??t.getId(),f=t.create(c,o);u=f,(n??ka(!0)).run(()=>{rt(f.applyDefault,(p,v,m)=>{const w=A=>{f.applyNodeChanges(A)},k=A=>{f.applyEdgeChanges(A)};p?(f.onNodesChange(w),f.onEdgesChange(k)):(f.hooks.value.nodesChange.off(w),f.hooks.value.edgesChange.off(k)),m(()=>{f.hooks.value.nodesChange.off(w),f.hooks.value.edgesChange.off(k)})},{immediate:!0}),$i(()=>{if(u){const p=t.get(u.id);p?p.$destroy():Ka(`No store instance found for id ${u.id} in storage.`)}})})}else r&&u.setState(o);if(n&&(Zn(rh,u),n.vueFlowId=u.id),r){const c=qn();c?.type.name!=="VueFlow"&&u.emits.error(new Ht(jt.USEVUEFLOW_OPTIONS))}return u}function JE(e){const{emits:t,dimensions:n}=yt();let r;ln(()=>{const o=()=>{var i,s;if(!e.value||!(((s=(i=e.value).checkVisibility)==null?void 0:s.call(i))??!0))return;const u=La(e.value);(u.width===0||u.height===0)&&t.error(new Ht(jt.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:u.width||500,height:u.height||500}};o(),window.addEventListener("resize",o),e.value&&(r=new ResizeObserver(()=>o()),r.observe(e.value)),$a(()=>{window.removeEventListener("resize",o),r&&e.value&&r.unobserve(e.value)})})}const QE={name:"UserSelection",compatConfig:{MODE:3}},ek=nt({...QE,props:{userSelectionRect:{}},setup(e){return(t,n)=>(Te(),He("div",{class:"vue-flow__selection vue-flow__container",style:fn({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),tk=["tabIndex"],nk={name:"NodesSelection",compatConfig:{MODE:3}},rk=nt({...nk,setup(e){const{emits:t,viewport:n,getSelectedNodes:r,noPanClassName:o,disableKeyboardA11y:i,userSelectionActive:s}=yt(),u=_m(),c=lt(null),f=mm({el:c,onStart(w){t.selectionDragStart(w),t.nodeDragStart(w)},onDrag(w){t.selectionDrag(w),t.nodeDrag(w)},onStop(w){t.selectionDragStop(w),t.nodeDragStop(w)}});ln(()=>{var w;i.value||(w=c.value)==null||w.focus({preventScroll:!0})});const h=Ve(()=>im(r.value)),p=Ve(()=>({width:`${h.value.width}px`,height:`${h.value.height}px`,top:`${h.value.y}px`,left:`${h.value.x}px`}));function v(w){t.selectionContextMenu({event:w,nodes:r.value})}function m(w){i||Po[w.key]&&(w.preventDefault(),u({x:Po[w.key].x,y:Po[w.key].y},w.shiftKey))}return(w,k)=>!Ce(s)&&h.value.width&&h.value.height?(Te(),He("div",{key:0,class:gn(["vue-flow__nodesselection vue-flow__container",Ce(o)]),style:fn({transform:`translate(${Ce(n).x}px,${Ce(n).y}px) scale(${Ce(n).zoom})`})},[me("div",{ref_key:"el",ref:c,class:gn([{dragging:Ce(f)},"vue-flow__nodesselection-rect"]),style:fn(p.value),tabIndex:Ce(i)?void 0:-1,onContextmenu:v,onKeydown:m},null,46,tk)],6)):zt("",!0)}});function ok(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const ik={name:"Pane",compatConfig:{MODE:3}},sk=nt({...ik,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:r,emits:o,userSelectionActive:i,removeSelectedElements:s,userSelectionRect:u,elementsSelectable:c,nodesSelectionActive:f,getSelectedEdges:h,getSelectedNodes:p,removeNodes:v,removeEdges:m,selectionMode:w,deleteKeyCode:k,multiSelectionKeyCode:A,multiSelectionActive:O,edgeLookup:N,nodeLookup:C,connectionLookup:P,defaultEdgeOptions:Q,connectionStartHandle:re}=yt(),ae=lt(null),ue=lt(new Set),pe=lt(new Set),ve=lt(),ge=St(()=>c.value&&(e.isSelecting||i.value)),U=St(()=>re.value!==null);let ke=!1,F=!1;const ce=xi(k,{actInsideInputWithModifier:!1}),V=xi(A);rt(ce,Ne=>{Ne&&(v(p.value),m(h.value),f.value=!1)}),rt(V,Ne=>{O.value=Ne});function ne(Ne,Fe){return $e=>{$e.target===Fe&&Ne?.($e)}}function se(Ne){if(ke||U.value){ke=!1;return}o.paneClick(Ne),s(),f.value=!1}function Se(Ne){Ne.preventDefault(),Ne.stopPropagation(),o.paneContextMenu(Ne)}function be(Ne){o.paneScroll(Ne)}function Oe(Ne){var Fe,$e,X;if(ve.value=(Fe=t.value)==null?void 0:Fe.getBoundingClientRect(),!c.value||!e.isSelecting||Ne.button!==0||Ne.target!==ae.value||!ve.value)return;(X=($e=Ne.target)==null?void 0:$e.setPointerCapture)==null||X.call($e,Ne.pointerId);const{x:he,y:Y}=ok(Ne,ve.value);F=!0,ke=!1,s(),u.value={width:0,height:0,startX:he,startY:Y,x:he,y:Y},o.selectionStart(Ne)}function Be(Ne){var Fe;if(!ve.value||!u.value)return;ke=!0;const{x:$e,y:X}=jn(Ne,ve.value),{startX:he=0,startY:Y=0}=u.value,_e={startX:he,startY:Y,x:$e<he?$e:he,y:X<Y?X:Y,width:Math.abs($e-he),height:Math.abs(X-Y)},Ze=ue.value,E=pe.value;ue.value=new Set(sm(n.value,_e,r.value,w.value===Cc.Partial,!0).map(_=>_.id)),pe.value=new Set;const $=((Fe=Q.value)==null?void 0:Fe.selectable)??!0;for(const _ of ue.value){const x=P.value.get(_);if(x)for(const{edgeId:I}of x.values()){const S=N.value.get(I);S&&(S.selectable??$)&&pe.value.add(I)}}if(!nh(Ze,ue.value)){const _=Ir(C.value,ue.value,!0);o.nodesChange(_)}if(!nh(E,pe.value)){const _=Ir(N.value,pe.value);o.edgesChange(_)}u.value=_e,i.value=!0,f.value=!1}function Ue(Ne){var Fe;Ne.button!==0||!F||((Fe=Ne.target)==null||Fe.releasePointerCapture(Ne.pointerId),!i.value&&u.value&&Ne.target===ae.value&&se(Ne),i.value=!1,u.value=null,f.value=ue.value.size>0,o.selectionEnd(Ne),e.selectionKeyPressed&&(ke=!1),F=!1)}return(Ne,Fe)=>(Te(),He("div",{ref_key:"container",ref:ae,class:gn(["vue-flow__pane vue-flow__container",{selection:Ne.isSelecting}]),onClick:Fe[0]||(Fe[0]=$e=>ge.value?void 0:ne(se,ae.value)($e)),onContextmenu:Fe[1]||(Fe[1]=$e=>ne(Se,ae.value)($e)),onWheelPassive:Fe[2]||(Fe[2]=$e=>ne(be,ae.value)($e)),onPointerenter:Fe[3]||(Fe[3]=$e=>ge.value?void 0:Ce(o).paneMouseEnter($e)),onPointerdown:Fe[4]||(Fe[4]=$e=>ge.value?Oe($e):Ce(o).paneMouseMove($e)),onPointermove:Fe[5]||(Fe[5]=$e=>ge.value?Be($e):Ce(o).paneMouseMove($e)),onPointerup:Fe[6]||(Fe[6]=$e=>ge.value?Ue($e):void 0),onPointerleave:Fe[7]||(Fe[7]=$e=>Ce(o).paneMouseLeave($e))},[Ln(Ne.$slots,"default"),Ce(i)&&Ce(u)?(Te(),dn(ek,{key:0,"user-selection-rect":Ce(u)},null,8,["user-selection-rect"])):zt("",!0),Ce(f)&&Ce(p).length?(Te(),dn(rk,{key:1})):zt("",!0)],34))}}),ak={name:"Transform",compatConfig:{MODE:3}},uk=nt({...ak,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:r}=yt(),o=Ve(()=>n.value?!r.value:!1),i=Ve(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(s,u)=>(Te(),He("div",{class:"vue-flow__transformationpane vue-flow__container",style:fn({transform:i.value,opacity:o.value?0:void 0})},[Ln(s.$slots,"default")],4))}}),lk={name:"Viewport",compatConfig:{MODE:3}},ck=nt({...lk,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:r,translateExtent:o,zoomActivationKeyCode:i,selectionKeyCode:s,panActivationKeyCode:u,panOnScroll:c,panOnScrollMode:f,panOnScrollSpeed:h,panOnDrag:p,zoomOnDoubleClick:v,zoomOnPinch:m,zoomOnScroll:w,preventScrolling:k,noWheelClassName:A,noPanClassName:O,emits:N,connectionStartHandle:C,userSelectionActive:P,paneDragging:Q,d3Zoom:re,d3Selection:ae,d3ZoomHandler:ue,viewport:pe,viewportRef:ve,paneClickDistance:ge}=yt();JE(ve);const U=ki(!1),ke=ki(!1);let F=null,ce=!1,V=0,ne={x:0,y:0,zoom:0};const se=xi(u),Se=xi(s),be=xi(i),Oe=St(()=>(!Se.value||Se.value&&s.value===!0)&&(se.value||p.value)),Be=St(()=>se.value||c.value),Ue=St(()=>Se.value||s.value===!0&&Oe.value!==!0),Ne=St(()=>C.value!==null);ln(()=>{if(!ve.value){Ka("Viewport element is missing");return}const Y=ve.value,_e=Y.getBoundingClientRect(),Ze=PS().clickDistance(ge.value).scaleExtent([t.value,n.value]).translateExtent(o.value),E=En(Y).call(Ze),$=E.on("wheel.zoom"),_=zo.translate(r.value.x??0,r.value.y??0).scale(Qr(r.value.zoom??1,t.value,n.value)),x=[[0,0],[_e.width,_e.height]],I=Ze.constrain()(_,x,o.value);Ze.transform(E,I),Ze.wheelDelta(Vd),re.value=Ze,ae.value=E,ue.value=$,pe.value={x:I.x,y:I.y,zoom:I.k},Ze.on("start",S=>{var j;if(!S.sourceEvent)return null;V=S.sourceEvent.button,U.value=!0;const ee=X(S.transform);((j=S.sourceEvent)==null?void 0:j.type)==="mousedown"&&(Q.value=!0),ne=ee,N.viewportChangeStart(ee),N.moveStart({event:S,flowTransform:ee})}),Ze.on("end",S=>{if(!S.sourceEvent)return null;if(U.value=!1,Q.value=!1,Fe(Oe.value,V??0)&&!ce&&N.paneContextMenu(S.sourceEvent),ce=!1,$e(ne,S.transform)){const j=X(S.transform);ne=j,N.viewportChangeEnd(j),N.moveEnd({event:S,flowTransform:j})}}),Ze.filter(S=>{var j;const ee=be.value||w.value,J=m.value&&S.ctrlKey,W=S.button,de=S.type==="wheel";if(W===1&&S.type==="mousedown"&&(he(S,"vue-flow__node")||he(S,"vue-flow__edge")))return!0;if(!Oe.value&&!ee&&!Be.value&&!v.value&&!m.value||P.value||Ne.value&&!de||!v.value&&S.type==="dblclick"||he(S,A.value)&&de||he(S,O.value)&&(!de||Be.value&&de&&!be.value)||!m.value&&S.ctrlKey&&de||!ee&&!Be.value&&!J&&de)return!1;if(!m&&S.type==="touchstart"&&((j=S.touches)==null?void 0:j.length)>1)return S.preventDefault(),!1;if(!Oe.value&&(S.type==="mousedown"||S.type==="touchstart")||s.value===!0&&Array.isArray(p.value)&&p.value.includes(0)&&W===0||Array.isArray(p.value)&&!p.value.includes(W)&&(S.type==="mousedown"||S.type==="touchstart"))return!1;const le=Array.isArray(p.value)&&p.value.includes(W)||s.value===!0&&Array.isArray(p.value)&&!p.value.includes(0)||!W||W<=1;return(!S.ctrlKey||se.value||de)&&le}),rt([P,Oe],()=>{P.value&&!U.value?Ze.on("zoom",null):P.value||Ze.on("zoom",S=>{pe.value={x:S.transform.x,y:S.transform.y,zoom:S.transform.k};const j=X(S.transform);ce=Fe(Oe.value,V??0),N.viewportChange(j),N.move({event:S,flowTransform:j})})},{immediate:!0}),rt([P,Be,f,be,m,k,A],()=>{Be.value&&!be.value&&!P.value?E.on("wheel.zoom",S=>{if(he(S,A.value))return!1;const j=be.value||w.value,ee=m.value&&S.ctrlKey;if(!(!k.value||Be.value||j||ee))return!1;S.preventDefault(),S.stopImmediatePropagation();const W=E.property("__zoom").k||1,de=da();if(!se.value&&S.ctrlKey&&m.value&&de){const et=zn(S),ot=Vd(S),Pt=W*2**ot;Ze.scaleTo(E,Pt,et,S);return}const le=S.deltaMode===1?20:1;let we=f.value===wi.Vertical?0:S.deltaX*le,Pe=f.value===wi.Horizontal?0:S.deltaY*le;!de&&S.shiftKey&&f.value!==wi.Vertical&&!we&&Pe&&(we=Pe,Pe=0),Ze.translateBy(E,-(we/W)*h.value,-(Pe/W)*h.value);const Ge=X(E.property("__zoom"));F&&clearTimeout(F),ke.value?(N.move({event:S,flowTransform:Ge}),N.viewportChange(Ge),F=setTimeout(()=>{N.moveEnd({event:S,flowTransform:Ge}),N.viewportChangeEnd(Ge),ke.value=!1},150)):(ke.value=!0,N.moveStart({event:S,flowTransform:Ge}),N.viewportChangeStart(Ge))},{passive:!1}):typeof $<"u"&&E.on("wheel.zoom",function(S,j){const ee=!k.value&&S.type==="wheel"&&!S.ctrlKey,J=be.value||w.value,W=m.value&&S.ctrlKey;if(!J&&!c.value&&!W&&S.type==="wheel"||ee||he(S,A.value))return null;S.preventDefault(),$.call(this,S,j)},{passive:!1})},{immediate:!0})});function Fe(Y,_e){return _e===2&&Array.isArray(Y)&&Y.includes(2)}function $e(Y,_e){return Y.x!==_e.x&&!Number.isNaN(_e.x)||Y.y!==_e.y&&!Number.isNaN(_e.y)||Y.zoom!==_e.k&&!Number.isNaN(_e.k)}function X(Y){return{x:Y.x,y:Y.y,zoom:Y.k}}function he(Y,_e){return Y.target.closest(`.${_e}`)}return(Y,_e)=>(Te(),He("div",{ref_key:"viewportRef",ref:ve,class:"vue-flow__viewport vue-flow__container"},[st(sk,{"is-selecting":Ue.value,"selection-key-pressed":Ce(Se),class:gn({connecting:Ne.value,dragging:Ce(Q),draggable:Ce(p)===!0||Array.isArray(Ce(p))&&Ce(p).includes(0)})},{default:No(()=>[st(uk,null,{default:No(()=>[Ln(Y.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),fk=["id"],dk=["id"],hk=["id"],pk={name:"A11yDescriptions",compatConfig:{MODE:3}},gk=nt({...pk,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:r}=yt();return(o,i)=>(Te(),He(ft,null,[me("div",{id:`${Ce(Xg)}-${Ce(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+_t(Ce(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,fk),me("div",{id:`${Ce(Jg)}-${Ce(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,dk),Ce(n)?zt("",!0):(Te(),He("div",{key:0,id:`${Ce(MS)}-${Ce(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},_t(Ce(r)),9,hk))],64))}});function mk(){const e=yt();rt(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function vk(e,t,n){return n===Le.Left?e-t:n===Le.Right?e+t:e}function yk(e,t,n){return n===Le.Top?e-t:n===Le.Bottom?e+t:e}const Tc=function({radius:e=10,centerX:t=0,centerY:n=0,position:r=Le.Top,type:o}){return dt("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${o}`,cx:vk(t,e,r),cy:yk(n,e,r),r:e,stroke:"transparent",fill:"transparent"})};Tc.props=["radius","centerX","centerY","position","type"];Tc.compatConfig={MODE:3};const uh=Tc,_k=nt({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:o,emits:i,nodesSelectionActive:s,noPanClassName:u,getEdgeTypes:c,removeSelectedEdges:f,findEdge:h,findNode:p,isValidConnection:v,multiSelectionActive:m,disableKeyboardA11y:w,elementsSelectable:k,edgesUpdatable:A,edgesFocusable:O,hooks:N}=yt(),C=Ve(()=>h(e.id)),{emit:P,on:Q}=lE(C.value,i),re=Ut(Ua),ae=qn(),ue=lt(!1),pe=lt(!1),ve=lt(""),ge=lt(null),U=lt("source"),ke=lt(null),F=St(()=>typeof C.value.selectable>"u"?k.value:C.value.selectable),ce=St(()=>typeof C.value.updatable>"u"?A.value:C.value.updatable),V=St(()=>typeof C.value.focusable>"u"?O.value:C.value.focusable);Zn(sE,e.id),Zn(aE,ke);const ne=Ve(()=>C.value.class instanceof Function?C.value.class(C.value):C.value.class),se=Ve(()=>C.value.style instanceof Function?C.value.style(C.value):C.value.style),Se=Ve(()=>{const x=C.value.type||"default",I=re?.[`edge-${x}`];if(I)return I;let S=C.value.template??c.value[x];if(typeof S=="string"&&ae){const j=Object.keys(ae.appContext.components);j&&j.includes(x)&&(S=Oa(x,!1))}return S&&typeof S!="string"?S:(i.error(new Ht(jt.EDGE_TYPE_MISSING,S)),!1)}),{handlePointerDown:be}=vm({nodeId:ve,handleId:ge,type:U,isValidConnection:v,edgeUpdaterType:U,onEdgeUpdate:Ue,onEdgeUpdateEnd:Ne});return()=>{const x=p(C.value.source),I=p(C.value.target),S="pathOptions"in C.value?C.value.pathOptions:{};if(!x&&!I)return i.error(new Ht(jt.EDGE_SOURCE_TARGET_MISSING,C.value.id,C.value.source,C.value.target)),null;if(!x)return i.error(new Ht(jt.EDGE_SOURCE_MISSING,C.value.id,C.value.source)),null;if(!I)return i.error(new Ht(jt.EDGE_TARGET_MISSING,C.value.id,C.value.target)),null;if(!C.value||C.value.hidden||x.hidden||I.hidden)return null;let j;r.value===Tr.Strict?j=x.handleBounds.source:j=[...x.handleBounds.source||[],...x.handleBounds.target||[]];const ee=Yd(j,C.value.sourceHandle);let J;r.value===Tr.Strict?J=I.handleBounds.target:J=[...I.handleBounds.target||[],...I.handleBounds.source||[]];const W=Yd(J,C.value.targetHandle),de=ee?.position||Le.Bottom,le=W?.position||Le.Top,{x:we,y:Pe}=Bo(x,ee,de),{x:Ge,y:et}=Bo(I,W,le);return C.value.sourceX=we,C.value.sourceY=Pe,C.value.targetX=Ge,C.value.targetY=et,dt("g",{ref:ke,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${Se.value===!1?"default":C.value.type||"default"}`,u.value,ne.value,{updating:ue.value,selected:C.value.selected,animated:C.value.animated,inactive:!F.value&&!N.value.edgeClick.hasListeners()}],tabIndex:V.value?0:void 0,"aria-label":C.value.ariaLabel===null?void 0:C.value.ariaLabel??`Edge from ${C.value.source} to ${C.value.target}`,"aria-describedby":V.value?`${Jg}-${t}`:void 0,"aria-roledescription":"edge",role:V.value?"group":"img",...C.value.domAttributes,onClick:$e,onContextmenu:X,onDblclick:he,onMouseenter:Y,onMousemove:_e,onMouseleave:Ze,onKeyDown:V.value?_:void 0},[pe.value?null:dt(Se.value===!1?c.value.default:Se.value,{id:e.id,sourceNode:x,targetNode:I,source:C.value.source,target:C.value.target,type:C.value.type,updatable:ce.value,selected:C.value.selected,animated:C.value.animated,label:C.value.label,labelStyle:C.value.labelStyle,labelShowBg:C.value.labelShowBg,labelBgStyle:C.value.labelBgStyle,labelBgPadding:C.value.labelBgPadding,labelBgBorderRadius:C.value.labelBgBorderRadius,data:C.value.data,events:{...C.value.events,...Q},style:se.value,markerStart:`url('#${zi(C.value.markerStart,t)}')`,markerEnd:`url('#${zi(C.value.markerEnd,t)}')`,sourcePosition:de,targetPosition:le,sourceX:we,sourceY:Pe,targetX:Ge,targetY:et,sourceHandleId:C.value.sourceHandle,targetHandleId:C.value.targetHandle,interactionWidth:C.value.interactionWidth,...S}),[ce.value==="source"||ce.value===!0?[dt("g",{onMousedown:E,onMouseenter:Oe,onMouseout:Be},dt(uh,{position:de,centerX:we,centerY:Pe,radius:o.value,type:"source","data-type":"source"}))]:null,ce.value==="target"||ce.value===!0?[dt("g",{onMousedown:$,onMouseenter:Oe,onMouseout:Be},dt(uh,{position:le,centerX:Ge,centerY:et,radius:o.value,type:"target","data-type":"target"}))]:null]])};function Oe(){ue.value=!0}function Be(){ue.value=!1}function Ue(x,I){P.update({event:x,edge:C.value,connection:I})}function Ne(x){P.updateEnd({event:x,edge:C.value}),pe.value=!1}function Fe(x,I){x.button===0&&(pe.value=!0,ve.value=I?C.value.target:C.value.source,ge.value=(I?C.value.targetHandle:C.value.sourceHandle)??null,U.value=I?"target":"source",P.updateStart({event:x,edge:C.value}),be(x))}function $e(x){var I;const S={event:x,edge:C.value};F.value&&(s.value=!1,C.value.selected&&m.value?(f([C.value]),(I=ke.value)==null||I.blur()):n([C.value])),P.click(S)}function X(x){P.contextMenu({event:x,edge:C.value})}function he(x){P.doubleClick({event:x,edge:C.value})}function Y(x){P.mouseEnter({event:x,edge:C.value})}function _e(x){P.mouseMove({event:x,edge:C.value})}function Ze(x){P.mouseLeave({event:x,edge:C.value})}function E(x){Fe(x,!0)}function $(x){Fe(x,!1)}function _(x){var I;!w.value&&Qg.includes(x.key)&&F.value&&(x.key==="Escape"?((I=ke.value)==null||I.blur(),f([h(e.id)])):n([h(e.id)]))}}}),bk=_k,wk=nt({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:r,connectionEndHandle:o,connectionPosition:i,connectionLineType:s,connectionLineStyle:u,connectionLineOptions:c,connectionStatus:f,viewport:h,findNode:p}=yt(),v=(e=Ut(Ua))==null?void 0:e["connection-line"],m=Ve(()=>{var N;return p((N=r.value)==null?void 0:N.nodeId)}),w=Ve(()=>{var N;return p((N=o.value)==null?void 0:N.nodeId)??null}),k=Ve(()=>({x:(i.value.x-h.value.x)/h.value.zoom,y:(i.value.y-h.value.y)/h.value.zoom})),A=Ve(()=>c.value.markerStart?`url(#${zi(c.value.markerStart,t)})`:""),O=Ve(()=>c.value.markerEnd?`url(#${zi(c.value.markerEnd,t)})`:"");return()=>{var N,C,P;if(!m.value||!r.value)return null;const Q=r.value.id,re=r.value.type,ae=m.value.handleBounds;let ue=ae?.[re]??[];if(n.value===Tr.Loose){const se=ae?.[re==="source"?"target":"source"]??[];ue=[...ue,...se]}if(!ue)return null;const pe=(Q?ue.find(se=>se.id===Q):ue[0])??null,ve=pe?.position??Le.Top,{x:ge,y:U}=Bo(m.value,pe,ve);let ke=null;w.value&&(n.value===Tr.Strict?ke=((N=w.value.handleBounds[re==="source"?"target":"source"])==null?void 0:N.find(se=>{var Se;return se.id===((Se=o.value)==null?void 0:Se.id)}))||null:ke=((C=[...w.value.handleBounds.source??[],...w.value.handleBounds.target??[]])==null?void 0:C.find(se=>{var Se;return se.id===((Se=o.value)==null?void 0:Se.id)}))||null);const F=((P=o.value)==null?void 0:P.position)??(ve?Hl[ve]:null);if(!ve||!F)return null;const ce=s.value??c.value.type??Zr.Bezier;let V="";const ne={sourceX:ge,sourceY:U,sourcePosition:ve,targetX:k.value.x,targetY:k.value.y,targetPosition:F};return ce===Zr.Bezier?[V]=Sm(ne):ce===Zr.Step?[V]=Ll({...ne,borderRadius:0}):ce===Zr.SmoothStep?[V]=Ll(ne):ce===Zr.SimpleBezier?[V]=Em(ne):V=`M${ge},${U} ${k.value.x},${k.value.y}`,dt("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},dt("g",{class:"vue-flow__connection"},v?dt(v,{sourceX:ge,sourceY:U,sourcePosition:ve,targetX:k.value.x,targetY:k.value.y,targetPosition:F,sourceNode:m.value,sourceHandle:pe,targetNode:w.value,targetHandle:ke,markerEnd:O.value,markerStart:A.value,connectionStatus:f.value}):dt("path",{d:V,class:[c.value.class,f,"vue-flow__connection-path"],style:{...u.value,...c.value.style},"marker-end":O.value,"marker-start":A.value})))}}}),xk=wk,Sk=["id","markerWidth","markerHeight","markerUnits","orient"],Ek={name:"MarkerType",compatConfig:{MODE:3}},kk=nt({...Ek,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(Te(),He("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===Ce(Bl).ArrowClosed?(Te(),He("polyline",{key:0,style:fn({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):zt("",!0),t.type===Ce(Bl).Arrow?(Te(),He("polyline",{key:1,style:fn({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):zt("",!0)],8,Sk))}}),Ck={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},Ik={name:"MarkerDefinitions",compatConfig:{MODE:3}},Pk=nt({...Ik,setup(e){const{id:t,edges:n,connectionLineOptions:r,defaultMarkerColor:o}=yt(),i=Ve(()=>{const s=new Set,u=[],c=f=>{if(f){const h=zi(f,t);s.has(h)||(typeof f=="object"?u.push({...f,id:h,color:f.color||o.value}):u.push({id:h,color:o.value,type:f}),s.add(h))}};for(const f of[r.value.markerEnd,r.value.markerStart])c(f);for(const f of n.value)for(const h of[f.markerStart,f.markerEnd])c(h);return u.sort((f,h)=>f.id.localeCompare(h.id))});return(s,u)=>(Te(),He("svg",Ck,[me("defs",null,[(Te(!0),He(ft,null,bn(i.value,c=>(Te(),dn(kk,{id:c.id,key:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,"stroke-width":c.strokeWidth,orient:c.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),Tk={name:"Edges",compatConfig:{MODE:3}},Nk=nt({...Tk,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:r}=yt();return(o,i)=>(Te(),He(ft,null,[st(Pk),(Te(!0),He(ft,null,bn(Ce(n),s=>(Te(),He("svg",{key:s.id,class:"vue-flow__edges vue-flow__container",style:fn({zIndex:Ce(GS)(s,Ce(t),Ce(r))})},[st(Ce(bk),{id:s.id},null,8,["id"])],4))),128)),st(Ce(xk))],64))}}),$k=nt({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:o,multiSelectionActive:i,emits:s,removeSelectedNodes:u,addSelectedNodes:c,updateNodeDimensions:f,onUpdateNodeInternals:h,getNodeTypes:p,nodeExtent:v,elevateNodesOnSelect:m,disableKeyboardA11y:w,ariaLiveMessage:k,snapToGrid:A,snapGrid:O,nodeDragThreshold:N,nodesDraggable:C,elementsSelectable:P,nodesConnectable:Q,nodesFocusable:re,hooks:ae}=yt(),ue=lt(null);Zn(gm,ue),Zn(pm,e.id);const pe=Ut(Ua),ve=qn(),ge=_m(),{node:U,parentNode:ke}=ym(e.id),{emit:F,on:ce}=hE(U,s),V=St(()=>typeof U.draggable>"u"?C.value:U.draggable),ne=St(()=>typeof U.selectable>"u"?P.value:U.selectable),se=St(()=>typeof U.connectable>"u"?Q.value:U.connectable),Se=St(()=>typeof U.focusable>"u"?re.value:U.focusable),be=Ve(()=>ne.value||V.value||ae.value.nodeClick.hasListeners()||ae.value.nodeDoubleClick.hasListeners()||ae.value.nodeMouseEnter.hasListeners()||ae.value.nodeMouseMove.hasListeners()||ae.value.nodeMouseLeave.hasListeners()),Oe=St(()=>!!U.dimensions.width&&!!U.dimensions.height),Be=Ve(()=>{const I=U.type||"default",S=pe?.[`node-${I}`];if(S)return S;let j=U.template||p.value[I];if(typeof j=="string"&&ve){const ee=Object.keys(ve.appContext.components);ee&&ee.includes(I)&&(j=Oa(I,!1))}return j&&typeof j!="string"?j:(s.error(new Ht(jt.NODE_TYPE_MISSING,j)),!1)}),Ue=mm({id:e.id,el:ue,disabled:()=>!V.value,selectable:ne,dragHandle:()=>U.dragHandle,onStart(I){F.dragStart(I)},onDrag(I){F.drag(I)},onStop(I){F.dragStop(I)},onClick(I){_(I)}}),Ne=Ve(()=>U.class instanceof Function?U.class(U):U.class),Fe=Ve(()=>{const I=(U.style instanceof Function?U.style(U):U.style)||{},S=U.width instanceof Function?U.width(U):U.width,j=U.height instanceof Function?U.height(U):U.height;return!I.width&&S&&(I.width=typeof S=="string"?S:`${S}px`),!I.height&&j&&(I.height=typeof j=="string"?j:`${j}px`),I}),$e=St(()=>Number(U.zIndex??Fe.value.zIndex??0));return h(I=>{(I.includes(e.id)||!I.length)&&he()}),ln(()=>{rt(()=>U.hidden,(I=!1,S,j)=>{!I&&ue.value&&(e.resizeObserver.observe(ue.value),j(()=>{ue.value&&e.resizeObserver.unobserve(ue.value)}))},{immediate:!0,flush:"post"})}),rt([()=>U.type,()=>U.sourcePosition,()=>U.targetPosition],()=>{mn(()=>{f([{id:e.id,nodeElement:ue.value,forceUpdate:!0}])})}),rt([()=>U.position.x,()=>U.position.y,()=>{var I;return(I=ke.value)==null?void 0:I.computedPosition.x},()=>{var I;return(I=ke.value)==null?void 0:I.computedPosition.y},()=>{var I;return(I=ke.value)==null?void 0:I.computedPosition.z},$e,()=>U.selected,()=>U.dimensions.height,()=>U.dimensions.width,()=>{var I;return(I=ke.value)==null?void 0:I.dimensions.height},()=>{var I;return(I=ke.value)==null?void 0:I.dimensions.width}],([I,S,j,ee,J,W])=>{const de={x:I,y:S,z:W+(m.value&&U.selected?1e3:0)};typeof j<"u"&&typeof ee<"u"?U.computedPosition=VS({x:j,y:ee,z:J},de):U.computedPosition=de},{flush:"post",immediate:!0}),rt([()=>U.extent,v],([I,S],[j,ee])=>{(I!==j||S!==ee)&&X()}),U.extent==="parent"||typeof U.extent=="object"&&"range"in U.extent&&U.extent.range==="parent"?Tl(()=>Oe).toBe(!0).then(X):X(),()=>U.hidden?null:dt("div",{ref:ue,"data-id":U.id,class:["vue-flow__node",`vue-flow__node-${Be.value===!1?"default":U.type||"default"}`,{[n.value]:V.value,dragging:Ue?.value,draggable:V.value,selected:U.selected,selectable:ne.value,parent:U.isParent},Ne.value],style:{visibility:Oe.value?"visible":"hidden",zIndex:U.computedPosition.z??$e.value,transform:`translate(${U.computedPosition.x}px,${U.computedPosition.y}px)`,pointerEvents:be.value?"all":"none",...Fe.value},tabIndex:Se.value?0:void 0,role:Se.value?"group":void 0,"aria-describedby":w.value?void 0:`${Xg}-${t}`,"aria-label":U.ariaLabel,"aria-roledescription":"node",...U.domAttributes,onMouseenter:Y,onMousemove:_e,onMouseleave:Ze,onContextmenu:E,onClick:_,onDblclick:$,onKeydown:x},[dt(Be.value===!1?p.value.default:Be.value,{id:U.id,type:U.type,data:U.data,events:{...U.events,...ce},selected:U.selected,resizing:U.resizing,dragging:Ue.value,connectable:se.value,position:U.computedPosition,dimensions:U.dimensions,isValidTargetPos:U.isValidTargetPos,isValidSourcePos:U.isValidSourcePos,parent:U.parentNode,parentNodeId:U.parentNode,zIndex:U.computedPosition.z??$e.value,targetPosition:U.targetPosition,sourcePosition:U.sourcePosition,label:U.label,dragHandle:U.dragHandle,onUpdateNodeInternals:he})]);function X(){const I=U.computedPosition,{computedPosition:S,position:j}=Ic(U,A.value?Za(I,O.value):I,s.error,v.value,ke.value);(U.computedPosition.x!==S.x||U.computedPosition.y!==S.y)&&(U.computedPosition={...U.computedPosition,...S}),(U.position.x!==j.x||U.position.y!==j.y)&&(U.position=j)}function he(){ue.value&&f([{id:e.id,nodeElement:ue.value,forceUpdate:!0}])}function Y(I){Ue?.value||F.mouseEnter({event:I,node:U})}function _e(I){Ue?.value||F.mouseMove({event:I,node:U})}function Ze(I){Ue?.value||F.mouseLeave({event:I,node:U})}function E(I){return F.contextMenu({event:I,node:U})}function $(I){return F.doubleClick({event:I,node:U})}function _(I){ne.value&&(!r.value||!V.value||N.value>0)&&Vl(U,i.value,c,u,o,!1,ue.value),F.click({event:I,node:U})}function x(I){if(!(Fl(I)||w.value))if(Qg.includes(I.key)&&ne.value){const S=I.key==="Escape";Vl(U,i.value,c,u,o,S,ue.value)}else V.value&&U.selected&&Po[I.key]&&(I.preventDefault(),k.value=`Moved selected node ${I.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~U.position.x}, y: ${~~U.position.y}`,ge({x:Po[I.key].x,y:Po[I.key].y},I.shiftKey))}}}),Ok=$k;function Ak(e={includeHiddenNodes:!1}){const{nodes:t}=yt();return Ve(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&(n?.handleBounds===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const Mk={class:"vue-flow__nodes vue-flow__container"},Dk={name:"Nodes",compatConfig:{MODE:3}},Rk=nt({...Dk,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:r}=yt(),o=Ak(),i=lt();return rt(o,s=>{s&&mn(()=>{r.nodesInitialized(t.value)})},{immediate:!0}),ln(()=>{i.value=new ResizeObserver(s=>{const u=s.map(c=>({id:c.target.getAttribute("data-id"),nodeElement:c.target,forceUpdate:!0}));mn(()=>n(u))})}),$a(()=>{var s;return(s=i.value)==null?void 0:s.disconnect()}),(s,u)=>(Te(),He("div",Mk,[i.value?(Te(!0),He(ft,{key:0},bn(Ce(t),(c,f,h,p)=>{const v=[c.id];if(p&&p.key===c.id&&v_(p,v))return p;const m=(Te(),dn(Ce(Ok),{id:c.id,key:c.id,"resize-observer":i.value},null,8,["id","resize-observer"]));return m.memo=v,m},u,0),128)):zt("",!0)]))}});function zk(){const{emits:e}=yt();ln(()=>{if(hm()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Ht(jt.MISSING_STYLES))}})}const Bk=me("div",{class:"vue-flow__edge-labels"},null,-1),Fk={name:"VueFlow",compatConfig:{MODE:3}},jk=nt({...Fk,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const r=e,o=Ty(),i=Gu(r,"modelValue",n),s=Gu(r,"nodes",n),u=Gu(r,"edges",n),c=yt(r),f=vE({modelValue:i,nodes:s,edges:u},r,c);return _E(n,c.hooks),mk(),zk(),Zn(Ua,o),lc(f),t(c),(h,p)=>(Te(),He("div",{ref:Ce(c).vueFlowRef,class:"vue-flow"},[st(ck,null,{default:No(()=>[st(Nk),Bk,st(Rk),Ln(h.$slots,"zoom-pane")]),_:3}),Ln(h.$slots,"default"),st(gk)],512))}});var ir=(e=>(e.Lines="lines",e.Dots="dots",e))(ir||{});const Cm=function({dimensions:e,size:t,color:n}){return dt("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},Im=function({radius:e,color:t}){return dt("circle",{cx:e,cy:e,r:e,fill:t})};ir.Lines+"",ir.Dots+"";const Hk={[ir.Dots]:"#81818a",[ir.Lines]:"#eee"},Vk=["id","x","y","width","height","patternTransform"],Lk={key:2,height:"100",width:"100"},Zk=["fill"],Kk=["x","y","fill"],Uk={name:"Background",compatConfig:{MODE:3}},qk=nt({...Uk,props:{id:{},variant:{default:()=>ir.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=yt(),r=Ve(()=>{const s=n.value.zoom,[u,c]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],f=[u*s||1,c*s||1],h=e.size*s,[p,v]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],m=[p*s||1+f[0]/2,v*s||1+f[1]/2];return{scaledGap:f,offset:m,size:h}}),o=St(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),i=St(()=>e.color||e.patternColor||Hk[e.variant||ir.Dots]);return(s,u)=>(Te(),He("svg",{class:"vue-flow__background vue-flow__container",style:fn({height:`${s.height>100?100:s.height}%`,width:`${s.width>100?100:s.width}%`})},[Ln(s.$slots,"pattern-container",{id:o.value},()=>[me("pattern",{id:o.value,x:Ce(n).x%r.value.scaledGap[0],y:Ce(n).y%r.value.scaledGap[1],width:r.value.scaledGap[0],height:r.value.scaledGap[1],patternTransform:`translate(-${r.value.offset[0]},-${r.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[Ln(s.$slots,"pattern",{},()=>[s.variant===Ce(ir).Lines?(Te(),dn(Ce(Cm),{key:0,size:s.lineWidth,color:i.value,dimensions:r.value.scaledGap},null,8,["size","color","dimensions"])):s.variant===Ce(ir).Dots?(Te(),dn(Ce(Im),{key:1,color:i.value,radius:r.value.size/2},null,8,["color","radius"])):zt("",!0),s.bgColor?(Te(),He("svg",Lk,[me("rect",{width:"100%",height:"100%",fill:s.bgColor},null,8,Zk)])):zt("",!0)])],8,Vk)]),me("rect",{x:s.x,y:s.y,width:"100%",height:"100%",fill:`url(#${o.value})`},null,8,Kk),Ln(s.$slots,"default",{id:o.value})],4))}});var Gk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hs={exports:{}},Yk=Hs.exports,lh;function Xk(){return lh||(lh=1,(function(e,t){(function(n,r){e.exports=r()})(Yk,function(){var n=function(a,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(d[y]=g[y])})(a,l)},r=function(){return(r=Object.assign||function(a){for(var l,d=1,g=arguments.length;d<g;d++)for(var y in l=arguments[d])Object.prototype.hasOwnProperty.call(l,y)&&(a[y]=l[y]);return a}).apply(this,arguments)};function o(a,l,d){for(var g,y=0,b=l.length;y<b;y++)!g&&y in l||((g=g||Array.prototype.slice.call(l,0,y))[y]=l[y]);return a.concat(g||Array.prototype.slice.call(l))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Gk,s=Object.keys,u=Array.isArray;function c(a,l){return typeof l!="object"||s(l).forEach(function(d){a[d]=l[d]}),a}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var f=Object.getPrototypeOf,h={}.hasOwnProperty;function p(a,l){return h.call(a,l)}function v(a,l){typeof l=="function"&&(l=l(f(a))),(typeof Reflect>"u"?s:Reflect.ownKeys)(l).forEach(function(d){w(a,d,l[d])})}var m=Object.defineProperty;function w(a,l,d,g){m(a,l,c(d&&p(d,"get")&&typeof d.get=="function"?{get:d.get,set:d.set,configurable:!0}:{value:d,configurable:!0,writable:!0},g))}function k(a){return{from:function(l){return a.prototype=Object.create(l.prototype),w(a.prototype,"constructor",a),{extend:v.bind(null,a.prototype)}}}}var A=Object.getOwnPropertyDescriptor,O=[].slice;function N(a,l,d){return O.call(a,l,d)}function C(a,l){return l(a)}function P(a){if(!a)throw new Error("Assertion Failed")}function Q(a){i.setImmediate?setImmediate(a):setTimeout(a,0)}function re(a,l){if(typeof l=="string"&&p(a,l))return a[l];if(!l)return a;if(typeof l!="string"){for(var d=[],g=0,y=l.length;g<y;++g){var b=re(a,l[g]);d.push(b)}return d}var T=l.indexOf(".");if(T!==-1){var M=a[l.substr(0,T)];return M==null?void 0:re(M,l.substr(T+1))}}function ae(a,l,d){if(a&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof l!="string"&&"length"in l){P(typeof d!="string"&&"length"in d);for(var g=0,y=l.length;g<y;++g)ae(a,l[g],d[g])}else{var b,T,M=l.indexOf(".");M!==-1?(b=l.substr(0,M),(T=l.substr(M+1))===""?d===void 0?u(a)&&!isNaN(parseInt(b))?a.splice(b,1):delete a[b]:a[b]=d:ae(M=!(M=a[b])||!p(a,b)?a[b]={}:M,T,d)):d===void 0?u(a)&&!isNaN(parseInt(l))?a.splice(l,1):delete a[l]:a[l]=d}}function ue(a){var l,d={};for(l in a)p(a,l)&&(d[l]=a[l]);return d}var pe=[].concat;function ve(a){return pe.apply([],a)}var Ge="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ve([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(l){return l+a+"Array"})}))).filter(function(a){return i[a]}),ge=new Set(Ge.map(function(a){return i[a]})),U=null;function ke(a){return U=new WeakMap,a=(function l(d){if(!d||typeof d!="object")return d;var g=U.get(d);if(g)return g;if(u(d)){g=[],U.set(d,g);for(var y=0,b=d.length;y<b;++y)g.push(l(d[y]))}else if(ge.has(d.constructor))g=d;else{var T,M=f(d);for(T in g=M===Object.prototype?{}:Object.create(M),U.set(d,g),d)p(d,T)&&(g[T]=l(d[T]))}return g})(a),U=null,a}var F={}.toString;function ce(a){return F.call(a).slice(8,-1)}var V=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ne=typeof V=="symbol"?function(a){var l;return a!=null&&(l=a[V])&&l.apply(a)}:function(){return null};function se(a,l){return l=a.indexOf(l),0<=l&&a.splice(l,1),0<=l}var Se={};function be(a){var l,d,g,y;if(arguments.length===1){if(u(a))return a.slice();if(this===Se&&typeof a=="string")return[a];if(y=ne(a)){for(d=[];!(g=y.next()).done;)d.push(g.value);return d}if(a==null)return[a];if(typeof(l=a.length)!="number")return[a];for(d=new Array(l);l--;)d[l]=a[l];return d}for(l=arguments.length,d=new Array(l);l--;)d[l]=arguments[l];return d}var Oe=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Pe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],_n=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Pe),Be={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ue(a,l){this.name=a,this.message=l}function Ne(a,l){return a+". Errors: "+Object.keys(l).map(function(d){return l[d].toString()}).filter(function(d,g,y){return y.indexOf(d)===g}).join(`
`)}function Fe(a,l,d,g){this.failures=l,this.failedKeys=g,this.successCount=d,this.message=Ne(a,l)}function $e(a,l){this.name="BulkError",this.failures=Object.keys(l).map(function(d){return l[d]}),this.failuresByPos=l,this.message=Ne(a,this.failures)}k(Ue).from(Error).extend({toString:function(){return this.name+": "+this.message}}),k(Fe).from(Ue),k($e).from(Ue);var X=_n.reduce(function(a,l){return a[l]=l+"Error",a},{}),he=Ue,Y=_n.reduce(function(a,l){var d=l+"Error";function g(y,b){this.name=d,y?typeof y=="string"?(this.message="".concat(y).concat(b?`
 `+b:""),this.inner=b||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=Be[l]||d,this.inner=null)}return k(g).from(he),a[l]=g,a},{});Y.Syntax=SyntaxError,Y.Type=TypeError,Y.Range=RangeError;var _e=Pe.reduce(function(a,l){return a[l+"Error"]=Y[l],a},{}),Ze=_n.reduce(function(a,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(a[l+"Error"]=Y[l]),a},{});function E(){}function $(a){return a}function _(a,l){return a==null||a===$?l:function(d){return l(a(d))}}function x(a,l){return function(){a.apply(this,arguments),l.apply(this,arguments)}}function I(a,l){return a===E?l:function(){var d=a.apply(this,arguments);d!==void 0&&(arguments[0]=d);var g=this.onsuccess,y=this.onerror;this.onsuccess=null,this.onerror=null;var b=l.apply(this,arguments);return g&&(this.onsuccess=this.onsuccess?x(g,this.onsuccess):g),y&&(this.onerror=this.onerror?x(y,this.onerror):y),b!==void 0?b:d}}function S(a,l){return a===E?l:function(){a.apply(this,arguments);var d=this.onsuccess,g=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?x(d,this.onsuccess):d),g&&(this.onerror=this.onerror?x(g,this.onerror):g)}}function j(a,l){return a===E?l:function(d){var g=a.apply(this,arguments);c(d,g);var y=this.onsuccess,b=this.onerror;return this.onsuccess=null,this.onerror=null,d=l.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?x(y,this.onsuccess):y),b&&(this.onerror=this.onerror?x(b,this.onerror):b),g===void 0?d===void 0?void 0:d:c(g,d)}}function ee(a,l){return a===E?l:function(){return l.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function J(a,l){return a===E?l:function(){var d=a.apply(this,arguments);if(d&&typeof d.then=="function"){for(var g=this,y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];return d.then(function(){return l.apply(g,b)})}return l.apply(this,arguments)}}Ze.ModifyError=Fe,Ze.DexieError=Ue,Ze.BulkError=$e;var W=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function de(a){W=a}var le={},we=100,Ge=typeof Promise>"u"?[]:(function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,f(a),a];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,f(l),a]})(),Pe=Ge[0],_n=Ge[1],Ge=Ge[2],_n=_n&&_n.then,et=Pe&&Pe.constructor,ot=!!Ge,Pt=function(a,l){hr.push([a,l]),nn&&(queueMicrotask(nv),nn=!1)},Vt=!0,nn=!0,Lt=[],Nn=[],oo=$,Tt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:E,pgp:!1,env:{},finalize:E},je=Tt,hr=[],$n=0,Ki=[];function De(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=je;if(typeof a!="function"){if(a!==le)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ru(this,this._value))}this._state=null,this._value=null,++l.ref,(function d(g,y){try{y(function(b){if(g._state===null){if(b===g)throw new TypeError("A promise cannot be resolved with itself.");var T=g._lib&&io();b&&typeof b.then=="function"?d(g,function(M,R){b instanceof De?b._then(M,R):b.then(M,R)}):(g._state=!0,g._value=b,Bc(g)),T&&so()}},ru.bind(null,g))}catch(b){ru(g,b)}})(this,a)}var nu={get:function(){var a=je,l=Wi;function d(g,y){var b=this,T=!a.global&&(a!==je||l!==Wi),M=T&&!gr(),R=new De(function(B,L){ou(b,new zc(jc(g,a,T,M),jc(y,a,T,M),B,L,a))});return this._consoleTask&&(R._consoleTask=this._consoleTask),R}return d.prototype=le,d},set:function(a){w(this,"then",a&&a.prototype===le?nu:{get:function(){return a},set:nu.set})}};function zc(a,l,d,g,y){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof l=="function"?l:null,this.resolve=d,this.reject=g,this.psd=y}function ru(a,l){var d,g;Nn.push(l),a._state===null&&(d=a._lib&&io(),l=oo(l),a._state=!1,a._value=l,g=a,Lt.some(function(y){return y._value===g._value})||Lt.push(g),Bc(a),d&&so())}function Bc(a){var l=a._listeners;a._listeners=[];for(var d=0,g=l.length;d<g;++d)ou(a,l[d]);var y=a._PSD;--y.ref||y.finalize(),$n===0&&(++$n,Pt(function(){--$n==0&&iu()},[]))}function ou(a,l){if(a._state!==null){var d=a._state?l.onFulfilled:l.onRejected;if(d===null)return(a._state?l.resolve:l.reject)(a._value);++l.psd.ref,++$n,Pt(tv,[d,a,l])}else a._listeners.push(l)}function tv(a,l,d){try{var g,y=l._value;!l._state&&Nn.length&&(Nn=[]),g=W&&l._consoleTask?l._consoleTask.run(function(){return a(y)}):a(y),l._state||Nn.indexOf(y)!==-1||(function(b){for(var T=Lt.length;T;)if(Lt[--T]._value===b._value)return Lt.splice(T,1)})(l),d.resolve(g)}catch(b){d.reject(b)}finally{--$n==0&&iu(),--d.psd.ref||d.psd.finalize()}}function nv(){Mr(Tt,function(){io()&&so()})}function io(){var a=Vt;return nn=Vt=!1,a}function so(){var a,l,d;do for(;0<hr.length;)for(a=hr,hr=[],d=a.length,l=0;l<d;++l){var g=a[l];g[0].apply(null,g[1])}while(0<hr.length);nn=Vt=!0}function iu(){var a=Lt;Lt=[],a.forEach(function(g){g._PSD.onunhandled.call(null,g._value,g)});for(var l=Ki.slice(0),d=l.length;d;)l[--d]()}function Ui(a){return new De(le,!1,a)}function Et(a,l){var d=je;return function(){var g=io(),y=je;try{return mr(d,!0),a.apply(this,arguments)}catch(b){l&&l(b)}finally{mr(y,!1),g&&so()}}}v(De.prototype,{then:nu,_then:function(a,l){ou(this,new zc(null,null,a,l,je))},catch:function(a){if(arguments.length===1)return this.then(null,a);var l=a,d=arguments[1];return typeof l=="function"?this.then(null,function(g){return(g instanceof l?d:Ui)(g)}):this.then(null,function(g){return(g&&g.name===l?d:Ui)(g)})},finally:function(a){return this.then(function(l){return De.resolve(a()).then(function(){return l})},function(l){return De.resolve(a()).then(function(){return Ui(l)})})},timeout:function(a,l){var d=this;return a<1/0?new De(function(g,y){var b=setTimeout(function(){return y(new Y.Timeout(l))},a);d.then(g,y).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(De.prototype,Symbol.toStringTag,"Dexie.Promise"),Tt.env=Fc(),v(De,{all:function(){var a=be.apply(null,arguments).map(Yi);return new De(function(l,d){a.length===0&&l([]);var g=a.length;a.forEach(function(y,b){return De.resolve(y).then(function(T){a[b]=T,--g||l(a)},d)})})},resolve:function(a){return a instanceof De?a:a&&typeof a.then=="function"?new De(function(l,d){a.then(l,d)}):new De(le,!0,a)},reject:Ui,race:function(){var a=be.apply(null,arguments).map(Yi);return new De(function(l,d){a.map(function(g){return De.resolve(g).then(l,d)})})},PSD:{get:function(){return je},set:function(a){return je=a}},totalEchoes:{get:function(){return Wi}},newPSD:pr,usePSD:Mr,scheduler:{get:function(){return Pt},set:function(a){Pt=a}},rejectionMapper:{get:function(){return oo},set:function(a){oo=a}},follow:function(a,l){return new De(function(d,g){return pr(function(y,b){var T=je;T.unhandleds=[],T.onunhandled=b,T.finalize=x(function(){var M,R=this;M=function(){R.unhandleds.length===0?y():b(R.unhandleds[0])},Ki.push(function B(){M(),Ki.splice(Ki.indexOf(B),1)}),++$n,Pt(function(){--$n==0&&iu()},[])},T.finalize),a()},l,d,g)})}}),et&&(et.allSettled&&w(De,"allSettled",function(){var a=be.apply(null,arguments).map(Yi);return new De(function(l){a.length===0&&l([]);var d=a.length,g=new Array(d);a.forEach(function(y,b){return De.resolve(y).then(function(T){return g[b]={status:"fulfilled",value:T}},function(T){return g[b]={status:"rejected",reason:T}}).then(function(){return--d||l(g)})})})}),et.any&&typeof AggregateError<"u"&&w(De,"any",function(){var a=be.apply(null,arguments).map(Yi);return new De(function(l,d){a.length===0&&d(new AggregateError([]));var g=a.length,y=new Array(g);a.forEach(function(b,T){return De.resolve(b).then(function(M){return l(M)},function(M){y[T]=M,--g||d(new AggregateError(y))})})})}),et.withResolvers&&(De.withResolvers=et.withResolvers));var Zt={awaits:0,echoes:0,id:0},rv=0,qi=[],Gi=0,Wi=0,ov=0;function pr(a,l,d,g){var y=je,b=Object.create(y);return b.parent=y,b.ref=0,b.global=!1,b.id=++ov,Tt.env,b.env=ot?{Promise:De,PromiseProp:{value:De,configurable:!0,writable:!0},all:De.all,race:De.race,allSettled:De.allSettled,any:De.any,resolve:De.resolve,reject:De.reject}:{},l&&c(b,l),++y.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},g=Mr(b,a,d,g),b.ref===0&&b.finalize(),g}function ao(){return Zt.id||(Zt.id=++rv),++Zt.awaits,Zt.echoes+=we,Zt.id}function gr(){return!!Zt.awaits&&(--Zt.awaits==0&&(Zt.id=0),Zt.echoes=Zt.awaits*we,!0)}function Yi(a){return Zt.echoes&&a&&a.constructor===et?(ao(),a.then(function(l){return gr(),l},function(l){return gr(),At(l)})):a}function iv(){var a=qi[qi.length-1];qi.pop(),mr(a,!1)}function mr(a,l){var d,g=je;(l?!Zt.echoes||Gi++&&a===je:!Gi||--Gi&&a===je)||queueMicrotask(l?(function(y){++Wi,Zt.echoes&&--Zt.echoes!=0||(Zt.echoes=Zt.awaits=Zt.id=0),qi.push(je),mr(y,!0)}).bind(null,a):iv),a!==je&&(je=a,g===Tt&&(Tt.env=Fc()),ot&&(d=Tt.env.Promise,l=a.env,(g.global||a.global)&&(Object.defineProperty(i,"Promise",l.PromiseProp),d.all=l.all,d.race=l.race,d.resolve=l.resolve,d.reject=l.reject,l.allSettled&&(d.allSettled=l.allSettled),l.any&&(d.any=l.any))))}function Fc(){var a=i.Promise;return ot?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function Mr(a,l,d,g,y){var b=je;try{return mr(a,!0),l(d,g,y)}finally{mr(b,!1)}}function jc(a,l,d,g){return typeof a!="function"?a:function(){var y=je;d&&ao(),mr(l,!0);try{return a.apply(this,arguments)}finally{mr(y,!1),g&&queueMicrotask(gr)}}}function su(a){Promise===et&&Zt.echoes===0?Gi===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+_n).indexOf("[native code]")===-1&&(ao=gr=E);var At=De.reject,Dr="￿",Wn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Hc="String expected.",uo=[],Xi="__dbnames",au="readonly",uu="readwrite";function Rr(a,l){return a?l?function(){return a.apply(this,arguments)&&l.apply(this,arguments)}:a:l}var Vc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ji(a){return typeof a!="string"||/\./.test(a)?function(l){return l}:function(l){return l[a]===void 0&&a in l&&delete(l=ke(l))[a],l}}function Lc(){throw Y.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function it(a,l){try{var d=Zc(a),g=Zc(l);if(d!==g)return d==="Array"?1:g==="Array"?-1:d==="binary"?1:g==="binary"?-1:d==="string"?1:g==="string"?-1:d==="Date"?1:g!=="Date"?NaN:-1;switch(d){case"number":case"Date":case"string":return l<a?1:a<l?-1:0;case"binary":return(function(y,b){for(var T=y.length,M=b.length,R=T<M?T:M,B=0;B<R;++B)if(y[B]!==b[B])return y[B]<b[B]?-1:1;return T===M?0:T<M?-1:1})(Kc(a),Kc(l));case"Array":return(function(y,b){for(var T=y.length,M=b.length,R=T<M?T:M,B=0;B<R;++B){var L=it(y[B],b[B]);if(L!==0)return L}return T===M?0:T<M?-1:1})(a,l)}}catch{}return NaN}function Zc(a){var l=typeof a;return l!="object"?l:ArrayBuffer.isView(a)?"binary":(a=ce(a),a==="ArrayBuffer"?"binary":a)}function Kc(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}function Qi(a,l,d){var g=a.schema.yProps;return g?(l&&0<d.numFailures&&(l=l.filter(function(y,b){return!d.failures[b]})),Promise.all(g.map(function(y){return y=y.updatesTable,l?a.db.table(y).where("k").anyOf(l).delete():a.db.table(y).clear()})).then(function(){return d})):d}var Uc=(xt.prototype._trans=function(a,l,d){var g=this._tx||je.trans,y=this.name,b=W&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function T(B,L,D){if(!D.schema[y])throw new Y.NotFound("Table "+y+" not part of transaction");return l(D.idbtrans,D)}var M=io();try{var R=g&&g.db._novip===this.db._novip?g===je.trans?g._promise(a,T,d):pr(function(){return g._promise(a,T,d)},{trans:g,transless:je.transless||je}):(function B(L,D,q,z){if(L.idbdb&&(L._state.openComplete||je.letThrough||L._vip)){var H=L._createTransaction(D,q,L._dbSchema);try{H.create(),L._state.PR1398_maxLoop=3}catch(K){return K.name===X.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return B(L,D,q,z)})):At(K)}return H._promise(D,function(K,Z){return pr(function(){return je.trans=H,z(K,Z,H)})}).then(function(K){if(D==="readwrite")try{H.idbtrans.commit()}catch{}return D==="readonly"?K:H._completion.then(function(){return K})})}if(L._state.openComplete)return At(new Y.DatabaseClosed(L._state.dbOpenError));if(!L._state.isBeingOpened){if(!L._state.autoOpen)return At(new Y.DatabaseClosed);L.open().catch(E)}return L._state.dbReadyPromise.then(function(){return B(L,D,q,z)})})(this.db,a,[this.name],T);return b&&(R._consoleTask=b,R=R.catch(function(B){return console.trace(B),At(B)})),R}finally{M&&so()}},xt.prototype.get=function(a,l){var d=this;return a&&a.constructor===Object?this.where(a).first(l):a==null?At(new Y.Type("Invalid argument to Table.get()")):this._trans("readonly",function(g){return d.core.get({trans:g,key:a}).then(function(y){return d.hook.reading.fire(y)})}).then(l)},xt.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(u(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var l=s(a);if(l.length===1)return this.where(l[0]).equals(a[l[0]]);var d=this.schema.indexes.concat(this.schema.primKey).filter(function(M){if(M.compound&&l.every(function(B){return 0<=M.keyPath.indexOf(B)})){for(var R=0;R<l.length;++R)if(l.indexOf(M.keyPath[R])===-1)return!1;return!0}return!1}).sort(function(M,R){return M.keyPath.length-R.keyPath.length})[0];if(d&&this.db._maxKey!==Dr){var b=d.keyPath.slice(0,l.length);return this.where(b).equals(b.map(function(R){return a[R]}))}!d&&W&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var g=this.schema.idxByName;function y(M,R){return it(M,R)===0}var T=l.reduce(function(D,R){var B=D[0],L=D[1],D=g[R],q=a[R];return[B||D,B||!D?Rr(L,D&&D.multi?function(z){return z=re(z,R),u(z)&&z.some(function(H){return y(q,H)})}:function(z){return y(q,re(z,R))}):L]},[null,null]),b=T[0],T=T[1];return b?this.where(b.name).equals(a[b.keyPath]).filter(T):d?this.filter(T):this.where(l).equals("")},xt.prototype.filter=function(a){return this.toCollection().and(a)},xt.prototype.count=function(a){return this.toCollection().count(a)},xt.prototype.offset=function(a){return this.toCollection().offset(a)},xt.prototype.limit=function(a){return this.toCollection().limit(a)},xt.prototype.each=function(a){return this.toCollection().each(a)},xt.prototype.toArray=function(a){return this.toCollection().toArray(a)},xt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},xt.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,u(a)?"[".concat(a.join("+"),"]"):a))},xt.prototype.reverse=function(){return this.toCollection().reverse()},xt.prototype.mapToClass=function(a){var l,d=this.db,g=this.name;function y(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof Lc&&((function(R,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function L(){this.constructor=R}n(R,B),R.prototype=B===null?Object.create(B):(L.prototype=B.prototype,new L)})(y,l=a),Object.defineProperty(y.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),y.prototype.table=function(){return g},a=y);for(var b=new Set,T=a.prototype;T;T=f(T))Object.getOwnPropertyNames(T).forEach(function(R){return b.add(R)});function M(R){if(!R)return R;var B,L=Object.create(a.prototype);for(B in R)if(!b.has(B))try{L[B]=R[B]}catch{}return L}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=M,this.hook("reading",M),a},xt.prototype.defineClass=function(){return this.mapToClass(function(a){c(this,a)})},xt.prototype.add=function(a,l){var d=this,g=this.schema.primKey,y=g.auto,b=g.keyPath,T=a;return b&&y&&(T=Ji(b)(a)),this._trans("readwrite",function(M){return d.core.mutate({trans:M,type:"add",keys:l!=null?[l]:null,values:[T]})}).then(function(M){return M.numFailures?De.reject(M.failures[0]):M.lastResult}).then(function(M){if(b)try{ae(a,b,M)}catch{}return M})},xt.prototype.update=function(a,l){return typeof a!="object"||u(a)?this.where(":id").equals(a).modify(l):(a=re(a,this.schema.primKey.keyPath),a===void 0?At(new Y.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(l))},xt.prototype.put=function(a,l){var d=this,g=this.schema.primKey,y=g.auto,b=g.keyPath,T=a;return b&&y&&(T=Ji(b)(a)),this._trans("readwrite",function(M){return d.core.mutate({trans:M,type:"put",values:[T],keys:l!=null?[l]:null})}).then(function(M){return M.numFailures?De.reject(M.failures[0]):M.lastResult}).then(function(M){if(b)try{ae(a,b,M)}catch{}return M})},xt.prototype.delete=function(a){var l=this;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:[a]}).then(function(g){return Qi(l,[a],g)}).then(function(g){return g.numFailures?De.reject(g.failures[0]):void 0})})},xt.prototype.clear=function(){var a=this;return this._trans("readwrite",function(l){return a.core.mutate({trans:l,type:"deleteRange",range:Vc}).then(function(d){return Qi(a,null,d)})}).then(function(l){return l.numFailures?De.reject(l.failures[0]):void 0})},xt.prototype.bulkGet=function(a){var l=this;return this._trans("readonly",function(d){return l.core.getMany({keys:a,trans:d}).then(function(g){return g.map(function(y){return l.hook.reading.fire(y)})})})},xt.prototype.bulkAdd=function(a,l,d){var g=this,y=Array.isArray(l)?l:void 0,b=(d=d||(y?void 0:l))?d.allKeys:void 0;return this._trans("readwrite",function(T){var B=g.schema.primKey,M=B.auto,B=B.keyPath;if(B&&y)throw new Y.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==a.length)throw new Y.InvalidArgument("Arguments objects and keys must have the same length");var R=a.length,B=B&&M?a.map(Ji(B)):a;return g.core.mutate({trans:T,type:"add",keys:y,values:B,wantResults:b}).then(function(H){var D=H.numFailures,q=H.results,z=H.lastResult,H=H.failures;if(D===0)return b?q:z;throw new $e("".concat(g.name,".bulkAdd(): ").concat(D," of ").concat(R," operations failed"),H)})})},xt.prototype.bulkPut=function(a,l,d){var g=this,y=Array.isArray(l)?l:void 0,b=(d=d||(y?void 0:l))?d.allKeys:void 0;return this._trans("readwrite",function(T){var B=g.schema.primKey,M=B.auto,B=B.keyPath;if(B&&y)throw new Y.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==a.length)throw new Y.InvalidArgument("Arguments objects and keys must have the same length");var R=a.length,B=B&&M?a.map(Ji(B)):a;return g.core.mutate({trans:T,type:"put",keys:y,values:B,wantResults:b}).then(function(H){var D=H.numFailures,q=H.results,z=H.lastResult,H=H.failures;if(D===0)return b?q:z;throw new $e("".concat(g.name,".bulkPut(): ").concat(D," of ").concat(R," operations failed"),H)})})},xt.prototype.bulkUpdate=function(a){var l=this,d=this.core,g=a.map(function(T){return T.key}),y=a.map(function(T){return T.changes}),b=[];return this._trans("readwrite",function(T){return d.getMany({trans:T,keys:g,cache:"clone"}).then(function(M){var R=[],B=[];a.forEach(function(D,q){var z=D.key,H=D.changes,K=M[q];if(K){for(var Z=0,G=Object.keys(H);Z<G.length;Z++){var te=G[Z],oe=H[te];if(te===l.schema.primKey.keyPath){if(it(oe,z)!==0)throw new Y.Constraint("Cannot update primary key in bulkUpdate()")}else ae(K,te,oe)}b.push(q),R.push(z),B.push(K)}});var L=R.length;return d.mutate({trans:T,type:"put",keys:R,values:B,updates:{keys:g,changeSpecs:y}}).then(function(D){var q=D.numFailures,z=D.failures;if(q===0)return L;for(var H=0,K=Object.keys(z);H<K.length;H++){var Z,G=K[H],te=b[Number(G)];te!=null&&(Z=z[G],delete z[G],z[te]=Z)}throw new $e("".concat(l.name,".bulkUpdate(): ").concat(q," of ").concat(L," operations failed"),z)})})})},xt.prototype.bulkDelete=function(a){var l=this,d=a.length;return this._trans("readwrite",function(g){return l.core.mutate({trans:g,type:"delete",keys:a}).then(function(y){return Qi(l,a,y)})}).then(function(T){var y=T.numFailures,b=T.lastResult,T=T.failures;if(y===0)return b;throw new $e("".concat(l.name,".bulkDelete(): ").concat(y," of ").concat(d," operations failed"),T)})},xt);function xt(){}function Vo(a){function l(T,M){if(M){for(var R=arguments.length,B=new Array(R-1);--R;)B[R-1]=arguments[R];return d[T].subscribe.apply(null,B),a}if(typeof T=="string")return d[T]}var d={};l.addEventType=b;for(var g=1,y=arguments.length;g<y;++g)b(arguments[g]);return l;function b(T,M,R){if(typeof T!="object"){var B;M=M||ee;var L={subscribers:[],fire:R=R||E,subscribe:function(D){L.subscribers.indexOf(D)===-1&&(L.subscribers.push(D),L.fire=M(L.fire,D))},unsubscribe:function(D){L.subscribers=L.subscribers.filter(function(q){return q!==D}),L.fire=L.subscribers.reduce(M,R)}};return d[T]=l[T]=L}s(B=T).forEach(function(D){var q=B[D];if(u(q))b(D,B[D][0],B[D][1]);else{if(q!=="asap")throw new Y.InvalidArgument("Invalid event config");var z=b(D,$,function(){for(var H=arguments.length,K=new Array(H);H--;)K[H]=arguments[H];z.subscribers.forEach(function(Z){Q(function(){Z.apply(null,K)})})})}})}}function Lo(a,l){return k(l).from({prototype:a}),l}function lo(a,l){return!(a.filter||a.algorithm||a.or)&&(l?a.justLimit:!a.replayFilter)}function lu(a,l){a.filter=Rr(a.filter,l)}function cu(a,l,d){var g=a.replayFilter;a.replayFilter=g?function(){return Rr(g(),l())}:l,a.justLimit=d&&!g}function es(a,l){if(a.isPrimKey)return l.primaryKey;var d=l.getIndexByKeyPath(a.index);if(!d)throw new Y.Schema("KeyPath "+a.index+" on object store "+l.name+" is not indexed");return d}function qc(a,l,d){var g=es(a,l.schema);return l.openCursor({trans:d,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:g,range:a.range}})}function ts(a,l,d,g){var y=a.replayFilter?Rr(a.filter,a.replayFilter()):a.filter;if(a.or){var b={},T=function(M,R,B){var L,D;y&&!y(R,B,function(q){return R.stop(q)},function(q){return R.fail(q)})||((D=""+(L=R.primaryKey))=="[object ArrayBuffer]"&&(D=""+new Uint8Array(L)),p(b,D)||(b[D]=!0,l(M,R,B)))};return Promise.all([a.or._iterate(T,d),Gc(qc(a,g,d),a.algorithm,T,!a.keysOnly&&a.valueMapper)])}return Gc(qc(a,g,d),Rr(a.algorithm,y),l,!a.keysOnly&&a.valueMapper)}function Gc(a,l,d,g){var y=Et(g?function(b,T,M){return d(g(b),T,M)}:d);return a.then(function(b){if(b)return b.start(function(){var T=function(){return b.continue()};l&&!l(b,function(M){return T=M},function(M){b.stop(M),T=E},function(M){b.fail(M),T=E})||y(b.value,b,function(M){return T=M}),T()})})}var Zo=(Wc.prototype.execute=function(a){var l=this["@@propmod"];if(l.add!==void 0){var d=l.add;if(u(d))return o(o([],u(a)?a:[],!0),d).sort();if(typeof d=="number")return(Number(a)||0)+d;if(typeof d=="bigint")try{return BigInt(a)+d}catch{return BigInt(0)+d}throw new TypeError("Invalid term ".concat(d))}if(l.remove!==void 0){var g=l.remove;if(u(g))return u(a)?a.filter(function(y){return!g.includes(y)}).sort():[];if(typeof g=="number")return Number(a)-g;if(typeof g=="bigint")try{return BigInt(a)-g}catch{return BigInt(0)-g}throw new TypeError("Invalid subtrahend ".concat(g))}return d=(d=l.replacePrefix)===null||d===void 0?void 0:d[0],d&&typeof a=="string"&&a.startsWith(d)?l.replacePrefix[1]+a.substring(d.length):a},Wc);function Wc(a){this["@@propmod"]=a}var sv=(ct.prototype._read=function(a,l){var d=this._ctx;return d.error?d.table._trans(null,At.bind(null,d.error)):d.table._trans("readonly",a).then(l)},ct.prototype._write=function(a){var l=this._ctx;return l.error?l.table._trans(null,At.bind(null,l.error)):l.table._trans("readwrite",a,"locked")},ct.prototype._addAlgorithm=function(a){var l=this._ctx;l.algorithm=Rr(l.algorithm,a)},ct.prototype._iterate=function(a,l){return ts(this._ctx,a,l,this._ctx.table.core)},ct.prototype.clone=function(a){var l=Object.create(this.constructor.prototype),d=Object.create(this._ctx);return a&&c(d,a),l._ctx=d,l},ct.prototype.raw=function(){return this._ctx.valueMapper=null,this},ct.prototype.each=function(a){var l=this._ctx;return this._read(function(d){return ts(l,a,d,l.table.core)})},ct.prototype.count=function(a){var l=this;return this._read(function(d){var g=l._ctx,y=g.table.core;if(lo(g,!0))return y.count({trans:d,query:{index:es(g,y.schema),range:g.range}}).then(function(T){return Math.min(T,g.limit)});var b=0;return ts(g,function(){return++b,!1},d,y).then(function(){return b})}).then(a)},ct.prototype.sortBy=function(a,l){var d=a.split(".").reverse(),g=d[0],y=d.length-1;function b(R,B){return B?b(R[d[B]],B-1):R[g]}var T=this._ctx.dir==="next"?1:-1;function M(R,B){return it(b(R,y),b(B,y))*T}return this.toArray(function(R){return R.sort(M)}).then(l)},ct.prototype.toArray=function(a){var l=this;return this._read(function(d){var g=l._ctx;if(g.dir==="next"&&lo(g,!0)&&0<g.limit){var y=g.valueMapper,b=es(g,g.table.core.schema);return g.table.core.query({trans:d,limit:g.limit,values:!0,query:{index:b,range:g.range}}).then(function(M){return M=M.result,y?M.map(y):M})}var T=[];return ts(g,function(M){return T.push(M)},d,g.table.core).then(function(){return T})},a)},ct.prototype.offset=function(a){var l=this._ctx;return a<=0||(l.offset+=a,lo(l)?cu(l,function(){var d=a;return function(g,y){return d===0||(d===1?--d:y(function(){g.advance(d),d=0}),!1)}}):cu(l,function(){var d=a;return function(){return--d<0}})),this},ct.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),cu(this._ctx,function(){var l=a;return function(d,g,y){return--l<=0&&g(y),0<=l}},!0),this},ct.prototype.until=function(a,l){return lu(this._ctx,function(d,g,y){return!a(d.value)||(g(y),l)}),this},ct.prototype.first=function(a){return this.limit(1).toArray(function(l){return l[0]}).then(a)},ct.prototype.last=function(a){return this.reverse().first(a)},ct.prototype.filter=function(a){var l;return lu(this._ctx,function(d){return a(d.value)}),(l=this._ctx).isMatch=Rr(l.isMatch,a),this},ct.prototype.and=function(a){return this.filter(a)},ct.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},ct.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ct.prototype.desc=function(){return this.reverse()},ct.prototype.eachKey=function(a){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(d,g){a(g.key,g)})},ct.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},ct.prototype.eachPrimaryKey=function(a){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(d,g){a(g.primaryKey,g)})},ct.prototype.keys=function(a){var l=this._ctx;l.keysOnly=!l.isMatch;var d=[];return this.each(function(g,y){d.push(y.key)}).then(function(){return d}).then(a)},ct.prototype.primaryKeys=function(a){var l=this._ctx;if(l.dir==="next"&&lo(l,!0)&&0<l.limit)return this._read(function(g){var y=es(l,l.table.core.schema);return l.table.core.query({trans:g,values:!1,limit:l.limit,query:{index:y,range:l.range}})}).then(function(g){return g.result}).then(a);l.keysOnly=!l.isMatch;var d=[];return this.each(function(g,y){d.push(y.primaryKey)}).then(function(){return d}).then(a)},ct.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},ct.prototype.firstKey=function(a){return this.limit(1).keys(function(l){return l[0]}).then(a)},ct.prototype.lastKey=function(a){return this.reverse().firstKey(a)},ct.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var l={};return lu(this._ctx,function(y){var g=y.primaryKey.toString(),y=p(l,g);return l[g]=!0,!y}),this},ct.prototype.modify=function(a){var l=this,d=this._ctx;return this._write(function(g){var y,b,T;T=typeof a=="function"?a:(y=s(a),b=y.length,function(G){for(var te=!1,oe=0;oe<b;++oe){var ie=y[oe],ye=a[ie],Ie=re(G,ie);ye instanceof Zo?(ae(G,ie,ye.execute(Ie)),te=!0):Ie!==ye&&(ae(G,ie,ye),te=!0)}return te});var M=d.table.core,D=M.schema.primaryKey,R=D.outbound,B=D.extractKey,L=200,D=l.db._options.modifyChunkSize;D&&(L=typeof D=="object"?D[M.name]||D["*"]||200:D);function q(G,ie){var oe=ie.failures,ie=ie.numFailures;H+=G-ie;for(var ye=0,Ie=s(oe);ye<Ie.length;ye++){var xe=Ie[ye];z.push(oe[xe])}}var z=[],H=0,K=[],Z=a===Yc;return l.clone().primaryKeys().then(function(G){function te(ie){var ye=Math.min(L,G.length-ie),Ie=G.slice(ie,ie+ye);return(Z?Promise.resolve([]):M.getMany({trans:g,keys:Ie,cache:"immutable"})).then(function(xe){var Ee=[],Me=[],Ae=R?[]:null,Re=Z?Ie:[];if(!Z)for(var Qe=0;Qe<ye;++Qe){var at=xe[Qe],Je={value:ke(at),primKey:G[ie+Qe]};T.call(Je,Je.value,Je)!==!1&&(Je.value==null?Re.push(G[ie+Qe]):R||it(B(at),B(Je.value))===0?(Me.push(Je.value),R&&Ae.push(G[ie+Qe])):(Re.push(G[ie+Qe]),Ee.push(Je.value)))}return Promise.resolve(0<Ee.length&&M.mutate({trans:g,type:"add",values:Ee}).then(function(Nt){for(var Ye in Nt.failures)Re.splice(parseInt(Ye),1);q(Ee.length,Nt)})).then(function(){return(0<Me.length||oe&&typeof a=="object")&&M.mutate({trans:g,type:"put",keys:Ae,values:Me,criteria:oe,changeSpec:typeof a!="function"&&a,isAdditionalChunk:0<ie}).then(function(Nt){return q(Me.length,Nt)})}).then(function(){return(0<Re.length||oe&&Z)&&M.mutate({trans:g,type:"delete",keys:Re,criteria:oe,isAdditionalChunk:0<ie}).then(function(Nt){return Qi(d.table,Re,Nt)}).then(function(Nt){return q(Re.length,Nt)})}).then(function(){return G.length>ie+ye&&te(ie+L)})})}var oe=lo(d)&&d.limit===1/0&&(typeof a!="function"||Z)&&{index:d.index,range:d.range};return te(0).then(function(){if(0<z.length)throw new Fe("Error modifying one or more objects",z,H,K);return G.length})})})},ct.prototype.delete=function(){var a=this._ctx,l=a.range;return!lo(a)||a.table.schema.yProps||!a.isPrimKey&&l.type!==3?this.modify(Yc):this._write(function(d){var g=a.table.core.schema.primaryKey,y=l;return a.table.core.count({trans:d,query:{index:g,range:y}}).then(function(b){return a.table.core.mutate({trans:d,type:"deleteRange",range:y}).then(function(R){var M=R.failures,R=R.numFailures;if(R)throw new Fe("Could not delete some values",Object.keys(M).map(function(B){return M[B]}),b-R);return b-R})})})},ct);function ct(){}var Yc=function(a,l){return l.value=null};function av(a,l){return a<l?-1:a===l?0:1}function uv(a,l){return l<a?-1:a===l?0:1}function pn(a,l,d){return a=a instanceof Jc?new a.Collection(a):a,a._ctx.error=new(d||TypeError)(l),a}function co(a){return new a.Collection(a,function(){return Xc("")}).limit(0)}function ns(a,l,d,g){var y,b,T,M,R,B,L,D=d.length;if(!d.every(function(H){return typeof H=="string"}))return pn(a,Hc);function q(H){y=H==="next"?function(Z){return Z.toUpperCase()}:function(Z){return Z.toLowerCase()},b=H==="next"?function(Z){return Z.toLowerCase()}:function(Z){return Z.toUpperCase()},T=H==="next"?av:uv;var K=d.map(function(Z){return{lower:b(Z),upper:y(Z)}}).sort(function(Z,G){return T(Z.lower,G.lower)});M=K.map(function(Z){return Z.upper}),R=K.map(function(Z){return Z.lower}),L=(B=H)==="next"?"":g}q("next"),a=new a.Collection(a,function(){return vr(M[0],R[D-1]+g)}),a._ondirectionchange=function(H){q(H)};var z=0;return a._addAlgorithm(function(H,K,Z){var G=H.key;if(typeof G!="string")return!1;var te=b(G);if(l(te,R,z))return!0;for(var oe=null,ie=z;ie<D;++ie){var ye=(function(Ie,xe,Ee,Me,Ae,Re){for(var Qe=Math.min(Ie.length,Me.length),at=-1,Je=0;Je<Qe;++Je){var Nt=xe[Je];if(Nt!==Me[Je])return Ae(Ie[Je],Ee[Je])<0?Ie.substr(0,Je)+Ee[Je]+Ee.substr(Je+1):Ae(Ie[Je],Me[Je])<0?Ie.substr(0,Je)+Me[Je]+Ee.substr(Je+1):0<=at?Ie.substr(0,at)+xe[at]+Ee.substr(at+1):null;Ae(Ie[Je],Nt)<0&&(at=Je)}return Qe<Me.length&&Re==="next"?Ie+Ee.substr(Ie.length):Qe<Ie.length&&Re==="prev"?Ie.substr(0,Ee.length):at<0?null:Ie.substr(0,at)+Me[at]+Ee.substr(at+1)})(G,te,M[ie],R[ie],T,B);ye===null&&oe===null?z=ie+1:(oe===null||0<T(oe,ye))&&(oe=ye)}return K(oe!==null?function(){H.continue(oe+L)}:Z),!1}),a}function vr(a,l,d,g){return{type:2,lower:a,upper:l,lowerOpen:d,upperOpen:g}}function Xc(a){return{type:1,lower:a,upper:a}}var Jc=(Object.defineProperty(Kt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Kt.prototype.between=function(a,l,d,g){d=d!==!1,g=g===!0;try{return 0<this._cmp(a,l)||this._cmp(a,l)===0&&(d||g)&&(!d||!g)?co(this):new this.Collection(this,function(){return vr(a,l,!d,!g)})}catch{return pn(this,Wn)}},Kt.prototype.equals=function(a){return a==null?pn(this,Wn):new this.Collection(this,function(){return Xc(a)})},Kt.prototype.above=function(a){return a==null?pn(this,Wn):new this.Collection(this,function(){return vr(a,void 0,!0)})},Kt.prototype.aboveOrEqual=function(a){return a==null?pn(this,Wn):new this.Collection(this,function(){return vr(a,void 0,!1)})},Kt.prototype.below=function(a){return a==null?pn(this,Wn):new this.Collection(this,function(){return vr(void 0,a,!1,!0)})},Kt.prototype.belowOrEqual=function(a){return a==null?pn(this,Wn):new this.Collection(this,function(){return vr(void 0,a)})},Kt.prototype.startsWith=function(a){return typeof a!="string"?pn(this,Hc):this.between(a,a+Dr,!0,!0)},Kt.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):ns(this,function(l,d){return l.indexOf(d[0])===0},[a],Dr)},Kt.prototype.equalsIgnoreCase=function(a){return ns(this,function(l,d){return l===d[0]},[a],"")},Kt.prototype.anyOfIgnoreCase=function(){var a=be.apply(Se,arguments);return a.length===0?co(this):ns(this,function(l,d){return d.indexOf(l)!==-1},a,"")},Kt.prototype.startsWithAnyOfIgnoreCase=function(){var a=be.apply(Se,arguments);return a.length===0?co(this):ns(this,function(l,d){return d.some(function(g){return l.indexOf(g)===0})},a,Dr)},Kt.prototype.anyOf=function(){var a=this,l=be.apply(Se,arguments),d=this._cmp;try{l.sort(d)}catch{return pn(this,Wn)}if(l.length===0)return co(this);var g=new this.Collection(this,function(){return vr(l[0],l[l.length-1])});g._ondirectionchange=function(b){d=b==="next"?a._ascending:a._descending,l.sort(d)};var y=0;return g._addAlgorithm(function(b,T,M){for(var R=b.key;0<d(R,l[y]);)if(++y===l.length)return T(M),!1;return d(R,l[y])===0||(T(function(){b.continue(l[y])}),!1)}),g},Kt.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Kt.prototype.noneOf=function(){var a=be.apply(Se,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return pn(this,Wn)}var l=a.reduce(function(d,g){return d?d.concat([[d[d.length-1][1],g]]):[[-1/0,g]]},null);return l.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},Kt.prototype.inAnyRange=function(G,l){var d=this,g=this._cmp,y=this._ascending,b=this._descending,T=this._min,M=this._max;if(G.length===0)return co(this);if(!G.every(function(te){return te[0]!==void 0&&te[1]!==void 0&&y(te[0],te[1])<=0}))return pn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Y.InvalidArgument);var R=!l||l.includeLowers!==!1,B=l&&l.includeUppers===!0,L,D=y;function q(te,oe){return D(te[0],oe[0])}try{(L=G.reduce(function(te,oe){for(var ie=0,ye=te.length;ie<ye;++ie){var Ie=te[ie];if(g(oe[0],Ie[1])<0&&0<g(oe[1],Ie[0])){Ie[0]=T(Ie[0],oe[0]),Ie[1]=M(Ie[1],oe[1]);break}}return ie===ye&&te.push(oe),te},[])).sort(q)}catch{return pn(this,Wn)}var z=0,H=B?function(te){return 0<y(te,L[z][1])}:function(te){return 0<=y(te,L[z][1])},K=R?function(te){return 0<b(te,L[z][0])}:function(te){return 0<=b(te,L[z][0])},Z=H,G=new this.Collection(this,function(){return vr(L[0][0],L[L.length-1][1],!R,!B)});return G._ondirectionchange=function(te){D=te==="next"?(Z=H,y):(Z=K,b),L.sort(q)},G._addAlgorithm(function(te,oe,ie){for(var ye,Ie=te.key;Z(Ie);)if(++z===L.length)return oe(ie),!1;return!H(ye=Ie)&&!K(ye)||(d._cmp(Ie,L[z][1])===0||d._cmp(Ie,L[z][0])===0||oe(function(){D===y?te.continue(L[z][0]):te.continue(L[z][1])}),!1)}),G},Kt.prototype.startsWithAnyOf=function(){var a=be.apply(Se,arguments);return a.every(function(l){return typeof l=="string"})?a.length===0?co(this):this.inAnyRange(a.map(function(l){return[l,l+Dr]})):pn(this,"startsWithAnyOf() only works with strings")},Kt);function Kt(){}function On(a){return Et(function(l){return Ko(l),a(l.target.error),!1})}function Ko(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var Uo="storagemutated",fu="x-storagemutated-1",yr=Vo(null,Uo),lv=(An.prototype._lock=function(){return P(!je.global),++this._reculock,this._reculock!==1||je.global||(je.lockOwnerFor=this),this},An.prototype._unlock=function(){if(P(!je.global),--this._reculock==0)for(je.global||(je.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{Mr(a[1],a[0])}catch{}}return this},An.prototype._locked=function(){return this._reculock&&je.lockOwnerFor!==this},An.prototype.create=function(a){var l=this;if(!this.mode)return this;var d=this.db.idbdb,g=this.db._state.dbOpenError;if(P(!this.idbtrans),!a&&!d)switch(g&&g.name){case"DatabaseClosedError":throw new Y.DatabaseClosed(g);case"MissingAPIError":throw new Y.MissingAPI(g.message,g);default:throw new Y.OpenFailed(g)}if(!this.active)throw new Y.TransactionInactive;return P(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||d).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Et(function(y){Ko(y),l._reject(a.error)}),a.onabort=Et(function(y){Ko(y),l.active&&l._reject(new Y.Abort(a.error)),l.active=!1,l.on("abort").fire(y)}),a.oncomplete=Et(function(){l.active=!1,l._resolve(),"mutatedParts"in a&&yr.storagemutated.fire(a.mutatedParts)}),this},An.prototype._promise=function(a,l,d){var g=this;if(a==="readwrite"&&this.mode!=="readwrite")return At(new Y.ReadOnly("Transaction is readonly"));if(!this.active)return At(new Y.TransactionInactive);if(this._locked())return new De(function(b,T){g._blockedFuncs.push([function(){g._promise(a,l,d).then(b,T)},je])});if(d)return pr(function(){var b=new De(function(T,M){g._lock();var R=l(T,M,g);R&&R.then&&R.then(T,M)});return b.finally(function(){return g._unlock()}),b._lib=!0,b});var y=new De(function(b,T){var M=l(b,T,g);M&&M.then&&M.then(b,T)});return y._lib=!0,y},An.prototype._root=function(){return this.parent?this.parent._root():this},An.prototype.waitFor=function(a){var l,d=this._root(),g=De.resolve(a);d._waitingFor?d._waitingFor=d._waitingFor.then(function(){return g}):(d._waitingFor=g,d._waitingQueue=[],l=d.idbtrans.objectStore(d.storeNames[0]),(function b(){for(++d._spinCount;d._waitingQueue.length;)d._waitingQueue.shift()();d._waitingFor&&(l.get(-1/0).onsuccess=b)})());var y=d._waitingFor;return new De(function(b,T){g.then(function(M){return d._waitingQueue.push(Et(b.bind(null,M)))},function(M){return d._waitingQueue.push(Et(T.bind(null,M)))}).finally(function(){d._waitingFor===y&&(d._waitingFor=null)})})},An.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Y.Abort))},An.prototype.table=function(a){var l=this._memoizedTables||(this._memoizedTables={});if(p(l,a))return l[a];var d=this.schema[a];if(!d)throw new Y.NotFound("Table "+a+" not part of transaction");return d=new this.db.Table(a,d,this),d.core=this.db.core.table(a),l[a]=d},An);function An(){}function du(a,l,d,g,y,b,T,M){return{name:a,keyPath:l,unique:d,multi:g,auto:y,compound:b,src:(d&&!T?"&":"")+(g?"*":"")+(y?"++":"")+Qc(l),type:M}}function Qc(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function hu(a,l,d){return{name:a,primKey:l,indexes:d,mappedClass:null,idxByName:(g=function(y){return[y.name,y]},d.reduce(function(y,b,T){return T=g(b,T),T&&(y[T[0]]=T[1]),y},{}))};var g}var qo=function(a){try{return a.only([[]]),qo=function(){return[[]]},[[]]}catch{return qo=function(){return Dr},Dr}};function pu(a){return a==null?function(){}:typeof a=="string"?(l=a).split(".").length===1?function(d){return d[l]}:function(d){return re(d,l)}:function(d){return re(d,a)};var l}function ef(a){return[].slice.call(a)}var cv=0;function Go(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function fv(a,l,R){function g(Z){if(Z.type===3)return null;if(Z.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var z=Z.lower,H=Z.upper,K=Z.lowerOpen,Z=Z.upperOpen;return z===void 0?H===void 0?null:l.upperBound(H,!!Z):H===void 0?l.lowerBound(z,!!K):l.bound(z,H,!!K,!!Z)}function y(q){var z,H=q.name;return{name:H,schema:q,mutate:function(K){var Z=K.trans,G=K.type,te=K.keys,oe=K.values,ie=K.range;return new Promise(function(ye,Ie){ye=Et(ye);var xe=Z.objectStore(H),Ee=xe.keyPath==null,Me=G==="put"||G==="add";if(!Me&&G!=="delete"&&G!=="deleteRange")throw new Error("Invalid operation type: "+G);var Ae,Re=(te||oe||{length:1}).length;if(te&&oe&&te.length!==oe.length)throw new Error("Given keys array must have same length as given values array.");if(Re===0)return ye({numFailures:0,failures:{},results:[],lastResult:void 0});function Qe(rn){++Nt,Ko(rn)}var at=[],Je=[],Nt=0;if(G==="deleteRange"){if(ie.type===4)return ye({numFailures:Nt,failures:Je,results:[],lastResult:void 0});ie.type===3?at.push(Ae=xe.clear()):at.push(Ae=xe.delete(g(ie)))}else{var Ee=Me?Ee?[oe,te]:[oe,null]:[te,null],Ye=Ee[0],Yt=Ee[1];if(Me)for(var Xt=0;Xt<Re;++Xt)at.push(Ae=Yt&&Yt[Xt]!==void 0?xe[G](Ye[Xt],Yt[Xt]):xe[G](Ye[Xt])),Ae.onerror=Qe;else for(Xt=0;Xt<Re;++Xt)at.push(Ae=xe[G](Ye[Xt])),Ae.onerror=Qe}function ps(rn){rn=rn.target.result,at.forEach(function(Fr,Ou){return Fr.error!=null&&(Je[Ou]=Fr.error)}),ye({numFailures:Nt,failures:Je,results:G==="delete"?te:at.map(function(Fr){return Fr.result}),lastResult:rn})}Ae.onerror=function(rn){Qe(rn),ps(rn)},Ae.onsuccess=ps})},getMany:function(K){var Z=K.trans,G=K.keys;return new Promise(function(te,oe){te=Et(te);for(var ie,ye=Z.objectStore(H),Ie=G.length,xe=new Array(Ie),Ee=0,Me=0,Ae=function(at){at=at.target,xe[at._pos]=at.result,++Me===Ee&&te(xe)},Re=On(oe),Qe=0;Qe<Ie;++Qe)G[Qe]!=null&&((ie=ye.get(G[Qe]))._pos=Qe,ie.onsuccess=Ae,ie.onerror=Re,++Ee);Ee===0&&te(xe)})},get:function(K){var Z=K.trans,G=K.key;return new Promise(function(te,oe){te=Et(te);var ie=Z.objectStore(H).get(G);ie.onsuccess=function(ye){return te(ye.target.result)},ie.onerror=On(oe)})},query:(z=B,function(K){return new Promise(function(Z,G){Z=Et(Z);var te,oe,ie,Ee=K.trans,ye=K.values,Ie=K.limit,Ae=K.query,xe=Ie===1/0?void 0:Ie,Me=Ae.index,Ae=Ae.range,Ee=Ee.objectStore(H),Me=Me.isPrimaryKey?Ee:Ee.index(Me.name),Ae=g(Ae);if(Ie===0)return Z({result:[]});z?((xe=ye?Me.getAll(Ae,xe):Me.getAllKeys(Ae,xe)).onsuccess=function(Re){return Z({result:Re.target.result})},xe.onerror=On(G)):(te=0,oe=!ye&&"openKeyCursor"in Me?Me.openKeyCursor(Ae):Me.openCursor(Ae),ie=[],oe.onsuccess=function(Re){var Qe=oe.result;return Qe?(ie.push(ye?Qe.value:Qe.primaryKey),++te===Ie?Z({result:ie}):void Qe.continue()):Z({result:ie})},oe.onerror=On(G))})}),openCursor:function(K){var Z=K.trans,G=K.values,te=K.query,oe=K.reverse,ie=K.unique;return new Promise(function(ye,Ie){ye=Et(ye);var Me=te.index,xe=te.range,Ee=Z.objectStore(H),Ee=Me.isPrimaryKey?Ee:Ee.index(Me.name),Me=oe?ie?"prevunique":"prev":ie?"nextunique":"next",Ae=!G&&"openKeyCursor"in Ee?Ee.openKeyCursor(g(xe),Me):Ee.openCursor(g(xe),Me);Ae.onerror=On(Ie),Ae.onsuccess=Et(function(Re){var Qe,at,Je,Nt,Ye=Ae.result;Ye?(Ye.___id=++cv,Ye.done=!1,Qe=Ye.continue.bind(Ye),at=(at=Ye.continuePrimaryKey)&&at.bind(Ye),Je=Ye.advance.bind(Ye),Nt=function(){throw new Error("Cursor not stopped")},Ye.trans=Z,Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=function(){throw new Error("Cursor not started")},Ye.fail=Et(Ie),Ye.next=function(){var Yt=this,Xt=1;return this.start(function(){return Xt--?Yt.continue():Yt.stop()}).then(function(){return Yt})},Ye.start=function(Yt){function Xt(){if(Ae.result)try{Yt()}catch(rn){Ye.fail(rn)}else Ye.done=!0,Ye.start=function(){throw new Error("Cursor behind last entry")},Ye.stop()}var ps=new Promise(function(rn,Fr){rn=Et(rn),Ae.onerror=On(Fr),Ye.fail=Fr,Ye.stop=function(Ou){Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=Nt,rn(Ou)}});return Ae.onsuccess=Et(function(rn){Ae.onsuccess=Xt,Xt()}),Ye.continue=Qe,Ye.continuePrimaryKey=at,Ye.advance=Je,Xt(),ps},ye(Ye)):ye(null)},Ie)})},count:function(K){var Z=K.query,G=K.trans,te=Z.index,oe=Z.range;return new Promise(function(ie,ye){var Ie=G.objectStore(H),xe=te.isPrimaryKey?Ie:Ie.index(te.name),Ie=g(oe),xe=Ie?xe.count(Ie):xe.count();xe.onsuccess=Et(function(Ee){return ie(Ee.target.result)}),xe.onerror=On(ye)})}}}var b,T,M,L=(T=R,M=ef((b=a).objectStoreNames),{schema:{name:b.name,tables:M.map(function(q){return T.objectStore(q)}).map(function(q){var z=q.keyPath,Z=q.autoIncrement,H=u(z),K={},Z={name:q.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:z==null,compound:H,keyPath:z,autoIncrement:Z,unique:!0,extractKey:pu(z)},indexes:ef(q.indexNames).map(function(G){return q.index(G)}).map(function(ie){var te=ie.name,oe=ie.unique,ye=ie.multiEntry,ie=ie.keyPath,ye={name:te,compound:u(ie),keyPath:ie,unique:oe,multiEntry:ye,extractKey:pu(ie)};return K[Go(ie)]=ye}),getIndexByKeyPath:function(G){return K[Go(G)]}};return K[":id"]=Z.primaryKey,z!=null&&(K[Go(z)]=Z.primaryKey),Z})},hasGetAll:0<M.length&&"getAll"in T.objectStore(M[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),R=L.schema,B=L.hasGetAll,L=R.tables.map(y),D={};return L.forEach(function(q){return D[q.name]=q}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(q){if(!D[q])throw new Error("Table '".concat(q,"' not found"));return D[q]},MIN_KEY:-1/0,MAX_KEY:qo(l),schema:R}}function dv(a,l,d,g){var y=d.IDBKeyRange;return d.indexedDB,{dbcore:(g=fv(l,y,g),a.dbcore.reduce(function(b,T){return T=T.create,r(r({},b),T(b))},g))}}function rs(a,g){var d=g.db,g=dv(a._middlewares,d,a._deps,g);a.core=g.dbcore,a.tables.forEach(function(y){var b=y.name;a.core.schema.tables.some(function(T){return T.name===b})&&(y.core=a.core.table(b),a[b]instanceof a.Table&&(a[b].core=y.core))})}function os(a,l,d,g){d.forEach(function(y){var b=g[y];l.forEach(function(T){var M=(function R(B,L){return A(B,L)||(B=f(B))&&R(B,L)})(T,y);(!M||"value"in M&&M.value===void 0)&&(T===a.Transaction.prototype||T instanceof a.Transaction?w(T,y,{get:function(){return this.table(y)},set:function(R){m(this,y,{value:R,writable:!0,configurable:!0,enumerable:!0})}}):T[y]=new a.Table(y,b))})})}function gu(a,l){l.forEach(function(d){for(var g in d)d[g]instanceof a.Table&&delete d[g]})}function hv(a,l){return a._cfg.version-l._cfg.version}function pv(a,l,d,g){var y=a._dbSchema;d.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=hu("$meta",nf("")[0],[]),a._storeNames.push("$meta"));var b=a._createTransaction("readwrite",a._storeNames,y);b.create(d),b._completion.catch(g);var T=b._reject.bind(b),M=je.transless||je;pr(function(){return je.trans=b,je.transless=M,l!==0?(rs(a,d),B=l,((R=b).storeNames.includes("$meta")?R.table("$meta").get("version").then(function(L){return L??B}):De.resolve(B)).then(function(L){return q=L,z=b,H=d,K=[],L=(D=a)._versions,Z=D._dbSchema=ss(0,D.idbdb,H),(L=L.filter(function(G){return G._cfg.version>=q})).length!==0?(L.forEach(function(G){K.push(function(){var te=Z,oe=G._cfg.dbschema;as(D,te,H),as(D,oe,H),Z=D._dbSchema=oe;var ie=mu(te,oe);ie.add.forEach(function(Me){vu(H,Me[0],Me[1].primKey,Me[1].indexes)}),ie.change.forEach(function(Me){if(Me.recreate)throw new Y.Upgrade("Not yet support for changing primary key");var Ae=H.objectStore(Me.name);Me.add.forEach(function(Re){return is(Ae,Re)}),Me.change.forEach(function(Re){Ae.deleteIndex(Re.name),is(Ae,Re)}),Me.del.forEach(function(Re){return Ae.deleteIndex(Re)})});var ye=G._cfg.contentUpgrade;if(ye&&G._cfg.version>q){rs(D,H),z._memoizedTables={};var Ie=ue(oe);ie.del.forEach(function(Me){Ie[Me]=te[Me]}),gu(D,[D.Transaction.prototype]),os(D,[D.Transaction.prototype],s(Ie),Ie),z.schema=Ie;var xe,Ee=Oe(ye);return Ee&&ao(),ie=De.follow(function(){var Me;(xe=ye(z))&&Ee&&(Me=gr.bind(null,null),xe.then(Me,Me))}),xe&&typeof xe.then=="function"?De.resolve(xe):ie.then(function(){return xe})}}),K.push(function(te){var oe,ie,ye=G._cfg.dbschema;oe=ye,ie=te,[].slice.call(ie.db.objectStoreNames).forEach(function(Ie){return oe[Ie]==null&&ie.db.deleteObjectStore(Ie)}),gu(D,[D.Transaction.prototype]),os(D,[D.Transaction.prototype],D._storeNames,D._dbSchema),z.schema=D._dbSchema}),K.push(function(te){D.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(D.idbdb.version/10)===G._cfg.version?(D.idbdb.deleteObjectStore("$meta"),delete D._dbSchema.$meta,D._storeNames=D._storeNames.filter(function(oe){return oe!=="$meta"})):te.objectStore("$meta").put(G._cfg.version,"version"))})}),(function G(){return K.length?De.resolve(K.shift()(z.idbtrans)).then(G):De.resolve()})().then(function(){tf(Z,H)})):De.resolve();var D,q,z,H,K,Z}).catch(T)):(s(y).forEach(function(L){vu(d,L,y[L].primKey,y[L].indexes)}),rs(a,d),void De.follow(function(){return a.on.populate.fire(b)}).catch(T));var R,B})}function gv(a,l){tf(a._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var d=ss(0,a.idbdb,l);as(a,a._dbSchema,l);for(var g=0,y=mu(d,a._dbSchema).change;g<y.length;g++){var b=(function(T){if(T.change.length||T.recreate)return console.warn("Unable to patch indexes of table ".concat(T.name," because it has changes on the type of index or primary key.")),{value:void 0};var M=l.objectStore(T.name);T.add.forEach(function(R){W&&console.debug("Dexie upgrade patch: Creating missing index ".concat(T.name,".").concat(R.src)),is(M,R)})})(y[g]);if(typeof b=="object")return b.value}}function mu(a,l){var d,g={del:[],add:[],change:[]};for(d in a)l[d]||g.del.push(d);for(d in l){var y=a[d],b=l[d];if(y){var T={name:d,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||y.primKey.auto!==b.primKey.auto)T.recreate=!0,g.change.push(T);else{var M=y.idxByName,R=b.idxByName,B=void 0;for(B in M)R[B]||T.del.push(B);for(B in R){var L=M[B],D=R[B];L?L.src!==D.src&&T.change.push(D):T.add.push(D)}(0<T.del.length||0<T.add.length||0<T.change.length)&&g.change.push(T)}}else g.add.push([d,b])}return g}function vu(a,l,d,g){var y=a.db.createObjectStore(l,d.keyPath?{keyPath:d.keyPath,autoIncrement:d.auto}:{autoIncrement:d.auto});return g.forEach(function(b){return is(y,b)}),y}function tf(a,l){s(a).forEach(function(d){l.db.objectStoreNames.contains(d)||(W&&console.debug("Dexie: Creating missing table",d),vu(l,d,a[d].primKey,a[d].indexes))})}function is(a,l){a.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function ss(a,l,d){var g={};return N(l.objectStoreNames,0).forEach(function(y){for(var b=d.objectStore(y),T=du(Qc(B=b.keyPath),B||"",!0,!1,!!b.autoIncrement,B&&typeof B!="string",!0),M=[],R=0;R<b.indexNames.length;++R){var L=b.index(b.indexNames[R]),B=L.keyPath,L=du(L.name,B,!!L.unique,!!L.multiEntry,!1,B&&typeof B!="string",!1);M.push(L)}g[y]=hu(y,T,M)}),g}function as(a,l,d){for(var g=d.db.objectStoreNames,y=0;y<g.length;++y){var b=g[y],T=d.objectStore(b);a._hasGetAll="getAll"in T;for(var M=0;M<T.indexNames.length;++M){var R=T.indexNames[M],B=T.index(R).keyPath,L=typeof B=="string"?B:"["+N(B).join("+")+"]";!l[b]||(B=l[b].idxByName[L])&&(B.name=R,delete l[b].idxByName[L],l[b].idxByName[R]=B)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function nf(a){return a.split(",").map(function(l,d){var b=l.split(":"),g=(y=b[1])===null||y===void 0?void 0:y.trim(),y=(l=b[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return du(y,b||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),u(b),d===0,g)})}var mv=(fo.prototype._createTableSchema=hu,fo.prototype._parseIndexSyntax=nf,fo.prototype._parseStoresSpec=function(a,l){var d=this;s(a).forEach(function(g){if(a[g]!==null){var y=d._parseIndexSyntax(a[g]),b=y.shift();if(!b)throw new Y.Schema("Invalid schema for table "+g+": "+a[g]);if(b.unique=!0,b.multi)throw new Y.Schema("Primary key cannot be multiEntry*");y.forEach(function(T){if(T.auto)throw new Y.Schema("Only primary key can be marked as autoIncrement (++)");if(!T.keyPath)throw new Y.Schema("Index must have a name and cannot be an empty string")}),y=d._createTableSchema(g,b,y),l[g]=y}})},fo.prototype.stores=function(d){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,d):d;var d=l._versions,g={},y={};return d.forEach(function(b){c(g,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(g,y)}),l._dbSchema=y,gu(l,[l._allTables,l,l.Transaction.prototype]),os(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],s(y),y),l._storeNames=s(y),this},fo.prototype.upgrade=function(a){return this._cfg.contentUpgrade=J(this._cfg.contentUpgrade||E,a),this},fo);function fo(){}function yu(a,l){var d=a._dbNamesDB;return d||(d=a._dbNamesDB=new Yn(Xi,{addons:[],indexedDB:a,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),d.table("dbnames")}function _u(a){return a&&typeof a.databases=="function"}function bu(a){return pr(function(){return je.letThrough=!0,a()})}function wu(a){return!("from"in a)}var Wt=function(a,l){if(!this){var d=new Wt;return a&&"d"in a&&c(d,a),d}c(this,arguments.length?{d:1,from:a,to:1<arguments.length?l:a}:{d:0})};function Wo(a,l,d){var g=it(l,d);if(!isNaN(g)){if(0<g)throw RangeError();if(wu(a))return c(a,{from:l,to:d,d:1});var y=a.l,g=a.r;if(it(d,a.from)<0)return y?Wo(y,l,d):a.l={from:l,to:d,d:1,l:null,r:null},of(a);if(0<it(l,a.to))return g?Wo(g,l,d):a.r={from:l,to:d,d:1,l:null,r:null},of(a);it(l,a.from)<0&&(a.from=l,a.l=null,a.d=g?g.d+1:1),0<it(d,a.to)&&(a.to=d,a.r=null,a.d=a.l?a.l.d+1:1),d=!a.r,y&&!a.l&&Yo(a,y),g&&d&&Yo(a,g)}}function Yo(a,l){wu(l)||(function d(g,R){var b=R.from,T=R.to,M=R.l,R=R.r;Wo(g,b,T),M&&d(g,M),R&&d(g,R)})(a,l)}function rf(a,l){var d=us(l),g=d.next();if(g.done)return!1;for(var y=g.value,b=us(a),T=b.next(y.from),M=T.value;!g.done&&!T.done;){if(it(M.from,y.to)<=0&&0<=it(M.to,y.from))return!0;it(y.from,M.from)<0?y=(g=d.next(M.from)).value:M=(T=b.next(y.from)).value}return!1}function us(a){var l=wu(a)?null:{s:0,n:a};return{next:function(d){for(var g=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,g)for(;l.n.l&&it(d,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!g||it(d,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function of(a){var l,d,g=(((l=a.r)===null||l===void 0?void 0:l.d)||0)-(((d=a.l)===null||d===void 0?void 0:d.d)||0),y=1<g?"r":g<-1?"l":"";y&&(l=y=="r"?"l":"r",d=r({},a),g=a[y],a.from=g.from,a.to=g.to,a[y]=g[y],d[y]=g[l],(a[l]=d).d=sf(d)),a.d=sf(a)}function sf(d){var l=d.r,d=d.l;return(l?d?Math.max(l.d,d.d):l.d:d?d.d:0)+1}function ls(a,l){return s(l).forEach(function(d){a[d]?Yo(a[d],l[d]):a[d]=(function g(y){var b,T,M={};for(b in y)p(y,b)&&(T=y[b],M[b]=!T||typeof T!="object"||ge.has(T.constructor)?T:g(T));return M})(l[d])}),a}function xu(a,l){return a.all||l.all||Object.keys(a).some(function(d){return l[d]&&rf(l[d],a[d])})}v(Wt.prototype,((_n={add:function(a){return Yo(this,a),this},addKey:function(a){return Wo(this,a,a),this},addKeys:function(a){var l=this;return a.forEach(function(d){return Wo(l,d,d)}),this},hasKey:function(a){var l=us(this).next(a).value;return l&&it(l.from,a)<=0&&0<=it(l.to,a)}})[V]=function(){return us(this)},_n));var zr={},Su={},Eu=!1;function cs(a){ls(Su,a),Eu||(Eu=!0,setTimeout(function(){Eu=!1,ku(Su,!(Su={}))},0))}function ku(a,l){l===void 0&&(l=!1);var d=new Set;if(a.all)for(var g=0,y=Object.values(zr);g<y.length;g++)af(T=y[g],a,d,l);else for(var b in a){var T,M=/^idb\:\/\/(.*)\/(.*)\//.exec(b);M&&(b=M[1],M=M[2],(T=zr["idb://".concat(b,"/").concat(M)])&&af(T,a,d,l))}d.forEach(function(R){return R()})}function af(a,l,d,g){for(var y=[],b=0,T=Object.entries(a.queries.query);b<T.length;b++){for(var M=T[b],R=M[0],B=[],L=0,D=M[1];L<D.length;L++){var q=D[L];xu(l,q.obsSet)?q.subscribers.forEach(function(Z){return d.add(Z)}):g&&B.push(q)}g&&y.push([R,B])}if(g)for(var z=0,H=y;z<H.length;z++){var K=H[z],R=K[0],B=K[1];a.queries.query[R]=B}}function vv(a){var l=a._state,d=a._deps.indexedDB;if(l.isBeingOpened||a.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?At(l.dbOpenError):a});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var g=l.openCanceller,y=Math.round(10*a.verno),b=!1;function T(){if(l.openCanceller!==g)throw new Y.DatabaseClosed("db.open() was cancelled")}function M(){return new De(function(q,z){if(T(),!d)throw new Y.MissingAPI;var H=a.name,K=l.autoSchema||!y?d.open(H):d.open(H,y);if(!K)throw new Y.MissingAPI;K.onerror=On(z),K.onblocked=Et(a._fireOnBlocked),K.onupgradeneeded=Et(function(Z){var G;L=K.transaction,l.autoSchema&&!a._options.allowEmptyDB?(K.onerror=Ko,L.abort(),K.result.close(),(G=d.deleteDatabase(H)).onsuccess=G.onerror=Et(function(){z(new Y.NoSuchDatabase("Database ".concat(H," doesnt exist")))})):(L.onerror=On(z),Z=Z.oldVersion>Math.pow(2,62)?0:Z.oldVersion,D=Z<1,a.idbdb=K.result,b&&gv(a,L),pv(a,Z/10,L,z))},z),K.onsuccess=Et(function(){L=null;var Z,G,te,oe,ie,ye=a.idbdb=K.result,Ie=N(ye.objectStoreNames);if(0<Ie.length)try{var xe=ye.transaction((oe=Ie).length===1?oe[0]:oe,"readonly");if(l.autoSchema)G=ye,te=xe,(Z=a).verno=G.version/10,te=Z._dbSchema=ss(0,G,te),Z._storeNames=N(G.objectStoreNames,0),os(Z,[Z._allTables],s(te),te);else if(as(a,a._dbSchema,xe),((ie=mu(ss(0,(ie=a).idbdb,xe),ie._dbSchema)).add.length||ie.change.some(function(Ee){return Ee.add.length||Ee.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ye.close(),y=ye.version+1,b=!0,q(M());rs(a,xe)}catch{}uo.push(a),ye.onversionchange=Et(function(Ee){l.vcFired=!0,a.on("versionchange").fire(Ee)}),ye.onclose=Et(function(Ee){a.on("close").fire(Ee)}),D&&(ie=a._deps,xe=H,ye=ie.indexedDB,ie=ie.IDBKeyRange,_u(ye)||xe===Xi||yu(ye,ie).put({name:xe}).catch(E)),q()},z)}).catch(function(q){switch(q?.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),M();break;case"VersionError":if(0<y)return y=0,M()}return De.reject(q)})}var R,B=l.dbReadyResolve,L=null,D=!1;return De.race([g,(typeof navigator>"u"?De.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(q){function z(){return indexedDB.databases().finally(q)}R=setInterval(z,100),z()}).finally(function(){return clearInterval(R)}):Promise.resolve()).then(M)]).then(function(){return T(),l.onReadyBeingFired=[],De.resolve(bu(function(){return a.on.ready.fire(a.vip)})).then(function q(){if(0<l.onReadyBeingFired.length){var z=l.onReadyBeingFired.reduce(J,E);return l.onReadyBeingFired=[],De.resolve(bu(function(){return z(a.vip)})).then(q)}})}).finally(function(){l.openCanceller===g&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(q){l.dbOpenError=q;try{L&&L.abort()}catch{}return g===l.openCanceller&&a._close(),At(q)}).finally(function(){l.openComplete=!0,B()}).then(function(){var q;return D&&(q={},a.tables.forEach(function(z){z.schema.indexes.forEach(function(H){H.name&&(q["idb://".concat(a.name,"/").concat(z.name,"/").concat(H.name)]=new Wt(-1/0,[[[]]]))}),q["idb://".concat(a.name,"/").concat(z.name,"/")]=q["idb://".concat(a.name,"/").concat(z.name,"/:dels")]=new Wt(-1/0,[[[]]])}),yr(Uo).fire(q),ku(q,!0)),a})}function Cu(a){function l(b){return a.next(b)}var d=y(l),g=y(function(b){return a.throw(b)});function y(b){return function(R){var M=b(R),R=M.value;return M.done?R:R&&typeof R.then=="function"?R.then(d,g):u(R)?Promise.all(R).then(d,g):d(R)}}return y(l)()}function fs(a,l,d){for(var g=u(a)?a.slice():[a],y=0;y<d;++y)g.push(l);return g}var yv={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return r(r({},a),{table:function(l){var d=a.table(l),g=d.schema,y={},b=[];function T(D,q,z){var H=Go(D),K=y[H]=y[H]||[],Z=D==null?0:typeof D=="string"?1:D.length,G=0<q,G=r(r({},z),{name:G?"".concat(H,"(virtual-from:").concat(z.name,")"):z.name,lowLevelIndex:z,isVirtual:G,keyTail:q,keyLength:Z,extractKey:pu(D),unique:!G&&z.unique});return K.push(G),G.isPrimaryKey||b.push(G),1<Z&&T(Z===2?D[0]:D.slice(0,Z-1),q+1,z),K.sort(function(te,oe){return te.keyTail-oe.keyTail}),G}l=T(g.primaryKey.keyPath,0,g.primaryKey),y[":id"]=[l];for(var M=0,R=g.indexes;M<R.length;M++){var B=R[M];T(B.keyPath,0,B)}function L(D){var q,z=D.query.index;return z.isVirtual?r(r({},D),{query:{index:z.lowLevelIndex,range:(q=D.query.range,z=z.keyTail,{type:q.type===1?2:q.type,lower:fs(q.lower,q.lowerOpen?a.MAX_KEY:a.MIN_KEY,z),lowerOpen:!0,upper:fs(q.upper,q.upperOpen?a.MIN_KEY:a.MAX_KEY,z),upperOpen:!0})}}):D}return r(r({},d),{schema:r(r({},g),{primaryKey:l,indexes:b,getIndexByKeyPath:function(D){return(D=y[Go(D)])&&D[0]}}),count:function(D){return d.count(L(D))},query:function(D){return d.query(L(D))},openCursor:function(D){var q=D.query.index,z=q.keyTail,H=q.isVirtual,K=q.keyLength;return H?d.openCursor(L(D)).then(function(G){return G&&Z(G)}):d.openCursor(D);function Z(G){return Object.create(G,{continue:{value:function(te){te!=null?G.continue(fs(te,D.reverse?a.MAX_KEY:a.MIN_KEY,z)):D.unique?G.continue(G.key.slice(0,K).concat(D.reverse?a.MIN_KEY:a.MAX_KEY,z)):G.continue()}},continuePrimaryKey:{value:function(te,oe){G.continuePrimaryKey(fs(te,a.MAX_KEY,z),oe)}},primaryKey:{get:function(){return G.primaryKey}},key:{get:function(){var te=G.key;return K===1?te[0]:te.slice(0,K)}},value:{get:function(){return G.value}}})}}})}})}};function Iu(a,l,d,g){return d=d||{},g=g||"",s(a).forEach(function(y){var b,T,M;p(l,y)?(b=a[y],T=l[y],typeof b=="object"&&typeof T=="object"&&b&&T?(M=ce(b))!==ce(T)?d[g+y]=l[y]:M==="Object"?Iu(b,T,d,g+y+"."):b!==T&&(d[g+y]=l[y]):b!==T&&(d[g+y]=l[y])):d[g+y]=void 0}),s(l).forEach(function(y){p(a,y)||(d[g+y]=l[y])}),d}function Pu(a,l){return l.type==="delete"?l.keys:l.keys||l.values.map(a.extractKey)}var _v={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return r(r({},a),{table:function(l){var d=a.table(l),g=d.schema.primaryKey;return r(r({},d),{mutate:function(y){var b=je.trans,T=b.table(l).hook,M=T.deleting,R=T.creating,B=T.updating;switch(y.type){case"add":if(R.fire===E)break;return b._promise("readwrite",function(){return L(y)},!0);case"put":if(R.fire===E&&B.fire===E)break;return b._promise("readwrite",function(){return L(y)},!0);case"delete":if(M.fire===E)break;return b._promise("readwrite",function(){return L(y)},!0);case"deleteRange":if(M.fire===E)break;return b._promise("readwrite",function(){return(function D(q,z,H){return d.query({trans:q,values:!1,query:{index:g,range:z},limit:H}).then(function(K){var Z=K.result;return L({type:"delete",keys:Z,trans:q}).then(function(G){return 0<G.numFailures?Promise.reject(G.failures[0]):Z.length<H?{failures:[],numFailures:0,lastResult:void 0}:D(q,r(r({},z),{lower:Z[Z.length-1],lowerOpen:!0}),H)})})})(y.trans,y.range,1e4)},!0)}return d.mutate(y);function L(D){var q,z,H,K=je.trans,Z=D.keys||Pu(g,D);if(!Z)throw new Error("Keys missing");return(D=D.type==="add"||D.type==="put"?r(r({},D),{keys:Z}):r({},D)).type!=="delete"&&(D.values=o([],D.values)),D.keys&&(D.keys=o([],D.keys)),q=d,H=Z,((z=D).type==="add"?Promise.resolve([]):q.getMany({trans:z.trans,keys:H,cache:"immutable"})).then(function(G){var te=Z.map(function(oe,ie){var ye,Ie,xe,Ee=G[ie],Me={onerror:null,onsuccess:null};return D.type==="delete"?M.fire.call(Me,oe,Ee,K):D.type==="add"||Ee===void 0?(ye=R.fire.call(Me,oe,D.values[ie],K),oe==null&&ye!=null&&(D.keys[ie]=oe=ye,g.outbound||ae(D.values[ie],g.keyPath,oe))):(ye=Iu(Ee,D.values[ie]),(Ie=B.fire.call(Me,ye,oe,Ee,K))&&(xe=D.values[ie],Object.keys(Ie).forEach(function(Ae){p(xe,Ae)?xe[Ae]=Ie[Ae]:ae(xe,Ae,Ie[Ae])}))),Me});return d.mutate(D).then(function(oe){for(var ie=oe.failures,ye=oe.results,Ie=oe.numFailures,oe=oe.lastResult,xe=0;xe<Z.length;++xe){var Ee=(ye||Z)[xe],Me=te[xe];Ee==null?Me.onerror&&Me.onerror(ie[xe]):Me.onsuccess&&Me.onsuccess(D.type==="put"&&G[xe]?D.values[xe]:Ee)}return{failures:ie,results:ye,numFailures:Ie,lastResult:oe}}).catch(function(oe){return te.forEach(function(ie){return ie.onerror&&ie.onerror(oe)}),Promise.reject(oe)})})}}})}})}};function uf(a,l,d){try{if(!l||l.keys.length<a.length)return null;for(var g=[],y=0,b=0;y<l.keys.length&&b<a.length;++y)it(l.keys[y],a[b])===0&&(g.push(d?ke(l.values[y]):l.values[y]),++b);return g.length===a.length?g:null}catch{return null}}var bv={stack:"dbcore",level:-1,create:function(a){return{table:function(l){var d=a.table(l);return r(r({},d),{getMany:function(g){if(!g.cache)return d.getMany(g);var y=uf(g.keys,g.trans._cache,g.cache==="clone");return y?De.resolve(y):d.getMany(g).then(function(b){return g.trans._cache={keys:g.keys,values:g.cache==="clone"?ke(b):b},b})},mutate:function(g){return g.type!=="add"&&(g.trans._cache=null),d.mutate(g)}})}}}};function lf(a,l){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function cf(a,l){switch(a){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var wv={stack:"dbcore",level:0,name:"Observability",create:function(a){var l=a.schema.name,d=new Wt(a.MIN_KEY,a.MAX_KEY);return r(r({},a),{transaction:function(g,y,b){if(je.subscr&&y!=="readonly")throw new Y.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(je.querier));return a.transaction(g,y,b)},table:function(g){var y=a.table(g),b=y.schema,T=b.primaryKey,D=b.indexes,M=T.extractKey,R=T.outbound,B=T.autoIncrement&&D.filter(function(z){return z.compound&&z.keyPath.includes(T.keyPath)}),L=r(r({},y),{mutate:function(z){function H(Ae){return Ae="idb://".concat(l,"/").concat(g,"/").concat(Ae),oe[Ae]||(oe[Ae]=new Wt)}var K,Z,G,te=z.trans,oe=z.mutatedParts||(z.mutatedParts={}),ie=H(""),ye=H(":dels"),Ie=z.type,Me=z.type==="deleteRange"?[z.range]:z.type==="delete"?[z.keys]:z.values.length<50?[Pu(T,z).filter(function(Ae){return Ae}),z.values]:[],xe=Me[0],Ee=Me[1],Me=z.trans._cache;return u(xe)?(ie.addKeys(xe),(Me=Ie==="delete"||xe.length===Ee.length?uf(xe,Me):null)||ye.addKeys(xe),(Me||Ee)&&(K=H,Z=Me,G=Ee,b.indexes.forEach(function(Ae){var Re=K(Ae.name||"");function Qe(Je){return Je!=null?Ae.extractKey(Je):null}function at(Je){return Ae.multiEntry&&u(Je)?Je.forEach(function(Nt){return Re.addKey(Nt)}):Re.addKey(Je)}(Z||G).forEach(function(Je,Yt){var Ye=Z&&Qe(Z[Yt]),Yt=G&&Qe(G[Yt]);it(Ye,Yt)!==0&&(Ye!=null&&at(Ye),Yt!=null&&at(Yt))})}))):xe?(Ee={from:(Ee=xe.lower)!==null&&Ee!==void 0?Ee:a.MIN_KEY,to:(Ee=xe.upper)!==null&&Ee!==void 0?Ee:a.MAX_KEY},ye.add(Ee),ie.add(Ee)):(ie.add(d),ye.add(d),b.indexes.forEach(function(Ae){return H(Ae.name).add(d)})),y.mutate(z).then(function(Ae){return!xe||z.type!=="add"&&z.type!=="put"||(ie.addKeys(Ae.results),B&&B.forEach(function(Re){for(var Qe=z.values.map(function(Ye){return Re.extractKey(Ye)}),at=Re.keyPath.findIndex(function(Ye){return Ye===T.keyPath}),Je=0,Nt=Ae.results.length;Je<Nt;++Je)Qe[Je][at]=Ae.results[Je];H(Re.name).addKeys(Qe)})),te.mutatedParts=ls(te.mutatedParts||{},oe),Ae})}}),D=function(H){var K=H.query,H=K.index,K=K.range;return[H,new Wt((H=K.lower)!==null&&H!==void 0?H:a.MIN_KEY,(K=K.upper)!==null&&K!==void 0?K:a.MAX_KEY)]},q={get:function(z){return[T,new Wt(z.key)]},getMany:function(z){return[T,new Wt().addKeys(z.keys)]},count:D,query:D,openCursor:D};return s(q).forEach(function(z){L[z]=function(H){var K=je.subscr,Z=!!K,G=lf(je,y)&&cf(z,H)?H.obsSet={}:K;if(Z){var te=function(Ee){return Ee="idb://".concat(l,"/").concat(g,"/").concat(Ee),G[Ee]||(G[Ee]=new Wt)},oe=te(""),ie=te(":dels"),K=q[z](H),Z=K[0],K=K[1];if((z==="query"&&Z.isPrimaryKey&&!H.values?ie:te(Z.name||"")).add(K),!Z.isPrimaryKey){if(z!=="count"){var ye=z==="query"&&R&&H.values&&y.query(r(r({},H),{values:!1}));return y[z].apply(this,arguments).then(function(Ee){if(z==="query"){if(R&&H.values)return ye.then(function(Qe){return Qe=Qe.result,oe.addKeys(Qe),Ee});var Me=H.values?Ee.result.map(M):Ee.result;(H.values?oe:ie).addKeys(Me)}else if(z==="openCursor"){var Ae=Ee,Re=H.values;return Ae&&Object.create(Ae,{key:{get:function(){return ie.addKey(Ae.primaryKey),Ae.key}},primaryKey:{get:function(){var Qe=Ae.primaryKey;return ie.addKey(Qe),Qe}},value:{get:function(){return Re&&oe.addKey(Ae.primaryKey),Ae.value}}})}return Ee})}ie.add(d)}}return y[z].apply(this,arguments)}}),L}})}};function ff(a,l,d){if(d.numFailures===0)return l;if(l.type==="deleteRange")return null;var g=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return d.numFailures===g?null:(l=r({},l),u(l.keys)&&(l.keys=l.keys.filter(function(y,b){return!(b in d.failures)})),"values"in l&&u(l.values)&&(l.values=l.values.filter(function(y,b){return!(b in d.failures)})),l)}function Tu(a,l){return d=a,((g=l).lower===void 0||(g.lowerOpen?0<it(d,g.lower):0<=it(d,g.lower)))&&(a=a,(l=l).upper===void 0||(l.upperOpen?it(a,l.upper)<0:it(a,l.upper)<=0));var d,g}function df(a,l,q,g,y,b){if(!q||q.length===0)return a;var T=l.query.index,M=T.multiEntry,R=l.query.range,B=g.schema.primaryKey.extractKey,L=T.extractKey,D=(T.lowLevelIndex||T).extractKey,q=q.reduce(function(z,H){var K=z,Z=[];if(H.type==="add"||H.type==="put")for(var G=new Wt,te=H.values.length-1;0<=te;--te){var oe,ie=H.values[te],ye=B(ie);G.hasKey(ye)||(oe=L(ie),(M&&u(oe)?oe.some(function(Ae){return Tu(Ae,R)}):Tu(oe,R))&&(G.addKey(ye),Z.push(ie)))}switch(H.type){case"add":var Ie=new Wt().addKeys(l.values?z.map(function(Re){return B(Re)}):z),K=z.concat(l.values?Z.filter(function(Re){return Re=B(Re),!Ie.hasKey(Re)&&(Ie.addKey(Re),!0)}):Z.map(function(Re){return B(Re)}).filter(function(Re){return!Ie.hasKey(Re)&&(Ie.addKey(Re),!0)}));break;case"put":var xe=new Wt().addKeys(H.values.map(function(Re){return B(Re)}));K=z.filter(function(Re){return!xe.hasKey(l.values?B(Re):Re)}).concat(l.values?Z:Z.map(function(Re){return B(Re)}));break;case"delete":var Ee=new Wt().addKeys(H.keys);K=z.filter(function(Re){return!Ee.hasKey(l.values?B(Re):Re)});break;case"deleteRange":var Me=H.range;K=z.filter(function(Re){return!Tu(B(Re),Me)})}return K},a);return q===a?a:(q.sort(function(z,H){return it(D(z),D(H))||it(B(z),B(H))}),l.limit&&l.limit<1/0&&(q.length>l.limit?q.length=l.limit:a.length===l.limit&&q.length<l.limit&&(y.dirty=!0)),b?Object.freeze(q):q)}function hf(a,l){return it(a.lower,l.lower)===0&&it(a.upper,l.upper)===0&&!!a.lowerOpen==!!l.lowerOpen&&!!a.upperOpen==!!l.upperOpen}function xv(a,l){return(function(d,g,y,b){if(d===void 0)return g!==void 0?-1:0;if(g===void 0)return 1;if((g=it(d,g))===0){if(y&&b)return 0;if(y)return 1;if(b)return-1}return g})(a.lower,l.lower,a.lowerOpen,l.lowerOpen)<=0&&0<=(function(d,g,y,b){if(d===void 0)return g!==void 0?1:0;if(g===void 0)return-1;if((g=it(d,g))===0){if(y&&b)return 0;if(y)return-1;if(b)return 1}return g})(a.upper,l.upper,a.upperOpen,l.upperOpen)}function Sv(a,l,d,g){a.subscribers.add(d),g.addEventListener("abort",function(){var y,b;a.subscribers.delete(d),a.subscribers.size===0&&(y=a,b=l,setTimeout(function(){y.subscribers.size===0&&se(b,y)},3e3))})}var Ev={stack:"dbcore",level:0,name:"Cache",create:function(a){var l=a.schema.name;return r(r({},a),{transaction:function(d,g,y){var b,T,M=a.transaction(d,g,y);return g==="readwrite"&&(T=(b=new AbortController).signal,y=function(R){return function(){if(b.abort(),g==="readwrite"){for(var B=new Set,L=0,D=d;L<D.length;L++){var q=D[L],z=zr["idb://".concat(l,"/").concat(q)];if(z){var H=a.table(q),K=z.optimisticOps.filter(function(Re){return Re.trans===M});if(M._explicit&&R&&M.mutatedParts)for(var Z=0,G=Object.values(z.queries.query);Z<G.length;Z++)for(var te=0,oe=(Ie=G[Z]).slice();te<oe.length;te++)xu((xe=oe[te]).obsSet,M.mutatedParts)&&(se(Ie,xe),xe.subscribers.forEach(function(Re){return B.add(Re)}));else if(0<K.length){z.optimisticOps=z.optimisticOps.filter(function(Re){return Re.trans!==M});for(var ie=0,ye=Object.values(z.queries.query);ie<ye.length;ie++)for(var Ie,xe,Ee,Me=0,Ae=(Ie=ye[ie]).slice();Me<Ae.length;Me++)(xe=Ae[Me]).res!=null&&M.mutatedParts&&(R&&!xe.dirty?(Ee=Object.isFrozen(xe.res),Ee=df(xe.res,xe.req,K,H,xe,Ee),xe.dirty?(se(Ie,xe),xe.subscribers.forEach(function(Re){return B.add(Re)})):Ee!==xe.res&&(xe.res=Ee,xe.promise=De.resolve({result:Ee}))):(xe.dirty&&se(Ie,xe),xe.subscribers.forEach(function(Re){return B.add(Re)})))}}}B.forEach(function(Re){return Re()})}}},M.addEventListener("abort",y(!1),{signal:T}),M.addEventListener("error",y(!1),{signal:T}),M.addEventListener("complete",y(!0),{signal:T})),M},table:function(d){var g=a.table(d),y=g.schema.primaryKey;return r(r({},g),{mutate:function(b){var T=je.trans;if(y.outbound||T.db._options.cache==="disabled"||T.explicit||T.idbtrans.mode!=="readwrite")return g.mutate(b);var M=zr["idb://".concat(l,"/").concat(d)];return M?(T=g.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||Pu(y,b).some(function(R){return R==null}))?(M.optimisticOps.push(b),b.mutatedParts&&cs(b.mutatedParts),T.then(function(R){0<R.numFailures&&(se(M.optimisticOps,b),(R=ff(0,b,R))&&M.optimisticOps.push(R),b.mutatedParts&&cs(b.mutatedParts))}),T.catch(function(){se(M.optimisticOps,b),b.mutatedParts&&cs(b.mutatedParts)})):T.then(function(R){var B=ff(0,r(r({},b),{values:b.values.map(function(L,D){var q;return R.failures[D]?L:(L=(q=y.keyPath)!==null&&q!==void 0&&q.includes(".")?ke(L):r({},L),ae(L,y.keyPath,R.results[D]),L)})}),R);M.optimisticOps.push(B),queueMicrotask(function(){return b.mutatedParts&&cs(b.mutatedParts)})}),T):g.mutate(b)},query:function(b){if(!lf(je,g)||!cf("query",b))return g.query(b);var T=((B=je.trans)===null||B===void 0?void 0:B.db._options.cache)==="immutable",D=je,M=D.requery,R=D.signal,B=(function(H,K,Z,G){var te=zr["idb://".concat(H,"/").concat(K)];if(!te)return[];if(!(K=te.queries[Z]))return[null,!1,te,null];var oe=K[(G.query?G.query.index.name:null)||""];if(!oe)return[null,!1,te,null];switch(Z){case"query":var ie=oe.find(function(ye){return ye.req.limit===G.limit&&ye.req.values===G.values&&hf(ye.req.query.range,G.query.range)});return ie?[ie,!0,te,oe]:[oe.find(function(ye){return("limit"in ye.req?ye.req.limit:1/0)>=G.limit&&(!G.values||ye.req.values)&&xv(ye.req.query.range,G.query.range)}),!1,te,oe];case"count":return ie=oe.find(function(ye){return hf(ye.req.query.range,G.query.range)}),[ie,!!ie,te,oe]}})(l,d,"query",b),L=B[0],D=B[1],q=B[2],z=B[3];return L&&D?L.obsSet=b.obsSet:(D=g.query(b).then(function(H){var K=H.result;if(L&&(L.res=K),T){for(var Z=0,G=K.length;Z<G;++Z)Object.freeze(K[Z]);Object.freeze(K)}else H.result=ke(K);return H}).catch(function(H){return z&&L&&se(z,L),Promise.reject(H)}),L={obsSet:b.obsSet,promise:D,subscribers:new Set,type:"query",req:b,dirty:!1},z?z.push(L):(z=[L],(q=q||(zr["idb://".concat(l,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=z)),Sv(L,z,M,R),L.promise.then(function(H){return{result:df(H.result,b,q?.optimisticOps,g,L,T)}})}})}})}};function ds(a,l){return new Proxy(a,{get:function(d,g,y){return g==="db"?l:Reflect.get(d,g,y)}})}var Yn=(Mt.prototype.version=function(a){if(isNaN(a)||a<.1)throw new Y.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new Y.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var l=this._versions,d=l.filter(function(g){return g._cfg.version===a})[0];return d||(d=new this.Version(a),l.push(d),l.sort(hv),d.stores({}),this._state.autoSchema=!1,d)},Mt.prototype._whenReady=function(a){var l=this;return this.idbdb&&(this._state.openComplete||je.letThrough||this._vip)?a():new De(function(d,g){if(l._state.openComplete)return g(new Y.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void g(new Y.DatabaseClosed);l.open().catch(E)}l._state.dbReadyPromise.then(d,g)}).then(a)},Mt.prototype.use=function(a){var l=a.stack,d=a.create,g=a.level,y=a.name;return y&&this.unuse({stack:l,name:y}),a=this._middlewares[l]||(this._middlewares[l]=[]),a.push({stack:l,create:d,level:g??10,name:y}),a.sort(function(b,T){return b.level-T.level}),this},Mt.prototype.unuse=function(a){var l=a.stack,d=a.name,g=a.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(y){return g?y.create!==g:!!d&&y.name!==d})),this},Mt.prototype.open=function(){var a=this;return Mr(Tt,function(){return vv(a)})},Mt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var a=this._state,l=uo.indexOf(this);if(0<=l&&uo.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new De(function(d){a.dbReadyResolve=d}),a.openCanceller=new De(function(d,g){a.cancelOpen=g}))},Mt.prototype.close=function(d){var l=(d===void 0?{disableAutoOpen:!0}:d).disableAutoOpen,d=this._state;l?(d.isBeingOpened&&d.cancelOpen(new Y.DatabaseClosed),this._close(),d.autoOpen=!1,d.dbOpenError=new Y.DatabaseClosed):(this._close(),d.autoOpen=this._options.autoOpen||d.isBeingOpened,d.openComplete=!1,d.dbOpenError=null)},Mt.prototype.delete=function(a){var l=this;a===void 0&&(a={disableAutoOpen:!0});var d=0<arguments.length&&typeof arguments[0]!="object",g=this._state;return new De(function(y,b){function T(){l.close(a);var M=l._deps.indexedDB.deleteDatabase(l.name);M.onsuccess=Et(function(){var R,B,L;R=l._deps,B=l.name,L=R.indexedDB,R=R.IDBKeyRange,_u(L)||B===Xi||yu(L,R).delete(B).catch(E),y()}),M.onerror=On(b),M.onblocked=l._fireOnBlocked}if(d)throw new Y.InvalidArgument("Invalid closeOptions argument to db.delete()");g.isBeingOpened?g.dbReadyPromise.then(T):T()})},Mt.prototype.backendDB=function(){return this.idbdb},Mt.prototype.isOpen=function(){return this.idbdb!==null},Mt.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},Mt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Mt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Mt.prototype,"tables",{get:function(){var a=this;return s(this._allTables).map(function(l){return a._allTables[l]})},enumerable:!1,configurable:!0}),Mt.prototype.transaction=function(){var a=(function(l,d,g){var y=arguments.length;if(y<2)throw new Y.InvalidArgument("Too few arguments");for(var b=new Array(y-1);--y;)b[y-1]=arguments[y];return g=b.pop(),[l,ve(b),g]}).apply(this,arguments);return this._transaction.apply(this,a)},Mt.prototype._transaction=function(a,l,d){var g=this,y=je.trans;y&&y.db===this&&a.indexOf("!")===-1||(y=null);var b,T,M=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(T=l.map(function(B){if(B=B instanceof g.Table?B.name:B,typeof B!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return B}),a=="r"||a===au)b=au;else{if(a!="rw"&&a!=uu)throw new Y.InvalidArgument("Invalid transaction mode: "+a);b=uu}if(y){if(y.mode===au&&b===uu){if(!M)throw new Y.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");y=null}y&&T.forEach(function(B){if(y&&y.storeNames.indexOf(B)===-1){if(!M)throw new Y.SubTransaction("Table "+B+" not included in parent transaction.");y=null}}),M&&y&&!y.active&&(y=null)}}catch(B){return y?y._promise(null,function(L,D){D(B)}):At(B)}var R=(function B(L,D,q,z,H){return De.resolve().then(function(){var K=je.transless||je,Z=L._createTransaction(D,q,L._dbSchema,z);if(Z.explicit=!0,K={trans:Z,transless:K},z)Z.idbtrans=z.idbtrans;else try{Z.create(),Z.idbtrans._explicit=!0,L._state.PR1398_maxLoop=3}catch(oe){return oe.name===X.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return B(L,D,q,null,H)})):At(oe)}var G,te=Oe(H);return te&&ao(),K=De.follow(function(){var oe;(G=H.call(Z,Z))&&(te?(oe=gr.bind(null,null),G.then(oe,oe)):typeof G.next=="function"&&typeof G.throw=="function"&&(G=Cu(G)))},K),(G&&typeof G.then=="function"?De.resolve(G).then(function(oe){return Z.active?oe:At(new Y.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):K.then(function(){return G})).then(function(oe){return z&&Z._resolve(),Z._completion.then(function(){return oe})}).catch(function(oe){return Z._reject(oe),At(oe)})})}).bind(null,this,b,T,y,d);return y?y._promise(b,R,"lock"):je.trans?Mr(je.transless,function(){return g._whenReady(R)}):this._whenReady(R)},Mt.prototype.table=function(a){if(!p(this._allTables,a))throw new Y.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},Mt);function Mt(a,l){var d=this;this._middlewares={},this.verno=0;var g=Mt.dependencies;this._options=l=r({addons:Mt.addons,autoOpen:!0,indexedDB:g.indexedDB,IDBKeyRange:g.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},g=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var y,b,T,M,R,B={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:E,dbReadyPromise:null,cancelOpen:E,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};B.dbReadyPromise=new De(function(D){B.dbReadyResolve=D}),B.openCanceller=new De(function(D,q){B.cancelOpen=q}),this._state=B,this.name=a,this.on=Vo(this,"populate","blocked","versionchange","close",{ready:[J,E]}),this.once=function(D,q){var z=function(){for(var H=[],K=0;K<arguments.length;K++)H[K]=arguments[K];d.on(D).unsubscribe(z),q.apply(d,H)};return d.on(D,z)},this.on.ready.subscribe=C(this.on.ready.subscribe,function(D){return function(q,z){Mt.vip(function(){var H,K=d._state;K.openComplete?(K.dbOpenError||De.resolve().then(q),z&&D(q)):K.onReadyBeingFired?(K.onReadyBeingFired.push(q),z&&D(q)):(D(q),H=d,z||D(function Z(){H.on.ready.unsubscribe(q),H.on.ready.unsubscribe(Z)}))})}}),this.Collection=(y=this,Lo(sv.prototype,function(G,Z){this.db=y;var z=Vc,H=null;if(Z)try{z=Z()}catch(te){H=te}var K=G._ctx,Z=K.table,G=Z.hook.reading.fire;this._ctx={table:Z,index:K.index,isPrimKey:!K.index||Z.schema.primKey.keyPath&&K.index===Z.schema.primKey.name,range:z,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:H,or:K.or,valueMapper:G!==$?G:null}})),this.Table=(b=this,Lo(Uc.prototype,function(D,q,z){this.db=b,this._tx=z,this.name=D,this.schema=q,this.hook=b._allTables[D]?b._allTables[D].hook:Vo(null,{creating:[I,E],reading:[_,$],updating:[j,E],deleting:[S,E]})})),this.Transaction=(T=this,Lo(lv.prototype,function(D,q,z,H,K){var Z=this;D!=="readonly"&&q.forEach(function(G){G=(G=z[G])===null||G===void 0?void 0:G.yProps,G&&(q=q.concat(G.map(function(te){return te.updatesTable})))}),this.db=T,this.mode=D,this.storeNames=q,this.schema=z,this.chromeTransactionDurability=H,this.idbtrans=null,this.on=Vo(this,"complete","error","abort"),this.parent=K||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new De(function(G,te){Z._resolve=G,Z._reject=te}),this._completion.then(function(){Z.active=!1,Z.on.complete.fire()},function(G){var te=Z.active;return Z.active=!1,Z.on.error.fire(G),Z.parent?Z.parent._reject(G):te&&Z.idbtrans&&Z.idbtrans.abort(),At(G)})})),this.Version=(M=this,Lo(mv.prototype,function(D){this.db=M,this._cfg={version:D,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(R=this,Lo(Jc.prototype,function(D,q,z){if(this.db=R,this._ctx={table:D,index:q===":id"?null:q,or:z},this._cmp=this._ascending=it,this._descending=function(H,K){return it(K,H)},this._max=function(H,K){return 0<it(H,K)?H:K},this._min=function(H,K){return it(H,K)<0?H:K},this._IDBKeyRange=R._deps.IDBKeyRange,!this._IDBKeyRange)throw new Y.MissingAPI})),this.on("versionchange",function(D){0<D.newVersion?console.warn("Another connection wants to upgrade database '".concat(d.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(d.name,"'. Closing db now to resume the delete request.")),d.close({disableAutoOpen:!1})}),this.on("blocked",function(D){!D.newVersion||D.newVersion<D.oldVersion?console.warn("Dexie.delete('".concat(d.name,"') was blocked")):console.warn("Upgrade '".concat(d.name,"' blocked by other connection holding version ").concat(D.oldVersion/10))}),this._maxKey=qo(l.IDBKeyRange),this._createTransaction=function(D,q,z,H){return new d.Transaction(D,q,z,d._options.chromeTransactionDurability,H)},this._fireOnBlocked=function(D){d.on("blocked").fire(D),uo.filter(function(q){return q.name===d.name&&q!==d&&!q._state.vcFired}).map(function(q){return q.on("versionchange").fire(D)})},this.use(bv),this.use(Ev),this.use(wv),this.use(yv),this.use(_v);var L=new Proxy(this,{get:function(D,q,z){if(q==="_vip")return!0;if(q==="table")return function(K){return ds(d.table(K),L)};var H=Reflect.get(D,q,z);return H instanceof Uc?ds(H,L):q==="tables"?H.map(function(K){return ds(K,L)}):q==="_createTransaction"?function(){return ds(H.apply(this,arguments),L)}:H}});this.vip=L,g.forEach(function(D){return D(d)})}var hs,_n=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",kv=(Nu.prototype.subscribe=function(a,l,d){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:l,complete:d})},Nu.prototype[_n]=function(){return this},Nu);function Nu(a){this._subscribe=a}try{hs={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{hs={indexedDB:null,IDBKeyRange:null}}function pf(a){var l,d=!1,g=new kv(function(y){var b=Oe(a),T,M=!1,R={},B={},L={get closed(){return M},unsubscribe:function(){M||(M=!0,T&&T.abort(),D&&yr.storagemutated.unsubscribe(z))}};y.start&&y.start(L);var D=!1,q=function(){return su(H)},z=function(K){ls(R,K),xu(B,R)&&q()},H=function(){var K,Z,G;!M&&hs.indexedDB&&(R={},K={},T&&T.abort(),T=new AbortController,G=(function(te){var oe=io();try{b&&ao();var ie=pr(a,te);return ie=b?ie.finally(gr):ie}finally{oe&&so()}})(Z={subscr:K,signal:T.signal,requery:q,querier:a,trans:null}),Promise.resolve(G).then(function(te){d=!0,l=te,M||Z.signal.aborted||(R={},(function(oe){for(var ie in oe)if(p(oe,ie))return;return 1})(B=K)||D||(yr(Uo,z),D=!0),su(function(){return!M&&y.next&&y.next(te)}))},function(te){d=!1,["DatabaseClosedError","AbortError"].includes(te?.name)||M||su(function(){M||y.error&&y.error(te)})}))};return setTimeout(q,0),L});return g.hasValue=function(){return d},g.getValue=function(){return l},g}var Br=Yn;function $u(a){var l=_r;try{_r=!0,yr.storagemutated.fire(a),ku(a,!0)}finally{_r=l}}v(Br,r(r({},Ze),{delete:function(a){return new Br(a,{addons:[]}).delete()},exists:function(a){return new Br(a,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return l=Br.dependencies,d=l.indexedDB,l=l.IDBKeyRange,(_u(d)?Promise.resolve(d.databases()).then(function(g){return g.map(function(y){return y.name}).filter(function(y){return y!==Xi})}):yu(d,l).toCollection().primaryKeys()).then(a)}catch{return At(new Y.MissingAPI)}var l,d},defineClass:function(){return function(a){c(this,a)}},ignoreTransaction:function(a){return je.trans?Mr(je.transless,a):a()},vip:bu,async:function(a){return function(){try{var l=Cu(a.apply(this,arguments));return l&&typeof l.then=="function"?l:De.resolve(l)}catch(d){return At(d)}}},spawn:function(a,l,d){try{var g=Cu(a.apply(d,l||[]));return g&&typeof g.then=="function"?g:De.resolve(g)}catch(y){return At(y)}},currentTransaction:{get:function(){return je.trans||null}},waitFor:function(a,l){return l=De.resolve(typeof a=="function"?Br.ignoreTransaction(a):a).timeout(l||6e4),je.trans?je.trans.waitFor(l):l},Promise:De,debug:{get:function(){return W},set:function(a){de(a)}},derive:k,extend:c,props:v,override:C,Events:Vo,on:yr,liveQuery:pf,extendObservabilitySet:ls,getByKeyPath:re,setByKeyPath:ae,delByKeyPath:function(a,l){typeof l=="string"?ae(a,l,void 0):"length"in l&&[].map.call(l,function(d){ae(a,d,void 0)})},shallowClone:ue,deepClone:ke,getObjectDiff:Iu,cmp:it,asap:Q,minKey:-1/0,addons:[],connections:uo,errnames:X,dependencies:hs,cache:zr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(a){return parseInt(a)}).reduce(function(a,l,d){return a+l/Math.pow(10,2*d)})})),Br.maxKey=qo(Br.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(yr(Uo,function(a){_r||(a=new CustomEvent(fu,{detail:a}),_r=!0,dispatchEvent(a),_r=!1)}),addEventListener(fu,function(a){a=a.detail,_r||$u(a)}));var ho,_r=!1,gf=function(){};return typeof BroadcastChannel<"u"&&((gf=function(){(ho=new BroadcastChannel(fu)).onmessage=function(a){return a.data&&$u(a.data)}})(),typeof ho.unref=="function"&&ho.unref(),yr(Uo,function(a){_r||ho.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!Yn.disableBfCache&&a.persisted){W&&console.debug("Dexie: handling persisted pagehide"),ho?.close();for(var l=0,d=uo;l<d.length;l++)d[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!Yn.disableBfCache&&a.persisted&&(W&&console.debug("Dexie: handling persisted pageshow"),gf(),$u({all:new Wt(-1/0,[[]])}))})),De.rejectionMapper=function(a,l){return!a||a instanceof Ue||a instanceof TypeError||a instanceof SyntaxError||!a.name||!_e[a.name]?a:(l=new _e[a.name](l||a.message,a),"stack"in a&&w(l,"stack",{get:function(){return this.inner.stack}}),l)},de(W),r(Yn,Object.freeze({__proto__:null,Dexie:Yn,liveQuery:pf,Entity:Lc,cmp:it,PropModification:Zo,replacePrefix:function(a,l){return new Zo({replacePrefix:[a,l]})},add:function(a){return new Zo({add:a})},remove:function(a){return new Zo({remove:a})},default:Yn,RangeSet:Wt,mergeRanges:Yo,rangesOverlap:rf}),{default:Yn}),Yn})})(Hs)),Hs.exports}var Jk=Xk();const Zl=Wk(Jk),ch=Symbol.for("Dexie"),ha=globalThis[ch]||(globalThis[ch]=Zl);if(Zl.semVer!==ha.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Zl.semVer} and ${ha.semVer}`);const{liveQuery:iO,mergeRanges:sO,rangesOverlap:aO,RangeSet:uO,cmp:lO,Entity:cO,PropModification:fO,replacePrefix:dO,add:hO,remove:pO,DexieYProvider:gO}=ha;class Qk extends ha{projects;constructor(){super("streamline-flow-db"),this.version(1).stores({projects:"id, schemaVersion, updatedAt"})}}const pa=new Qk;function fe(e,t,n){function r(u,c){var f;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(f=u._zod).traits??(f.traits=new Set),u._zod.traits.add(e),t(u,c);for(const h in s.prototype)h in u||Object.defineProperty(u,h,{value:s.prototype[h].bind(u)});u._zod.constr=s,u._zod.def=c}const o=n?.Parent??Object;class i extends o{}Object.defineProperty(i,"name",{value:e});function s(u){var c;const f=n?.Parent?new i:this;r(f,u),(c=f._zod).deferred??(c.deferred=[]);for(const h of f._zod.deferred)h();return f}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:u=>n?.Parent&&u instanceof n.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class To extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Pm extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Tm={};function $r(e){return Tm}function eC(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function Kl(e,t){return typeof t=="bigint"?t.toString():t}function Nc(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function $c(e){return e==null}function Oc(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function tC(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c?.[1]&&(o=Number.parseInt(c[1]))}const i=n>o?n:o,s=Number.parseInt(e.toFixed(i).replace(".","")),u=Number.parseInt(t.toFixed(i).replace(".",""));return s%u/10**i}const fh=Symbol("evaluating");function wt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==fh)return r===void 0&&(r=fh,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function no(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ro(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function dh(e){return JSON.stringify(e)}const Nm="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function ga(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const nC=Nc(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function jo(e){if(ga(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(ga(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function $m(e){return jo(e)?{...e}:Array.isArray(e)?[...e]:e}const rC=new Set(["string","number","symbol"]);function Xa(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ar(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function qe(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function oC(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const iC={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function sC(e,t){const n=e._zod.def,r=ro(e._zod.def,{get shape(){const o={};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(o[i]=n.shape[i])}return no(this,"shape",o),o},checks:[]});return Ar(e,r)}function aC(e,t){const n=e._zod.def,r=ro(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete o[i]}return no(this,"shape",o),o},checks:[]});return Ar(e,r)}function uC(e,t){if(!jo(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=ro(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return no(this,"shape",i),i},checks:[]});return Ar(e,o)}function lC(e,t){if(!jo(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return no(this,"shape",r),r},checks:e._zod.def.checks};return Ar(e,n)}function cC(e,t){const n=ro(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return no(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Ar(e,n)}function fC(e,t,n){const r=ro(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const s in n){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(i[s]=e?new e({type:"optional",innerType:o[s]}):o[s])}else for(const s in o)i[s]=e?new e({type:"optional",innerType:o[s]}):o[s];return no(this,"shape",i),i},checks:[]});return Ar(t,r)}function dC(e,t,n){const r=ro(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const s in n){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(i[s]=new e({type:"nonoptional",innerType:o[s]}))}else for(const s in o)i[s]=new e({type:"nonoptional",innerType:o[s]});return no(this,"shape",i),i},checks:[]});return Ar(t,r)}function _o(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function bo(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ps(e){return typeof e=="string"?e:e?.message}function Or(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=Ps(e.inst?._zod.def?.error?.(e))??Ps(t?.error?.(e))??Ps(n.customError?.(e))??Ps(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Ac(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Bi(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Om=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Kl,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Am=fe("$ZodError",Om),Mm=fe("$ZodError",Om,{Parent:Error});function hC(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function pC(e,t){const n=t||function(i){return i.message},r={_errors:[]},o=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(u=>o({issues:u}));else if(s.code==="invalid_key")o({issues:s.issues});else if(s.code==="invalid_element")o({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let u=r,c=0;for(;c<s.path.length;){const f=s.path[c];c===s.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(s))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return o(e),r}const Mc=e=>(t,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new To;if(s.issues.length){const u=new(o?.Err??e)(s.issues.map(c=>Or(c,i,$r())));throw Nm(u,o?.callee),u}return s.value},Dc=e=>async(t,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){const u=new(o?.Err??e)(s.issues.map(c=>Or(c,i,$r())));throw Nm(u,o?.callee),u}return s.value},Ja=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new To;return i.issues.length?{success:!1,error:new(e??Am)(i.issues.map(s=>Or(s,o,$r())))}:{success:!0,data:i.value}},gC=Ja(Mm),Qa=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(s=>Or(s,o,$r())))}:{success:!0,data:i.value}},mC=Qa(Mm),vC=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Mc(e)(t,n,o)},yC=e=>(t,n,r)=>Mc(e)(t,n,r),_C=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Dc(e)(t,n,o)},bC=e=>async(t,n,r)=>Dc(e)(t,n,r),wC=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ja(e)(t,n,o)},xC=e=>(t,n,r)=>Ja(e)(t,n,r),SC=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Qa(e)(t,n,o)},EC=e=>async(t,n,r)=>Qa(e)(t,n,r),kC=/^[cC][^\s-]{8,}$/,CC=/^[0-9a-z]+$/,IC=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,PC=/^[0-9a-vA-V]{20}$/,TC=/^[A-Za-z0-9]{27}$/,NC=/^[a-zA-Z0-9_-]{21}$/,$C=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,OC=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,hh=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,AC=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,MC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function DC(){return new RegExp(MC,"u")}const RC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,BC=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,FC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jC=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Dm=/^[A-Za-z0-9_-]*$/,HC=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,VC=/^\+(?:[0-9]){6,14}[0-9]$/,Rm="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",LC=new RegExp(`^${Rm}$`);function zm(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ZC(e){return new RegExp(`^${zm(e)}$`)}function KC(e){const t=zm({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Rm}T(?:${r})$`)}const UC=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},qC=/^-?\d+$/,GC=/^-?\d+(?:\.\d+)?/,WC=/^(?:true|false)$/i,YC=/^[^A-Z]*$/,XC=/^[^a-z]*$/,hn=fe("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Bm={number:"number",bigint:"bigint",object:"date"},Fm=fe("$ZodCheckLessThan",(e,t)=>{hn.init(e,t);const n=Bm[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),jm=fe("$ZodCheckGreaterThan",(e,t)=>{hn.init(e,t);const n=Bm[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),JC=fe("$ZodCheckMultipleOf",(e,t)=>{hn.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):tC(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),QC=fe("$ZodCheckNumberFormat",(e,t)=>{hn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[o,i]=iC[t.format];e._zod.onattach.push(s=>{const u=s._zod.bag;u.format=t.format,u.minimum=o,u.maximum=i,n&&(u.pattern=qC)}),e._zod.check=s=>{const u=s.value;if(n){if(!Number.isInteger(u)){s.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?s.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):s.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}u<o&&s.issues.push({origin:"number",input:u,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),u>i&&s.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:e})}}),eI=fe("$ZodCheckMaxLength",(e,t)=>{var n;hn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!$c(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const s=Ac(o);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),tI=fe("$ZodCheckMinLength",(e,t)=>{var n;hn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!$c(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const s=Ac(o);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),nI=fe("$ZodCheckLengthEquals",(e,t)=>{var n;hn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!$c(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,i=o.length;if(i===t.length)return;const s=Ac(o),u=i>t.length;r.issues.push({origin:s,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),eu=fe("$ZodCheckStringFormat",(e,t)=>{var n,r;hn.init(e,t),e._zod.onattach.push(o=>{const i=o._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),rI=fe("$ZodCheckRegex",(e,t)=>{eu.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),oI=fe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=YC),eu.init(e,t)}),iI=fe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=XC),eu.init(e,t)}),sI=fe("$ZodCheckIncludes",(e,t)=>{hn.init(e,t);const n=Xa(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),aI=fe("$ZodCheckStartsWith",(e,t)=>{hn.init(e,t);const n=new RegExp(`^${Xa(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),uI=fe("$ZodCheckEndsWith",(e,t)=>{hn.init(e,t);const n=new RegExp(`.*${Xa(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),lI=fe("$ZodCheckOverwrite",(e,t)=>{hn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class cI{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),o=Math.min(...r.map(s=>s.length-s.trimStart().length)),i=r.map(s=>s.slice(o)).map(s=>" ".repeat(this.indent*2)+s);for(const s of i)this.content.push(s)}compile(){const t=Function,n=this?.args,o=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...n,o.join(`
`))}}const fI={major:4,minor:1,patch:11},Ot=fe("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=fI;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const i of o._zod.onattach)i(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,u,c)=>{let f=_o(s),h;for(const p of u){if(p._zod.def.when){if(!p._zod.def.when(s))continue}else if(f)continue;const v=s.issues.length,m=p._zod.check(s);if(m instanceof Promise&&c?.async===!1)throw new To;if(h||m instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await m,s.issues.length!==v&&(f||(f=_o(s,v)))});else{if(s.issues.length===v)continue;f||(f=_o(s,v))}}return h?h.then(()=>s):s},i=(s,u,c)=>{if(_o(s))return s.aborted=!0,s;const f=o(u,r,c);if(f instanceof Promise){if(c.async===!1)throw new To;return f.then(h=>e._zod.parse(h,c))}return e._zod.parse(f,c)};e._zod.run=(s,u)=>{if(u.skipChecks)return e._zod.parse(s,u);if(u.direction==="backward"){const f=e._zod.parse({value:s.value,issues:[]},{...u,skipChecks:!0});return f instanceof Promise?f.then(h=>i(h,s,u)):i(f,s,u)}const c=e._zod.parse(s,u);if(c instanceof Promise){if(u.async===!1)throw new To;return c.then(f=>o(f,r,u))}return o(c,r,u)}}e["~standard"]={validate:o=>{try{const i=gC(e,o);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return mC(e,o).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),Rc=fe("$ZodString",(e,t)=>{Ot.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??UC(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Ct=fe("$ZodStringFormat",(e,t)=>{eu.init(e,t),Rc.init(e,t)}),dI=fe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=OC),Ct.init(e,t)}),hI=fe("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=hh(r))}else t.pattern??(t.pattern=hh());Ct.init(e,t)}),pI=fe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=AC),Ct.init(e,t)}),gI=fe("$ZodURL",(e,t)=>{Ct.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:HC.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),mI=fe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=DC()),Ct.init(e,t)}),vI=fe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=NC),Ct.init(e,t)}),yI=fe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=kC),Ct.init(e,t)}),_I=fe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=CC),Ct.init(e,t)}),bI=fe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=IC),Ct.init(e,t)}),wI=fe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=PC),Ct.init(e,t)}),xI=fe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=TC),Ct.init(e,t)}),SI=fe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=KC(t)),Ct.init(e,t)}),EI=fe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=LC),Ct.init(e,t)}),kI=fe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=ZC(t)),Ct.init(e,t)}),CI=fe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=$C),Ct.init(e,t)}),II=fe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=RC),Ct.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),PI=fe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=zC),Ct.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),TI=fe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=BC),Ct.init(e,t)}),NI=fe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=FC),Ct.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,i]=r;if(!i)throw new Error;const s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Hm(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const $I=fe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=jC),Ct.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{Hm(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function OI(e){if(!Dm.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Hm(n)}const AI=fe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Dm),Ct.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{OI(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),MI=fe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=VC),Ct.init(e,t)});function DI(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const RI=fe("$ZodJWT",(e,t)=>{Ct.init(e,t),e._zod.check=n=>{DI(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Vm=fe("$ZodNumber",(e,t)=>{Ot.init(e,t),e._zod.pattern=e._zod.bag.pattern??GC,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),n}}),zI=fe("$ZodNumber",(e,t)=>{QC.init(e,t),Vm.init(e,t)}),BI=fe("$ZodBoolean",(e,t)=>{Ot.init(e,t),e._zod.pattern=WC,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),FI=fe("$ZodUnknown",(e,t)=>{Ot.init(e,t),e._zod.parse=n=>n}),jI=fe("$ZodNever",(e,t)=>{Ot.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function ph(e,t,n){e.issues.length&&t.issues.push(...bo(n,e.issues)),t.value[n]=e.value}const HI=fe("$ZodArray",(e,t)=>{Ot.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const i=[];for(let s=0;s<o.length;s++){const u=o[s],c=t.element._zod.run({value:u,issues:[]},r);c instanceof Promise?i.push(c.then(f=>ph(f,n,s))):ph(c,n,s)}return i.length?Promise.all(i).then(()=>n):n}});function ma(e,t,n,r){e.issues.length&&t.issues.push(...bo(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Lm(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=oC(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Zm(e,t,n,r,o,i){const s=[],u=o.keySet,c=o.catchall._zod,f=c.def.type;for(const h of Object.keys(t)){if(u.has(h))continue;if(f==="never"){s.push(h);continue}const p=c.run({value:t[h],issues:[]},r);p instanceof Promise?e.push(p.then(v=>ma(v,n,h,t))):ma(p,n,h,t)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const VI=fe("$ZodObject",(e,t)=>{if(Ot.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...u};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=Nc(()=>Lm(t));wt(e._zod,"propValues",()=>{const u=t.shape,c={};for(const f in u){const h=u[f]._zod;if(h.values){c[f]??(c[f]=new Set);for(const p of h.values)c[f].add(p)}}return c});const o=ga,i=t.catchall;let s;e._zod.parse=(u,c)=>{s??(s=r.value);const f=u.value;if(!o(f))return u.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),u;u.value={};const h=[],p=s.shape;for(const v of s.keys){const w=p[v]._zod.run({value:f[v],issues:[]},c);w instanceof Promise?h.push(w.then(k=>ma(k,u,v,f))):ma(w,u,v,f)}return i?Zm(h,f,u,c,r.value,e):h.length?Promise.all(h).then(()=>u):u}}),LI=fe("$ZodObjectJIT",(e,t)=>{VI.init(e,t);const n=e._zod.parse,r=Nc(()=>Lm(t)),o=v=>{const m=new cI(["shape","payload","ctx"]),w=r.value,k=C=>{const P=dh(C);return`shape[${P}]._zod.run({ value: input[${P}], issues: [] }, ctx)`};m.write("const input = payload.value;");const A=Object.create(null);let O=0;for(const C of w.keys)A[C]=`key_${O++}`;m.write("const newResult = {};");for(const C of w.keys){const P=A[C],Q=dh(C);m.write(`const ${P} = ${k(C)};`),m.write(`
        if (${P}.issues.length) {
          payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Q}, ...iss.path] : [${Q}]
          })));
        }
        
        
        if (${P}.value === undefined) {
          if (${Q} in input) {
            newResult[${Q}] = undefined;
          }
        } else {
          newResult[${Q}] = ${P}.value;
        }
        
      `)}m.write("payload.value = newResult;"),m.write("return payload;");const N=m.compile();return(C,P)=>N(v,C,P)};let i;const s=ga,u=!Tm.jitless,f=u&&nC.value,h=t.catchall;let p;e._zod.parse=(v,m)=>{p??(p=r.value);const w=v.value;return s(w)?u&&f&&m?.async===!1&&m.jitless!==!0?(i||(i=o(t.shape)),v=i(v,m),h?Zm([],w,v,m,p,e):v):n(v,m):(v.issues.push({expected:"object",code:"invalid_type",input:w,inst:e}),v)}});function gh(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const o=e.filter(i=>!_o(i));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(s=>Or(s,r,$r())))}),t)}const ZI=fe("$ZodUnion",(e,t)=>{Ot.init(e,t),wt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),wt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),wt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),wt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>Oc(i.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let s=!1;const u=[];for(const c of t.options){const f=c._zod.run({value:o.value,issues:[]},i);if(f instanceof Promise)u.push(f),s=!0;else{if(f.issues.length===0)return f;u.push(f)}}return s?Promise.all(u).then(c=>gh(c,o,e,i)):gh(u,o,e,i)}}),KI=fe("$ZodIntersection",(e,t)=>{Ot.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,i=t.left._zod.run({value:o,issues:[]},r),s=t.right._zod.run({value:o,issues:[]},r);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([c,f])=>mh(n,c,f)):mh(n,i,s)}});function Ul(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(jo(e)&&jo(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),o={...e,...t};for(const i of r){const s=Ul(e[i],t[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};o[i]=s.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=t[r],s=Ul(o,i);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function mh(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),_o(e))return e;const r=Ul(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const UI=fe("$ZodRecord",(e,t)=>{Ot.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!jo(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const i=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;n.value={};for(const c of s)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){const f=t.valueType._zod.run({value:o[c],issues:[]},r);f instanceof Promise?i.push(f.then(h=>{h.issues.length&&n.issues.push(...bo(c,h.issues)),n.value[c]=h.value})):(f.issues.length&&n.issues.push(...bo(c,f.issues)),n.value[c]=f.value)}let u;for(const c in o)s.has(c)||(u=u??[],u.push(c));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:u})}else{n.value={};for(const s of Reflect.ownKeys(o)){if(s==="__proto__")continue;const u=t.keyType._zod.run({value:s,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(f=>Or(f,r,$r())),input:s,path:[s],inst:e}),n.value[u.value]=u.value;continue}const c=t.valueType._zod.run({value:o[s],issues:[]},r);c instanceof Promise?i.push(c.then(f=>{f.issues.length&&n.issues.push(...bo(s,f.issues)),n.value[u.value]=f.value})):(c.issues.length&&n.issues.push(...bo(s,c.issues)),n.value[u.value]=c.value)}}return i.length?Promise.all(i).then(()=>n):n}}),qI=fe("$ZodEnum",(e,t)=>{Ot.init(e,t);const n=eC(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>rC.has(typeof o)).map(o=>typeof o=="string"?Xa(o):o.toString()).join("|")})$`),e._zod.parse=(o,i)=>{const s=o.value;return r.has(s)||o.issues.push({code:"invalid_value",values:n,input:s,inst:e}),o}}),GI=fe("$ZodTransform",(e,t)=>{Ot.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Pm(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(s=>(n.value=s,n));if(o instanceof Promise)throw new To;return n.value=o,n}});function vh(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const WI=fe("$ZodOptional",(e,t)=>{Ot.init(e,t),e._zod.optin="optional",e._zod.optout="optional",wt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),wt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Oc(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>vh(i,n.value)):vh(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),YI=fe("$ZodNullable",(e,t)=>{Ot.init(e,t),wt(e._zod,"optin",()=>t.innerType._zod.optin),wt(e._zod,"optout",()=>t.innerType._zod.optout),wt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Oc(n.source)}|null)$`):void 0}),wt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),XI=fe("$ZodDefault",(e,t)=>{Ot.init(e,t),e._zod.optin="optional",wt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>yh(i,t)):yh(o,t)}});function yh(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const JI=fe("$ZodPrefault",(e,t)=>{Ot.init(e,t),e._zod.optin="optional",wt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),QI=fe("$ZodNonOptional",(e,t)=>{Ot.init(e,t),wt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>_h(i,e)):_h(o,e)}});function _h(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const eP=fe("$ZodCatch",(e,t)=>{Ot.init(e,t),wt(e._zod,"optin",()=>t.innerType._zod.optin),wt(e._zod,"optout",()=>t.innerType._zod.optout),wt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>Or(s,r,$r()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>Or(i,r,$r()))},input:n.value}),n.issues=[]),n)}}),tP=fe("$ZodPipe",(e,t)=>{Ot.init(e,t),wt(e._zod,"values",()=>t.in._zod.values),wt(e._zod,"optin",()=>t.in._zod.optin),wt(e._zod,"optout",()=>t.out._zod.optout),wt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=t.out._zod.run(n,r);return i instanceof Promise?i.then(s=>Ts(s,t.in,r)):Ts(i,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(i=>Ts(i,t.out,r)):Ts(o,t.out,r)}});function Ts(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const nP=fe("$ZodReadonly",(e,t)=>{Ot.init(e,t),wt(e._zod,"propValues",()=>t.innerType._zod.propValues),wt(e._zod,"values",()=>t.innerType._zod.values),wt(e._zod,"optin",()=>t.innerType._zod.optin),wt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(bh):bh(o)}});function bh(e){return e.value=Object.freeze(e.value),e}const rP=fe("$ZodCustom",(e,t)=>{hn.init(e,t),Ot.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(i=>wh(i,n,r,e));wh(o,n,r,e)}});function wh(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(Bi(o))}}class oP{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function iP(){return new oP}const Ns=iP();function sP(e,t){return new e({type:"string",...qe(t)})}function aP(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...qe(t)})}function xh(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...qe(t)})}function uP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...qe(t)})}function lP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...qe(t)})}function cP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...qe(t)})}function fP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...qe(t)})}function dP(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...qe(t)})}function hP(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...qe(t)})}function pP(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...qe(t)})}function gP(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...qe(t)})}function mP(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...qe(t)})}function vP(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...qe(t)})}function yP(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...qe(t)})}function _P(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...qe(t)})}function bP(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...qe(t)})}function wP(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...qe(t)})}function xP(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...qe(t)})}function SP(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...qe(t)})}function EP(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...qe(t)})}function kP(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...qe(t)})}function CP(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...qe(t)})}function IP(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...qe(t)})}function PP(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...qe(t)})}function TP(e,t){return new e({type:"string",format:"date",check:"string_format",...qe(t)})}function NP(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...qe(t)})}function $P(e,t){return new e({type:"string",format:"duration",check:"string_format",...qe(t)})}function OP(e,t){return new e({type:"number",checks:[],...qe(t)})}function AP(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...qe(t)})}function MP(e,t){return new e({type:"boolean",...qe(t)})}function DP(e){return new e({type:"unknown"})}function RP(e,t){return new e({type:"never",...qe(t)})}function Sh(e,t){return new Fm({check:"less_than",...qe(t),value:e,inclusive:!1})}function sl(e,t){return new Fm({check:"less_than",...qe(t),value:e,inclusive:!0})}function Eh(e,t){return new jm({check:"greater_than",...qe(t),value:e,inclusive:!1})}function al(e,t){return new jm({check:"greater_than",...qe(t),value:e,inclusive:!0})}function kh(e,t){return new JC({check:"multiple_of",...qe(t),value:e})}function Km(e,t){return new eI({check:"max_length",...qe(t),maximum:e})}function va(e,t){return new tI({check:"min_length",...qe(t),minimum:e})}function Um(e,t){return new nI({check:"length_equals",...qe(t),length:e})}function zP(e,t){return new rI({check:"string_format",format:"regex",...qe(t),pattern:e})}function BP(e){return new oI({check:"string_format",format:"lowercase",...qe(e)})}function FP(e){return new iI({check:"string_format",format:"uppercase",...qe(e)})}function jP(e,t){return new sI({check:"string_format",format:"includes",...qe(t),includes:e})}function HP(e,t){return new aI({check:"string_format",format:"starts_with",...qe(t),prefix:e})}function VP(e,t){return new uI({check:"string_format",format:"ends_with",...qe(t),suffix:e})}function Zi(e){return new lI({check:"overwrite",tx:e})}function LP(e){return Zi(t=>t.normalize(e))}function ZP(){return Zi(e=>e.trim())}function KP(){return Zi(e=>e.toLowerCase())}function UP(){return Zi(e=>e.toUpperCase())}function qP(e,t,n){return new e({type:"array",element:t,...qe(n)})}function GP(e,t,n){return new e({type:"custom",check:"custom",fn:t,...qe(n)})}function WP(e){const t=YP(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Bi(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(Bi(o))}},e(n.value,n)));return t}function YP(e,t){const n=new hn({check:"custom",...qe(t)});return n._zod.check=e,n}const XP=fe("ZodISODateTime",(e,t)=>{SI.init(e,t),It.init(e,t)});function JP(e){return PP(XP,e)}const QP=fe("ZodISODate",(e,t)=>{EI.init(e,t),It.init(e,t)});function eT(e){return TP(QP,e)}const tT=fe("ZodISOTime",(e,t)=>{kI.init(e,t),It.init(e,t)});function nT(e){return NP(tT,e)}const rT=fe("ZodISODuration",(e,t)=>{CI.init(e,t),It.init(e,t)});function oT(e){return $P(rT,e)}const iT=(e,t)=>{Am.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>pC(e,n)},flatten:{value:n=>hC(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Kl,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Kl,2)}},isEmpty:{get(){return e.issues.length===0}}})},Sn=fe("ZodError",iT,{Parent:Error}),sT=Mc(Sn),aT=Dc(Sn),uT=Ja(Sn),lT=Qa(Sn),cT=vC(Sn),fT=yC(Sn),dT=_C(Sn),hT=bC(Sn),pT=wC(Sn),gT=xC(Sn),mT=SC(Sn),vT=EC(Sn),Bt=fe("ZodType",(e,t)=>(Ot.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(ro(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>Ar(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>sT(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>uT(e,n,r),e.parseAsync=async(n,r)=>aT(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>lT(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>cT(e,n,r),e.decode=(n,r)=>fT(e,n,r),e.encodeAsync=async(n,r)=>dT(e,n,r),e.decodeAsync=async(n,r)=>hT(e,n,r),e.safeEncode=(n,r)=>pT(e,n,r),e.safeDecode=(n,r)=>gT(e,n,r),e.safeEncodeAsync=async(n,r)=>mT(e,n,r),e.safeDecodeAsync=async(n,r)=>vT(e,n,r),e.refine=(n,r)=>e.check(uN(n,r)),e.superRefine=n=>e.check(lN(n)),e.overwrite=n=>e.check(Zi(n)),e.optional=()=>Ph(e),e.nullable=()=>Th(e),e.nullish=()=>Ph(Th(e)),e.nonoptional=n=>tN(e,n),e.array=()=>Dt(e),e.or=n=>ZT([e,n]),e.and=n=>UT(e,n),e.transform=n=>Nh(e,WT(n)),e.default=n=>JT(e,n),e.prefault=n=>eN(e,n),e.catch=n=>rN(e,n),e.pipe=n=>Nh(e,n),e.readonly=()=>sN(e),e.describe=n=>{const r=e.clone();return Ns.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return Ns.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Ns.get(e);const r=e.clone();return Ns.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),qm=fe("_ZodString",(e,t)=>{Rc.init(e,t),Bt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(zP(...r)),e.includes=(...r)=>e.check(jP(...r)),e.startsWith=(...r)=>e.check(HP(...r)),e.endsWith=(...r)=>e.check(VP(...r)),e.min=(...r)=>e.check(va(...r)),e.max=(...r)=>e.check(Km(...r)),e.length=(...r)=>e.check(Um(...r)),e.nonempty=(...r)=>e.check(va(1,...r)),e.lowercase=r=>e.check(BP(r)),e.uppercase=r=>e.check(FP(r)),e.trim=()=>e.check(ZP()),e.normalize=(...r)=>e.check(LP(...r)),e.toLowerCase=()=>e.check(KP()),e.toUpperCase=()=>e.check(UP())}),yT=fe("ZodString",(e,t)=>{Rc.init(e,t),qm.init(e,t),e.email=n=>e.check(aP(_T,n)),e.url=n=>e.check(dP(bT,n)),e.jwt=n=>e.check(IP(DT,n)),e.emoji=n=>e.check(hP(wT,n)),e.guid=n=>e.check(xh(Ch,n)),e.uuid=n=>e.check(uP($s,n)),e.uuidv4=n=>e.check(lP($s,n)),e.uuidv6=n=>e.check(cP($s,n)),e.uuidv7=n=>e.check(fP($s,n)),e.nanoid=n=>e.check(pP(xT,n)),e.guid=n=>e.check(xh(Ch,n)),e.cuid=n=>e.check(gP(ST,n)),e.cuid2=n=>e.check(mP(ET,n)),e.ulid=n=>e.check(vP(kT,n)),e.base64=n=>e.check(EP(OT,n)),e.base64url=n=>e.check(kP(AT,n)),e.xid=n=>e.check(yP(CT,n)),e.ksuid=n=>e.check(_P(IT,n)),e.ipv4=n=>e.check(bP(PT,n)),e.ipv6=n=>e.check(wP(TT,n)),e.cidrv4=n=>e.check(xP(NT,n)),e.cidrv6=n=>e.check(SP($T,n)),e.e164=n=>e.check(CP(MT,n)),e.datetime=n=>e.check(JP(n)),e.date=n=>e.check(eT(n)),e.time=n=>e.check(nT(n)),e.duration=n=>e.check(oT(n))});function Ke(e){return sP(yT,e)}const It=fe("ZodStringFormat",(e,t)=>{Ct.init(e,t),qm.init(e,t)}),_T=fe("ZodEmail",(e,t)=>{pI.init(e,t),It.init(e,t)}),Ch=fe("ZodGUID",(e,t)=>{dI.init(e,t),It.init(e,t)}),$s=fe("ZodUUID",(e,t)=>{hI.init(e,t),It.init(e,t)}),bT=fe("ZodURL",(e,t)=>{gI.init(e,t),It.init(e,t)}),wT=fe("ZodEmoji",(e,t)=>{mI.init(e,t),It.init(e,t)}),xT=fe("ZodNanoID",(e,t)=>{vI.init(e,t),It.init(e,t)}),ST=fe("ZodCUID",(e,t)=>{yI.init(e,t),It.init(e,t)}),ET=fe("ZodCUID2",(e,t)=>{_I.init(e,t),It.init(e,t)}),kT=fe("ZodULID",(e,t)=>{bI.init(e,t),It.init(e,t)}),CT=fe("ZodXID",(e,t)=>{wI.init(e,t),It.init(e,t)}),IT=fe("ZodKSUID",(e,t)=>{xI.init(e,t),It.init(e,t)}),PT=fe("ZodIPv4",(e,t)=>{II.init(e,t),It.init(e,t)}),TT=fe("ZodIPv6",(e,t)=>{PI.init(e,t),It.init(e,t)}),NT=fe("ZodCIDRv4",(e,t)=>{TI.init(e,t),It.init(e,t)}),$T=fe("ZodCIDRv6",(e,t)=>{NI.init(e,t),It.init(e,t)}),OT=fe("ZodBase64",(e,t)=>{$I.init(e,t),It.init(e,t)}),AT=fe("ZodBase64URL",(e,t)=>{AI.init(e,t),It.init(e,t)}),MT=fe("ZodE164",(e,t)=>{MI.init(e,t),It.init(e,t)}),DT=fe("ZodJWT",(e,t)=>{RI.init(e,t),It.init(e,t)}),Gm=fe("ZodNumber",(e,t)=>{Vm.init(e,t),Bt.init(e,t),e.gt=(r,o)=>e.check(Eh(r,o)),e.gte=(r,o)=>e.check(al(r,o)),e.min=(r,o)=>e.check(al(r,o)),e.lt=(r,o)=>e.check(Sh(r,o)),e.lte=(r,o)=>e.check(sl(r,o)),e.max=(r,o)=>e.check(sl(r,o)),e.int=r=>e.check(Ih(r)),e.safe=r=>e.check(Ih(r)),e.positive=r=>e.check(Eh(0,r)),e.nonnegative=r=>e.check(al(0,r)),e.negative=r=>e.check(Sh(0,r)),e.nonpositive=r=>e.check(sl(0,r)),e.multipleOf=(r,o)=>e.check(kh(r,o)),e.step=(r,o)=>e.check(kh(r,o)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function kt(e){return OP(Gm,e)}const RT=fe("ZodNumberFormat",(e,t)=>{zI.init(e,t),Gm.init(e,t)});function Ih(e){return AP(RT,e)}const zT=fe("ZodBoolean",(e,t)=>{BI.init(e,t),Bt.init(e,t)});function ya(e){return MP(zT,e)}const BT=fe("ZodUnknown",(e,t)=>{FI.init(e,t),Bt.init(e,t)});function ql(){return DP(BT)}const FT=fe("ZodNever",(e,t)=>{jI.init(e,t),Bt.init(e,t)});function jT(e){return RP(FT,e)}const HT=fe("ZodArray",(e,t)=>{HI.init(e,t),Bt.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(va(n,r)),e.nonempty=n=>e.check(va(1,n)),e.max=(n,r)=>e.check(Km(n,r)),e.length=(n,r)=>e.check(Um(n,r)),e.unwrap=()=>e.element});function Dt(e,t){return qP(HT,e,t)}const VT=fe("ZodObject",(e,t)=>{LI.init(e,t),Bt.init(e,t),wt(e,"shape",()=>t.shape),e.keyof=()=>eo(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ql()}),e.loose=()=>e.clone({...e._zod.def,catchall:ql()}),e.strict=()=>e.clone({...e._zod.def,catchall:jT()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>uC(e,n),e.safeExtend=n=>lC(e,n),e.merge=n=>cC(e,n),e.pick=n=>sC(e,n),e.omit=n=>aC(e,n),e.partial=(...n)=>fC(Ym,e,n[0]),e.required=(...n)=>dC(Xm,e,n[0])});function Rt(e,t){const n={type:"object",shape:e??{},...qe(t)};return new VT(n)}const LT=fe("ZodUnion",(e,t)=>{ZI.init(e,t),Bt.init(e,t),e.options=t.options});function ZT(e,t){return new LT({type:"union",options:e,...qe(t)})}const KT=fe("ZodIntersection",(e,t)=>{KI.init(e,t),Bt.init(e,t)});function UT(e,t){return new KT({type:"intersection",left:e,right:t})}const qT=fe("ZodRecord",(e,t)=>{UI.init(e,t),Bt.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Wm(e,t,n){return new qT({type:"record",keyType:e,valueType:t,...qe(n)})}const Gl=fe("ZodEnum",(e,t)=>{qI.init(e,t),Bt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const i={};for(const s of r)if(n.has(s))i[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Gl({...t,checks:[],...qe(o),entries:i})},e.exclude=(r,o)=>{const i={...t.entries};for(const s of r)if(n.has(s))delete i[s];else throw new Error(`Key ${s} not found in enum`);return new Gl({...t,checks:[],...qe(o),entries:i})}});function eo(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Gl({type:"enum",entries:n,...qe(t)})}const GT=fe("ZodTransform",(e,t)=>{GI.init(e,t),Bt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Pm(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Bi(i,n.value,t));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),n.issues.push(Bi(s))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function WT(e){return new GT({type:"transform",transform:e})}const Ym=fe("ZodOptional",(e,t)=>{WI.init(e,t),Bt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ph(e){return new Ym({type:"optional",innerType:e})}const YT=fe("ZodNullable",(e,t)=>{YI.init(e,t),Bt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Th(e){return new YT({type:"nullable",innerType:e})}const XT=fe("ZodDefault",(e,t)=>{XI.init(e,t),Bt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function JT(e,t){return new XT({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():$m(t)}})}const QT=fe("ZodPrefault",(e,t)=>{JI.init(e,t),Bt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function eN(e,t){return new QT({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():$m(t)}})}const Xm=fe("ZodNonOptional",(e,t)=>{QI.init(e,t),Bt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function tN(e,t){return new Xm({type:"nonoptional",innerType:e,...qe(t)})}const nN=fe("ZodCatch",(e,t)=>{eP.init(e,t),Bt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function rN(e,t){return new nN({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const oN=fe("ZodPipe",(e,t)=>{tP.init(e,t),Bt.init(e,t),e.in=t.in,e.out=t.out});function Nh(e,t){return new oN({type:"pipe",in:e,out:t})}const iN=fe("ZodReadonly",(e,t)=>{nP.init(e,t),Bt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sN(e){return new iN({type:"readonly",innerType:e})}const aN=fe("ZodCustom",(e,t)=>{rP.init(e,t),Bt.init(e,t)});function uN(e,t={}){return GP(aN,e,t)}function lN(e){return WP(e)}const cN=Rt({id:Ke().min(1),name:Ke().min(1),symbol:Ke(),baseUnit:Ke().min(1),factor:kt().positive(),dimension:Ke().min(1),aliases:Dt(Ke()).optional()}),fN=Rt({id:Ke().min(1),name:Ke().min(1),defaultUnitId:Ke().min(1).optional(),category:Ke().optional(),precision:kt().int().nonnegative().optional(),aliases:Dt(Ke()).optional()});Rt({id:Ke().min(1),label:Ke().optional(),perCycle:kt(),consumptionChance:kt().min(0).max(1).default(1),unitId:Ke().min(1).optional()});const ul=Rt({id:Ke().optional(),resourceId:Ke().min(1),unitId:Ke().min(1),perCycle:kt().positive().optional()}),dN=Rt({id:Ke().min(1),name:Ke().min(1),defaultUnitId:Ke().min(1).optional(),category:Ke().optional(),precision:kt().optional(),aliases:Dt(Ke()).optional()}),hN=Rt({id:Ke().min(1),type:eo(["smart","producer","consumer"]),name:Ke().min(1),enabled:ya().default(!0),position:Rt({x:kt(),y:kt()}),count:kt().int().min(1).default(1),cycleTime:kt().positive(),mode:eo(["producer","consumer","transformer"]),inputs:Dt(ul),outputs:Dt(Rt({id:Ke().min(1),resourceId:Ke().min(1),unitId:Ke().min(1),perCycle:kt().positive()})),tags:Dt(Ke()).optional(),ui:Rt({width:kt().positive().optional(),height:kt().positive().optional(),zIndex:kt().optional()}).optional(),templateId:Ke().optional(),data:Rt({label:Ke().optional(),direction:Ke().optional(),cycleTime:kt().optional(),resources:Dt(dN).optional(),inputs:Dt(ul).optional(),outputs:Dt(ul).optional(),statusMessages:Dt(Ke()).optional(),statusColor:Ke().optional(),statusTypes:Dt(Ke()).optional()}).optional()}),pN=Rt({id:Ke().min(1),enabled:ya(),type:Ke().optional(),label:Ke().optional(),source:Ke().min(1),target:Ke().min(1),sourceHandle:Ke().min(1),targetHandle:Ke().min(1),waypoints:Dt(Rt({x:kt(),y:kt()})).optional(),data:Wm(Ke(),ql()).optional(),resourceId:Ke().optional()}),gN=Rt({mode:eo(["per_cycle","per_time"]),targetTimeUnitId:Ke().min(1),tolerance:kt().positive()}),mN=Rt({baseTimeUnitId:Ke().min(1),defaultRateDisplay:eo(["per_s","per_min","per_hr"]),resourceDefaultUnits:Wm(Ke(),Ke()).default({}),balancing:gN,ui:Rt({snapToGrid:ya().optional(),gridSize:kt().int().positive().optional(),minimap:ya().optional()}).optional()}),$h=Rt({id:Ke().min(1),name:Ke().min(1),schemaVersion:kt().int(),createdAt:Ke(),updatedAt:Ke(),settings:mN,units:Dt(cN),resources:Dt(fN),nodes:Dt(hN),edges:Dt(pN)});function Oh(e){const n={producer:"producer",consumer:"consumer",source:"producer",sink:"consumer",machine:"transformer"}[e.type]??"transformer",r=(e.data?.inputs??e.inputs??[]).map(i=>({resourceId:i.resourceId,unitId:i.unitId,perCycle:i.perCycle})),o=(e.data?.outputs??e.outputs??[]).map((i,s)=>({id:i.id??`output-${s}-${crypto.randomUUID()}`,resourceId:i.resourceId,unitId:i.unitId,perCycle:i.perCycle}));return{id:e.id,type:e.type??"smart",mode:n,name:e.data?.label??e.name??"Smart Node",enabled:e.enabled??!0,position:e.position??{x:0,y:0},count:e.count??1,cycleTime:e.data?.cycleTime??e.cycleTime??1,inputs:r,outputs:o,tags:e.tags??[],ui:e.ui??{},templateId:e.templateId??void 0,data:{...e.data,resources:e.data?.resources??[],label:e.data?.label??e.name??"Smart"}}}const tu=ng("project",{state:()=>({current:vN(),projectLoaded:!1,flowResults:[],balanceMap:[]}),getters:{nodes:e=>e.current.nodes,edges:e=>e.current.edges,units:e=>e.current.units,resources:e=>e.current.resources,nodeById:e=>t=>e.current.nodes.find(n=>n.id===t)},actions:{async load(e){const t=await pa.projects.get(e);if(console.log("Fetched from Dexie:",t),!t)throw new Error("Project not found");const n={...t,nodes:(t.nodes??[]).map(Oh)},r=$h.parse(n);this.current=r,this.projectLoaded=!0},async save(){if(!this.current)return;const e=ut(this.current),t=typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e));t.updatedAt=new Date().toISOString(),$h.parse(t),await pa.projects.put(t),this.current=t},upsertNode(e){const t=this.current.nodes.findIndex(n=>n.id===e.id);t===-1?this.current.nodes.push(e):Object.assign(this.current.nodes[t],e)},removeNode(e){this.current.nodes=this.current.nodes.filter(t=>t.id!==e),this.current.edges=this.current.edges.filter(t=>t.source!==e&&t.target!==e)},upsertEdge(e){const t=this.current.edges.findIndex(n=>n.id===e.id);t===-1?this.current.edges.push(e):Object.assign(this.current.edges[t],e)},removeEdge(e){this.current.edges=this.current.edges.filter(t=>t.id!==e)},injectNodes(e){console.log("🔍 Raw injected nodes:",e);const t=e.map(Oh);console.log("🧠 Normalized nodes:",JSON.stringify(t,null,2)),this.current.nodes=t,this.current.edges=[];const n=t.flatMap(o=>o.data?.resources??[]),r=Array.from(new Map(n.map(o=>[o.id,o])).values());console.log("📦 Extracted resources:",r),this.current.resources=r,this.current.units=[],this.projectLoaded=!0,this.validateResourceFlow(),console.log("✅ Project loaded with",t.length,"nodes")},clearNodes(){this.current.nodes=[],this.current.edges=[],this.current.resources=[],this.current.units=[],this.projectLoaded=!1},injectTestEdge(e="water"){const r={id:"test-node",type:"smart",mode:"transformer",name:"Test Node",enabled:!0,position:{x:100,y:100},count:1,cycleTime:1,inputs:[{resourceId:e,unitId:"liters",perCycle:5}],outputs:[{id:"output-0",resourceId:e,unitId:"liters",perCycle:5}],tags:[],ui:{},templateId:void 0,data:{resources:[{id:e,name:"Water",defaultUnitId:"liters"}]}};this.upsertNode(r),this.current.edges.some(i=>i.id==="edge-test")?console.log("⚠️ Edge already exists, skipping injection"):(this.upsertEdge({id:"edge-test",source:"test-node",target:"test-node",sourceHandle:"output-0",targetHandle:"input-0",resourceId:e,enabled:!0}),console.log("🔗 Injected test edge for resource:",e))},validateResourceFlow(){const e=[],t=[];console.log("🚦 Running validateResourceFlow...");for(const n of this.current.nodes)if(n.mode==="consumer"||n.mode==="transformer"){const r=n.inputs??[],o=[];console.log("🔍 Validating node:",n.id,"mode:",n.mode);for(const i of r){const s=this.current.edges.filter(f=>f.target===n.id&&f.resourceId===i.resourceId&&f.enabled);console.log("🧪 Status messages for",n.id,":",o);const u=s.length*(i.perCycle??0),c=u>=(i.perCycle??0);o.push(c?`✅ ${i.resourceId} is sufficiently supplied`:`⚠️ ${i.resourceId} is under-supplied`),e.push({target:n.id,resourceId:i.resourceId,valid:c,message:o[o.length-1]}),t.push({nodeId:n.id,resourceId:i.resourceId,supplied:u,required:i.perCycle??0})}n.data||(n.data={}),n.data.statusMessages=o,n.data.statusColor=o.every(i=>i.startsWith("✅"))?"#4caf50":"#f44336",n.data.statusTypes=o.map(i=>i.includes("under")?"under:"+i.split(" ")[1]:i.includes("sufficiently")?"exact:"+i.split(" ")[1]:"missing:"+i.split(" ")[1]),console.log("✅ Final node data:",n.id,n.data)}this.flowResults=e,this.balanceMap=t}}});function vN(){return{id:"new-project",name:"Untitled Project",schemaVersion:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),settings:{baseTimeUnitId:"s",defaultRateDisplay:"per_s",resourceDefaultUnits:{},balancing:{mode:"per_cycle",targetTimeUnitId:"s",tolerance:.01},ui:{snapToGrid:!0,gridSize:20,minimap:!0}},nodes:[],edges:[],resources:[],units:[]}}const yN={},_N={class:"logo-wrapper"};function bN(e,t){const n=Oa("RouterLink");return Te(),He("div",_N,[st(n,{to:"/",class:"logo-link"},{default:No(()=>[...t[0]||(t[0]=[me("h1",{class:"logo-text"},"Streamline Flow",-1)])]),_:1})])}const wN=yn(yN,[["render",bN],["__scopeId","data-v-8c8ddcc4"]]),xN={class:"links-wrapper"},SN={class:"list"},EN={href:"https://github.com/dos54/Streamline",target:"_blank",rel:"noopener","aria-label":"GitHub (Opens in new tab)",class:"link"},kN=["src"],CN=nt({__name:"OverlayLinks",setup(e){const t="/Streamline/";return(n,r)=>(Te(),He("div",xN,[me("ul",SN,[me("li",null,[me("a",EN,[me("img",{class:"github-link-image",src:Ce(t)+"images/icons/github/github-mark.svg",alt:""},null,8,kN)])])])]))}}),IN=yn(CN,[["__scopeId","data-v-c4a7cb59"]]),Jm=ng("ui",()=>{const e=Vs.currentRoute,t=lt(!1);rt(e,o=>{t.value=o.query.settings==="1"},{immediate:!0}),rt(t,o=>{const i={...e.value.query};o?i.settings="1":delete i.settings,e.value.query.settings==="1"==o&&(o?Vs.push({query:i}):Vs.replace({query:i}))});function n(){t.value=!0}function r(){t.value=!1}return{openSettings:n,closeSettings:r,settingsOpen:t}}),PN={class:"toolbar"},TN=["src"],NN=nt({__name:"EditorToolbar",setup(e){const t=Jm(),n="/Streamline/";return(r,o)=>(Te(),He("div",PN,[me("button",{class:"settings-button",onClick:o[0]||(o[0]=i=>Ce(t).openSettings())},[me("img",{src:Ce(n)+"images/icons/settings-icon.svg",class:"settings-icon",alt:""},null,8,TN)])]))}}),$N=yn(NN,[["__scopeId","data-v-1c56ad1e"]]),ON=nt({__name:"CanvasOverlay",setup(e){const t={"--overlay-bg":"var(--on-bg)","--overlay-border-radius":"var(--radius-lg)","--overlay-border-settings":"var(--border-full-1)"};return(n,r)=>(Te(),He("div",{class:"overlay-root",style:t},[st($N),st(wN),st(IN)]))}}),AN=yn(ON,[["__scopeId","data-v-99df9c6b"]]);let MN=2;function ll(){return`${MN++}`}function Ah(e){return{id:e.id??e.resourceId??"",unitId:e.unitId??"",perCycle:e.perCycle??1,label:e.label??"",consumptionChance:e.consumptionChance??1}}function Qm(){function e(n){n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect="move")}function t(n,r){const o=n.dataTransfer?.getData("application/vueflow");if(!o)return null;const i=JSON.parse(o),s=r({x:n.clientX,y:n.clientY});let u={id:"",position:{x:0,y:0}};if(i.type==="consumer")u={id:`consumer-${ll()}`,type:"consumer",position:s,data:{label:"Smelter",direction:"ltr",inputs:[{id:"power",unitId:"kWh",perCycle:1}],resources:[{id:"power",name:"Electricity",defaultUnitId:"kWh"}]}};else if(i.type==="producer")u={id:`producer-${ll()}`,type:"producer",position:s,data:{label:"Iron Mine",direction:"ltr",cycleTime:5,inputs:[{id:"power",unitId:"kWh",perCycle:.5},{id:"steel",unitId:"kg",perCycle:2}],outputs:[{id:"steel",unitId:"kg",perCycle:1},{id:"power",unitId:"kWh",perCycle:2}],resources:[{id:"power",name:"Electricity",defaultUnitId:"kWh"},{id:"steel",name:"Steel",defaultUnitId:"kg"}]}};else if(i.type==="smart"){const c=i.data?.inputs??[],f=i.data?.outputs??[],h=c.map(Ah),p=f.map(Ah),v=[...h,...p].filter(m=>m.id&&m.unitId).map(m=>({id:m.id,name:m.label||m.id.charAt(0).toUpperCase()+m.id.slice(1),defaultUnitId:m.unitId}));u={id:`smart-${ll()}`,type:"smart",position:s,data:{label:i.data?.label??"SmartNode",direction:i.data?.direction??"ltr",cycleTime:i.data?.cycleTime??1,inputs:h,outputs:p,resources:v}}}return u}return{onDragOver:e,onDrop:t}}const DN={class:"header text-lg font-bold mb-2"},RN={class:"node-type-badge inline-block px-2 py-1 text-xs rounded bg-blue-100 text-blue-800 mb-2"},zN={class:"text-xs text-gray-500 mb-2"},BN={key:0,class:"status-icons flex gap-1 mb-4"},FN=["title"],jN={class:"debug-dropdown mb-4"},HN={class:"text-xs text-gray-500 mb-2"},VN={key:0},LN={class:"border rounded px-2 py-1 text-sm w-full"},ZN=["value"],KN={key:1,class:"text-sm text-gray-500 italic"},UN={key:1,class:"node-warning text-red-600 text-sm mb-4"},qN={class:"timing-section mb-6"},GN={class:"inputs-section"},WN={class:"text-sm font-semibold mb-2"},YN={class:"input-list flex flex-col gap-4"},XN={class:"flex justify-between items-center mb-1"},JN={class:"text-sm font-semibold"},QN=["onClick"],e$=["onUpdate:modelValue","onChange"],t$=["value"],n$={class:"text-xs text-gray-500 mt-1"},r$=["onUpdate:modelValue"],o$=["onUpdate:modelValue"],i$={key:0,class:"text-xs text-red-600 mt-1"},s$={class:"outputs-section"},a$={class:"text-sm font-semibold mb-2"},u$={class:"output-list flex flex-col gap-4"},l$={class:"flex justify-between items-center mb-1"},c$={class:"text-sm font-semibold"},f$=["onClick"],d$=["onUpdate:modelValue","onChange"],h$=["value"],p$=["onUpdate:modelValue"],g$=["onUpdate:modelValue"],m$={key:0,class:"text-xs text-red-600 mt-1"},v$=nt({__name:"SmartNode",props:{id:{},type:{},data:{},project:{},statusTypes:{}},setup(e){function t(N){const C=s.value.find(P=>P.id===N.resourceId);C?.defaultUnitId?(N.unitId=C.defaultUnitId,console.log(`🔄 Autofilled unitId for ${N.resourceId}:`,N.unitId)):console.warn(`⚠️ No matching resource found for ${N.resourceId}`)}const n=e;function r(N){const C=N.split(":")[0];return C==="exact"?"✅":C==="over"?"🔼":C==="under"?"⚠️":C==="missing"?"❌":"❓"}function o(N){const[C,P]=N.split(":");return P?C==="exact"?`✅ ${P} is balanced`:C==="over"?`🔼 ${P} is oversupplied`:C==="under"?`⚠️ ${P} is undersupplied`:C==="missing"?`❌ ${P} is missing`:`❓ Unknown status for ${P}`:"Unknown status"}ln(()=>{const N=n.data?.statusTypes?.includes("error")??!1;console.log("Mounted SmartNode:",n.data?.statusTypes),console.log("❗ Has error status:",N)}),Aa(()=>{console.log("Reactive statusTypes:",n.data.statusTypes)});const i=Ve(()=>{const N=n.data.inputs?.length??0,C=n.data.outputs?.length??0;return n.data.statusTypes===void 0?"Unvalidated":N&&!C?"Consumer":!N&&C?"Producer":N&&C?"Smart":"Unconfigured"});console.log("✅ SmartNode resources:",n.data.resources);const s=Ve(()=>{const N=n.data.resources??[],C=n.project?.resources??[];return(N.length?N:C).map(Q=>({id:Q.id,name:Q.name,defaultUnitId:Q.defaultUnitId??""}))});rt(s,N=>{console.log("🧪 resourceOptions changed:",N)}),console.log("🧪 Initial resourceOptions:",s.value),ln(()=>{n.data.inputs?n.data.inputs=n.data.inputs.map(N=>({resourceId:N.resourceId??"",unitId:N.unitId??"",perCycle:N.perCycle??1})):n.data.inputs=[],n.data.outputs?n.data.outputs=n.data.outputs.map(N=>({resourceId:N.resourceId??"",unitId:N.unitId??"",perCycle:N.perCycle??1,id:N.id??`output-${Math.random().toString(36).slice(2)}`})):n.data.outputs=[]});const u=Ve(()=>n.data?.direction??"ltr"),c=Ve(()=>u.value==="rtl"?"→":"←"),f=Ve(()=>!0),h=Ve({get:()=>n.data?.label??n.data?.name??"Smart",set:N=>n.data.label=N});function p(){console.log("📝 Label updated:",h.value)}function v(){n.data.direction=n.data.direction==="ltr"?"rtl":"ltr",console.log("🔁 Direction toggled to:",n.data.direction)}function m(){const N={resourceId:"",unitId:"",perCycle:1};n.data.inputs||(n.data.inputs=[]),n.data.inputs=[...n.data.inputs,N]}function w(){const N={resourceId:"",unitId:"",perCycle:1};n.data.outputs||(n.data.outputs=[]),n.data.outputs=[...n.data.outputs,N]}function k(N){n.data.inputs&&(n.data.inputs=n.data.inputs.filter((C,P)=>P!==N))}function A(N){n.data.outputs&&(n.data.outputs=n.data.outputs.filter((C,P)=>P!==N))}function O(N){return s.value.find(P=>P.id===N.resourceId)?.defaultUnitId===N.unitId}return(N,C)=>(Te(),He("div",{class:"smart-node w-full max-w-3xl mx-auto p-4 border rounded-md shadow-sm bg-white",style:fn({borderColor:f.value?"#ccc":"#f44336"})},[me("div",DN,_t(n.data.label??"Smart"),1),me("div",RN,_t(i.value),1),me("div",zN," Debug: "+_t(n.data.statusTypes),1),n.statusTypes?.length?(Te(),He("div",BN,[(Te(!0),He(ft,null,bn(n.statusTypes,P=>(Te(),He("span",{key:P,class:gn(["status-icon",P.split(":")[0]]),title:o(P)},_t(r(P)),11,FN))),128))])):zt("",!0),me("div",jN,[C[3]||(C[3]=me("label",{class:"text-sm font-medium block mb-1"},"Test Resource Dropdown",-1)),me("div",HN," Resource count: "+_t(s.value.length),1),s.value&&s.value.length>0?(Te(),He("div",VN,[me("select",LN,[C[2]||(C[2]=me("option",{value:""},"Select resource",-1)),(Te(!0),He(ft,null,bn(s.value,P=>(Te(),He("option",{key:P.id,value:P.id},_t(P.name),9,ZN))),128))])])):(Te(),He("div",KN," ⚠️ No resources available for this node "))]),Rn(me("input",{class:"label-input w-full mb-4 px-3 py-2 border rounded text-sm","onUpdate:modelValue":C[0]||(C[0]=P=>h.value=P),onBlur:p,placeholder:"Enter name"},null,544),[[ii,h.value]]),me("button",{class:"direction-toggle mb-4 text-sm text-blue-600",onClick:v}," Flow: "+_t(u.value)+" "+_t(c.value),1),f.value?zt("",!0):(Te(),He("div",UN," ⚠️ This node has invalid inputs or outputs ")),me("div",qN,[C[4]||(C[4]=me("h3",{class:"text-sm font-semibold mb-1"},"Timing",-1)),Rn(me("input",{"onUpdate:modelValue":C[1]||(C[1]=P=>n.data.cycleTime=P),type:"number",placeholder:"Cycle Time (s)",min:"0",step:"0.1",class:"w-full px-3 py-2 border rounded text-sm"},null,512),[[ii,n.data.cycleTime,void 0,{number:!0}]])]),me("div",{class:gn(["io-wrapper flex flex-col gap-6",u.value])},[me("div",GN,[me("h3",WN,_t(u.value==="rtl"?"Inputs →":"← Inputs"),1),me("div",YN,[(Te(!0),He(ft,null,bn(n.data.inputs,(P,Q)=>(Te(),He("div",{key:Q,class:"input-row p-4 border rounded-md bg-gray-50 relative"},[me("div",XN,[me("label",JN,"Input "+_t(Q+1),1),me("button",{onClick:re=>k(Q),class:"text-xs text-red-600 hover:underline"},"Remove",8,QN)]),st(Ce(Fo),{type:"target",id:`input-${Q}`,position:Ce(Le).Left,class:"absolute top-2 left-[-6px] w-[10px] h-[10px] bg-gray-600 rounded-full"},null,8,["id","position"]),Rn(me("select",{"onUpdate:modelValue":re=>P.resourceId=re,onChange:re=>t(P),class:"px-2 py-1 border rounded text-sm w-full"},[C[5]||(C[5]=me("option",{value:""},"Select resource",-1)),(Te(!0),He(ft,null,bn(s.value,re=>(Te(),He("option",{key:re.id,value:re.id},_t(re.name),9,t$))),128))],40,e$),[[_s,P.resourceId]]),me("div",n$," Bound resourceId: "+_t(P.resourceId),1),Rn(me("select",{"onUpdate:modelValue":re=>P.unitId=re,class:gn([{"auto-filled":O(P)},"px-2 py-1 border rounded text-sm"])},[...C[6]||(C[6]=[me("option",{value:""},"Select unit",-1),me("option",{value:"kg"},"kg",-1),me("option",{value:"kWh"},"kWh",-1),me("option",{value:"liters"},"liters",-1)])],10,r$),[[_s,P.unitId]]),Rn(me("input",{type:"number","onUpdate:modelValue":re=>P.perCycle=re,min:"0",step:"0.1",placeholder:"perCycle",class:"px-2 py-1 border rounded text-sm w-24"},null,8,o$),[[ii,P.perCycle,void 0,{number:!0}]]),!P.resourceId||(P.perCycle??0)<=0?(Te(),He("div",i$," ⚠️ Resource and perCycle required ")):zt("",!0)]))),128))]),me("button",{onClick:m,class:"add-button mt-4 text-sm text-blue-600"},"+ Add Input")]),me("div",s$,[me("h3",a$,_t(u.value==="rtl"?"← Outputs":"Outputs →"),1),me("div",u$,[(Te(!0),He(ft,null,bn(n.data.outputs,(P,Q)=>(Te(),He("div",{key:Q,class:"output-row p-4 border rounded-md bg-gray-50 relative"},[me("div",l$,[me("label",c$,"Output "+_t(Q+1),1),me("button",{onClick:re=>A(Q),class:"text-xs text-red-600 hover:underline"},"Remove",8,f$)]),st(Ce(Fo),{type:"source",id:`output-${Q}`,position:Ce(Le).Right,class:"absolute top-2 right-[-6px] w-[10px] h-[10px] bg-gray-600 rounded-full"},null,8,["id","position"]),Rn(me("select",{"onUpdate:modelValue":re=>P.resourceId=re,onChange:re=>t(P),class:"px-2 py-1 border rounded text-sm"},[C[7]||(C[7]=me("option",{value:""},"Select resource",-1)),(Te(!0),He(ft,null,bn(s.value,re=>(Te(),He("option",{key:re.id,value:re.id},_t(re.name),9,h$))),128))],40,d$),[[_s,P.resourceId]]),Rn(me("select",{"onUpdate:modelValue":re=>P.unitId=re,class:gn([{"auto-filled":O(P)},"px-2 py-1 border rounded text-sm"])},[...C[8]||(C[8]=[me("option",{value:""},"Select unit",-1),me("option",{value:"kg"},"kg",-1),me("option",{value:"kWh"},"kWh",-1),me("option",{value:"liters"},"liters",-1)])],10,p$),[[_s,P.unitId]]),Rn(me("input",{type:"number","onUpdate:modelValue":re=>P.perCycle=re,min:"0",step:"0.1",placeholder:"perCycle",class:"px-2 py-1 border rounded text-sm w-24"},null,8,g$),[[ii,P.perCycle,void 0,{number:!0}]]),!P.resourceId||(P.perCycle??0)<=0?(Te(),He("div",m$," ⚠️ Missing or invalid output ")):zt("",!0)]))),128))])]),me("button",{onClick:w,class:"add-button mt-4 text-sm text-blue-600"},"+ Add Output")],2)],4))}}),y$=yn(v$,[["__scopeId","data-v-c6cf6edd"]]),cl=nt({__name:"SmartNodeWrapper",props:{id:{},type:{},data:{}},setup(e){const t=tu();return(n,r)=>(Te(),dn(y$,{id:n.id,type:n.type,data:n.data,project:Ce(t),"status-types":n.data.statusTypes},null,8,["id","type","data","project","status-types"]))}}),_$={class:"editor-layout",style:{height:"100vh",width:"100vw",position:"relative"}},b$={class:"canvas-wrapper",style:{height:"100%",width:"100%"}},w$={class:"flow-container fill",style:{height:"100%",width:"100%"}},x$=nt({__name:"CanvasView",setup(e){const t={producer:Vn(cl),consumer:Vn(cl),smart:Vn(cl)},n=tu(),{fitView:r,screenToFlowCoordinate:o}=yt();function i(){requestAnimationFrame(()=>{r({padding:.2})})}function s(m){if(!m.sourceHandle||!m.targetHandle){console.warn("❌ Missing handle IDs in connection:",m);return}const k=n.nodeById(m.source)?.outputs?.find(A=>A.id===m.sourceHandle);if(!k){console.warn("⚠️ Could not find matching output for handle:",m.sourceHandle);return}n.upsertEdge({id:`edge-${Date.now()}`,source:m.source,sourceHandle:m.sourceHandle,target:m.target,targetHandle:m.targetHandle,resourceId:k.resourceId,enabled:!0})}const u=Ve(()=>n.nodes),c=Ve(()=>n.edges);function f(m,w){const k=new Map(m.map(O=>[O.id,O])),A=[];for(const O of w){const N=k.get(O.source),C=k.get(O.target);if(!N||!C)continue;const P=N.data.outputs??[],Q=C.data.inputs??[];for(const re of Q){const ae=P.find(ue=>ue.resourceId===re.resourceId&&ue.unitId===re.unitId&&ue.perCycle>=re.perCycle);A.push({edgeId:O.id,target:O.target,resourceId:re.resourceId,valid:!!ae,message:ae?`✅ ${re.resourceId} is sufficiently supplied`:`⚠️ ${re.resourceId} is missing or under-supplied`})}}return A}const h=Ve(()=>f(u.value,c.value)),p=Ve(()=>n.balanceMap),v=Ve(()=>{const m={};for(const w of u.value){if(w.type!=="smart")continue;const k=p.value.filter(N=>N.nodeId===w.id);if(k.length===0){m[w.id]="missing";continue}let A=0,O=0;for(const N of k)A+=N.supplied,O+=N.required;A===O?m[w.id]="exact":A>O?m[w.id]="over":A<O?m[w.id]="under":m[w.id]="valid"}return m});return Aa(()=>{const m=h.value;for(const w of u.value){if(w.type==="smart"){const k=v.value[w.id];console.log(`🔍 SmartNode ${w.id} balance status:`,k)}if(w.type==="consumer"){const k=m.filter(C=>C.target===w.id),A=k.map(C=>C.message),N=k.every(C=>C.valid)?"#4caf50":"#f44336";w.data.statusMessages=A,w.data.statusColor=N}}for(const w of c.value){const A=m.filter(O=>O.edgeId===w.id).every(O=>O.valid);w.data=w.data||{},w.data.valid=A,w.style={stroke:A?"#4caf50":"#f44336",strokeWidth:2},w.labelStyle={fill:A?"#4caf50":"#f44336",fontWeight:"bold",fontSize:12}}}),(m,w)=>(Te(),He("div",_$,[me("div",b$,[me("div",w$,[st(Ce(jk),{nodes:u.value,edges:c.value,"node-types":t,"zoom-on-scroll":!0,"pan-on-drag":!0,"drag-and-drop":!1,onPaneReady:i,onConnect:s,class:"fill"},{default:No(()=>[st(Ce(qk),{variant:"dots",gap:20,size:1})]),_:1},8,["nodes","edges"]),st(AN)])])]))}}),ev=yn(x$,[["__scopeId","data-v-1995c95d"]]),S$=[{id:"basic",name:"Basic Nodes",nodes:[{id:"producer",type:"producer",name:"Producer",description:"Generates resources with configurable outputs",icon:"⚙️",color:"#4caf50",defaultData:{label:"New Producer",direction:"ltr",cycleTime:1,inputs:[],outputs:[{resourceId:"water",unitId:"liters",perCycle:2}]}},{id:"consumer",type:"consumer",name:"Consumer",description:"Consumes resources with configurable inputs",icon:"🏭",color:"#ff9800",defaultData:{label:"New Consumer",direction:"ltr",inputs:[{resourceId:"steam",unitId:"liters",perCycle:1}]}},{id:"smart-node",type:"smart",name:"Smart Node",description:"A node that transforms inputs into outputs",icon:"⚙️",color:"#2196f3",defaultData:{label:"New SmartNode",direction:"ltr",cycleTime:1,inputs:[{resourceId:"water",unitId:"liters",perCycle:1}],outputs:[{resourceId:"steam",unitId:"liters",perCycle:1}]}}]}],E$={categories:S$},k$={class:"node-sidebar"},C$={class:"node-categories"},I$=["onDragstart"],P$={class:"node-icon"},T$={class:"node-info"},N$={class:"node-title"},$$={class:"node-description"},O$={class:"sidebar-actions"},A$=nt({__name:"NodeSidebar",setup(e){const t=lt({categories:[]});function n(r,o){if(r.dataTransfer){const i={type:o.type,data:o.defaultData};r.dataTransfer.setData("application/vueflow",JSON.stringify(i)),r.dataTransfer.effectAllowed="move",console.log("🎯 Dragging:",JSON.stringify(i,null,2))}}return ln(()=>{console.log("✅ NodeSidebar mounted"),t.value=E$}),(r,o)=>(Te(),He("div",k$,[o[2]||(o[2]=me("div",{class:"sidebar-header"},[me("h3",null,"Node Library")],-1)),me("div",C$,[(Te(!0),He(ft,null,bn(t.value.categories,i=>(Te(),He("div",{key:i.id,class:"category"},[me("h4",null,_t(i.name),1),(Te(!0),He(ft,null,bn(i.nodes,s=>(Te(),He("div",{key:s.id,class:gn(["sidebar-node",s.type]),style:fn({borderLeftColor:s.color}),draggable:!0,onDragstart:u=>n(u,s)},[me("div",P$,_t(s.icon),1),me("div",T$,[me("div",N$,_t(s.name),1),me("div",$$,_t(s.description),1)])],46,I$))),128))]))),128))]),me("div",O$,[me("button",{onClick:o[0]||(o[0]=i=>r.$emit("show-import")),class:"sidebar-button"},"📥 Show Import Panel"),me("button",{onClick:o[1]||(o[1]=i=>r.$emit("reset-canvas")),class:"sidebar-button"},"🧹 Reset Canvas")])]))}}),M$=yn(A$,[["__scopeId","data-v-d374fc8d"]]),D$=nt({__name:"SettingsModal",setup(e){const t=Jm(),{settingsOpen:n}=ib(t);function r(){t.closeSettings()}function o(i){i.key==="Escape"&&r()}return ln(()=>window.addEventListener("keydown",o)),uc(()=>window.removeEventListener("keydown",o)),(i,s)=>(Te(),dn(yy,{to:"body"},[Ce(n)?(Te(),He("div",{key:0,onClick:H_(r,["self"]),class:"backdrop"},[me("div",{class:"modal",role:"dialog","aria-modal":"true","aria-label":"Settings"},[me("header",{class:"modal-header"},[s[0]||(s[0]=me("h2",null,"Settings",-1)),me("button",{class:"icon",onClick:r,"aria-label":"Close"},"✕")]),s[1]||(s[1]=me("section",{class:"modal-body"},[me("p",null,"Here are some settings for you to explore!")],-1)),me("footer",{class:"modal-footer"},[me("button",{class:"close-modal",onClick:r},"Close")])])])):zt("",!0)]))}}),R$=yn(D$,[["__scopeId","data-v-9a8a13fd"]]),Mh=Rt({resourceId:Ke(),unitId:Ke(),perCycle:kt().nonnegative()}),z$=Rt({id:Ke(),name:Ke(),defaultUnitId:Ke().optional()}),B$=Rt({id:Ke(),type:eo(["producer","consumer","transformer"]),position:Rt({x:kt(),y:kt()}),data:Rt({label:Ke(),direction:eo(["ltr","rtl"]),cycleTime:kt().positive().optional(),inputs:Dt(Mh).optional(),outputs:Dt(Mh).optional(),resources:Dt(z$)})});function F$(e){const t=Dt(B$).safeParse(e);return{valid:t.success,errors:t.success?[]:t.error?.issues??[]}}const j$={class:"json-import-wrapper"},H$={class:"json-import"},V$={key:0,style:{color:"green"}},L$={key:1},Z$={style:{color:"red"}},K$={key:2,style:{color:"red","margin-top":"0.5rem"}},U$=nt({__name:"JsonImport",emits:["inject","clear"],setup(e,{emit:t}){const n=t,{fitView:r}=yt(),o=lt(!1),i=lt(""),s=lt(""),u=lt(null);function c(){try{console.log("Raw input:",i.value);const p=JSON.parse(i.value),v=F$(p);u.value=v,v.valid?(s.value="",n("inject",p),setTimeout(()=>{r({padding:.2})},100)):s.value="Validation failed: "+v.errors.map(m=>m.message).join(", ")}catch{s.value="Invalid JSON format",u.value=null}}function f(){console.log("Clear button clicked"),n("clear")}function h(p){const v=p.target.files?.[0];if(!v)return;const m=new FileReader;m.onload=()=>{i.value=m.result},m.readAsText(v)}return(p,v)=>(Te(),He(ft,null,[me("button",{onClick:v[0]||(v[0]=m=>o.value=!o.value),class:"toggle-button"},_t(o.value?"Hide Import Panel":"Show Import Panel"),1),Rn(me("div",j$,[me("div",H$,[v[2]||(v[2]=me("h2",null,"Import Node JSON",-1)),Rn(me("textarea",{"onUpdate:modelValue":v[1]||(v[1]=m=>i.value=m),placeholder:"Paste your JSON here",rows:"10",class:"json-textarea"},null,512),[[ii,i.value]]),me("input",{type:"file",accept:".json",onChange:h},null,32),me("button",{onClick:c},"Validate"),me("button",{onClick:f,class:"btn danger"}," Clear Canvas "),u.value&&u.value.valid?(Te(),He("div",V$," ✅ JSON is valid! ")):zt("",!0),u.value&&!u.value.valid?(Te(),He("div",L$,[me("ul",Z$,[(Te(!0),He(ft,null,bn(u.value.errors,(m,w)=>(Te(),He("li",{key:w},_t(m.message),1))),128))])])):zt("",!0),s.value&&(!u.value||!u.value.valid)?(Te(),He("div",K$,_t(s.value),1)):zt("",!0)])],512),[[E_,o.value]])],64))}}),q$=yn(U$,[["__scopeId","data-v-a396e40f"]]),G$={class:"canvas-container"},W$=nt({__name:"EditorPage",setup(e){ag({title:"Editor"});const t=tu(),n=lt(!1);function r(p){t.injectNodes(p)}function o(){t.clearNodes()}const{addNodes:i,addEdges:s,screenToFlowCoordinate:u}=yt(),{onDragOver:c,onDrop:f}=Qm();function h(p){const v=f(p,u);v&&i([v])}return ln(()=>{}),(p,v)=>(Te(),He("div",{class:"editor-layout",onDragover:v[2]||(v[2]=(...m)=>Ce(c)&&Ce(c)(...m)),onDrop:h},[st(M$,{onShowImport:v[0]||(v[0]=m=>n.value=!0),onResetCanvas:v[1]||(v[1]=m=>Ce(t).clearNodes())}),me("div",G$,[st(ev,{nodes:Ce(t).nodes,edges:Ce(t).edges,onConnect:Ce(s)},null,8,["nodes","edges","onConnect"])]),n.value?(Te(),dn(q$,{key:0,onInject:r,onClear:o})):zt("",!0),st(R$)],32))}}),Y$=yn(W$,[["__scopeId","data-v-aa6ee458"]]),X$={class:"editor-root"},J$=nt({__name:"EditorLayout",setup(e){return ag({titleTemplate:t=>t?`${t} • Streamline Flow`:"Streamline Flow"}),(t,n)=>(Te(),He("div",X$,[st(Ce(bg))]))}}),Q$=yn(J$,[["__scopeId","data-v-08dbd2dd"]]),eO={key:1,class:"loading"},tO=nt({__name:"ProjectView",setup(e){const t=D0(),n=tu(),{addNodes:r,addEdges:o,screenToFlowCoordinate:i}=yt(),{onDragOver:s,onDrop:u}=Qm();function c(p){const v=u(p,i);if(console.log("📦 Dropped node:",v),console.log("🧠 Injected SmartNode resources:",v?.data?.resources),v){const m=f(v);n.upsertNode(m),n.validateResourceFlow()}}function f(p){const v=p.type==="smart"||p.type==="producer"||p.type==="consumer"?p.type:"smart",m=v==="smart"?"transformer":v;return{id:p.id,type:v,name:String(p.data?.label??"Unnamed Node"),enabled:!0,position:p.position,count:1,cycleTime:typeof p.data?.cycleTime=="number"?p.data.cycleTime:1,mode:m,inputs:Array.isArray(p.data?.inputs)?p.data.inputs.map(w=>({resourceId:w.resourceId,unitId:w.unitId,perCycle:w.perCycle})):[],outputs:Array.isArray(p.data?.outputs)?p.data.outputs.map(w=>({id:w.id??w.resourceId,resourceId:w.resourceId,unitId:w.unitId,perCycle:w.perCycle})):[],tags:[],ui:{},data:{resources:p.data?.resources??[],statusMessages:[],statusColor:"#999"}}}function h(p){n.upsertEdge({...p,source:p.source,target:p.target,sourceHandle:"",targetHandle:"",id:"",enabled:!1}),n.validateResourceFlow()}return ln(()=>{const p=typeof t.params.id=="string"?t.params.id:"";if(!p){console.warn("No project ID in route");return}console.log("Loading project with ID:",p),n.load(p)}),Aa(()=>{if(n.projectLoaded){console.log("Project loaded?",!!n.current),console.log("Units:",n.units),console.log("Resources:",n.resources);const p="node-1",v="node-2";console.log("Available nodes:",n.nodes.map(w=>w.id)),n.edges.some(w=>w.id==="edge-1")||(n.edges.push({id:"edge-1",source:p,target:v,sourceHandle:"output-0",targetHandle:"input-0",resourceId:"water",enabled:!0}),console.log("✅ Injected edge between",p,"→",v),n.validateResourceFlow())}}),(p,v)=>Ce(n).current?(Te(),He("div",{key:0,onDragover:v[0]||(v[0]=(...m)=>Ce(s)&&Ce(s)(...m)),onDrop:c},[st(ev,{nodes:Ce(n).nodes,edges:Ce(n).edges,onConnect:h},null,8,["nodes","edges"])],32)):(Te(),He("div",eO,[...v[1]||(v[1]=[me("span",{class:"spinner"},null,-1),me("span",null,"Loading project...",-1)])]))}}),nO=yn(tO,[["__scopeId","data-v-34e9e43d"]]),rO=[{path:"/",component:Q$,children:[{path:"",name:"home",component:Y$}]},{path:"/project/:id",component:nO}],Vs=A0({history:l0("/Streamline/"),routes:rO}),oO=Pb();(async()=>{await pa.projects.clear(),await pa.projects.put({id:"demo-project",name:"Demo Project",schemaVersion:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),settings:{baseTimeUnitId:"s",defaultRateDisplay:"per_s",resourceDefaultUnits:{r1:"u1",r2:"u2"},balancing:{mode:"per_time",targetTimeUnitId:"s",tolerance:.01},ui:{snapToGrid:!0,gridSize:16,minimap:!0}},units:[{id:"u1",name:"Liter",symbol:"L",baseUnit:"L",factor:1,dimension:"volume",aliases:["litre","ℓ"]},{id:"u2",name:"Kilowatt-hour",symbol:"kWh",baseUnit:"Wh",factor:1e3,dimension:"energy",aliases:["kW·h"]}],resources:[{id:"r1",name:"Water",defaultUnitId:"u1"},{id:"r2",name:"Electricity",defaultUnitId:"u2"}],nodes:[],edges:[]});const e=Z_(Ob);e.use(Q_()),e.use(Vs),e.use(oO),e.mount("#app")})();
